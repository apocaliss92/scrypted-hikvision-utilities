{"version":3,"file":"main.nodejs.js","mappings":"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","sources":["../node_modules/@scrypted/sdk/dist/src/index.js","../node_modules/@scrypted/sdk/dist/src/settings-mixin.js","../node_modules/@scrypted/sdk/dist/src/storage-settings.js","../node_modules/@scrypted/sdk/dist/types/gen/index.js","../node_modules/lodash/_DataView.js","../node_modules/lodash/_Hash.js","../node_modules/lodash/_ListCache.js","../node_modules/lodash/_Map.js","../node_modules/lodash/_MapCache.js","../node_modules/lodash/_Promise.js","../node_modules/lodash/_Set.js","../node_modules/lodash/_SetCache.js","../node_modules/lodash/_Stack.js","../node_modules/lodash/_Symbol.js","../node_modules/lodash/_Uint8Array.js","../node_modules/lodash/_WeakMap.js","../node_modules/lodash/_arrayAggregator.js","../node_modules/lodash/_arrayFilter.js","../node_modules/lodash/_arrayLikeKeys.js","../node_modules/lodash/_arrayMap.js","../node_modules/lodash/_arrayPush.js","../node_modules/lodash/_arraySome.js","../node_modules/lodash/_assocIndexOf.js","../node_modules/lodash/_baseAggregator.js","../node_modules/lodash/_baseAssignValue.js","../node_modules/lodash/_baseEach.js","../node_modules/lodash/_baseFor.js","../node_modules/lodash/_baseForOwn.js","../node_modules/lodash/_baseGet.js","../node_modules/lodash/_baseGetAllKeys.js","../node_modules/lodash/_baseGetTag.js","../node_modules/lodash/_baseHasIn.js","../node_modules/lodash/_baseIsArguments.js","../node_modules/lodash/_baseIsEqual.js","../node_modules/lodash/_baseIsEqualDeep.js","../node_modules/lodash/_baseIsMatch.js","../node_modules/lodash/_baseIsNative.js","../node_modules/lodash/_baseIsTypedArray.js","../node_modules/lodash/_baseIteratee.js","../node_modules/lodash/_baseKeys.js","../node_modules/lodash/_baseMatches.js","../node_modules/lodash/_baseMatchesProperty.js","../node_modules/lodash/_baseProperty.js","../node_modules/lodash/_basePropertyDeep.js","../node_modules/lodash/_baseTimes.js","../node_modules/lodash/_baseToString.js","../node_modules/lodash/_baseUnary.js","../node_modules/lodash/_cacheHas.js","../node_modules/lodash/_castPath.js","../node_modules/lodash/_coreJsData.js","../node_modules/lodash/_createAggregator.js","../node_modules/lodash/_createBaseEach.js","../node_modules/lodash/_createBaseFor.js","../node_modules/lodash/_defineProperty.js","../node_modules/lodash/_equalArrays.js","../node_modules/lodash/_equalByTag.js","../node_modules/lodash/_equalObjects.js","../node_modules/lodash/_freeGlobal.js","../node_modules/lodash/_getAllKeys.js","../node_modules/lodash/_getMapData.js","../node_modules/lodash/_getMatchData.js","../node_modules/lodash/_getNative.js","../node_modules/lodash/_getRawTag.js","../node_modules/lodash/_getSymbols.js","../node_modules/lodash/_getTag.js","../node_modules/lodash/_getValue.js","../node_modules/lodash/_hasPath.js","../node_modules/lodash/_hashClear.js","../node_modules/lodash/_hashDelete.js","../node_modules/lodash/_hashGet.js","../node_modules/lodash/_hashHas.js","../node_modules/lodash/_hashSet.js","../node_modules/lodash/_isIndex.js","../node_modules/lodash/_isKey.js","../node_modules/lodash/_isKeyable.js","../node_modules/lodash/_isMasked.js","../node_modules/lodash/_isPrototype.js","../node_modules/lodash/_isStrictComparable.js","../node_modules/lodash/_listCacheClear.js","../node_modules/lodash/_listCacheDelete.js","../node_modules/lodash/_listCacheGet.js","../node_modules/lodash/_listCacheHas.js","../node_modules/lodash/_listCacheSet.js","../node_modules/lodash/_mapCacheClear.js","../node_modules/lodash/_mapCacheDelete.js","../node_modules/lodash/_mapCacheGet.js","../node_modules/lodash/_mapCacheHas.js","../node_modules/lodash/_mapCacheSet.js","../node_modules/lodash/_mapToArray.js","../node_modules/lodash/_matchesStrictComparable.js","../node_modules/lodash/_memoizeCapped.js","../node_modules/lodash/_nativeCreate.js","../node_modules/lodash/_nativeKeys.js","../node_modules/lodash/_nodeUtil.js","../node_modules/lodash/_objectToString.js","../node_modules/lodash/_overArg.js","../node_modules/lodash/_root.js","../node_modules/lodash/_setCacheAdd.js","../node_modules/lodash/_setCacheHas.js","../node_modules/lodash/_setToArray.js","../node_modules/lodash/_stackClear.js","../node_modules/lodash/_stackDelete.js","../node_modules/lodash/_stackGet.js","../node_modules/lodash/_stackHas.js","../node_modules/lodash/_stackSet.js","../node_modules/lodash/_stringToPath.js","../node_modules/lodash/_toKey.js","../node_modules/lodash/_toSource.js","../node_modules/lodash/eq.js","../node_modules/lodash/get.js","../node_modules/lodash/hasIn.js","../node_modules/lodash/identity.js","../node_modules/lodash/isArguments.js","../node_modules/lodash/isArray.js","../node_modules/lodash/isArrayLike.js","../node_modules/lodash/isBuffer.js","../node_modules/lodash/isFunction.js","../node_modules/lodash/isLength.js","../node_modules/lodash/isObject.js","../node_modules/lodash/isObjectLike.js","../node_modules/lodash/isSymbol.js","../node_modules/lodash/isTypedArray.js","../node_modules/lodash/keyBy.js","../node_modules/lodash/keys.js","../node_modules/lodash/memoize.js","../node_modules/lodash/property.js","../node_modules/lodash/stubArray.js","../node_modules/lodash/stubFalse.js","../node_modules/lodash/toString.js","../node_modules/sax/lib/sax.js","../src/cameraMixin.ts","../src/client.ts","../src/main.ts","../src/utils.ts","../../scrypted/common/src/http-auth-fetch.ts","../../scrypted/packages/auth-fetch/src/auth-fetch.ts","../../scrypted/server/src/fetch/http-fetch.ts","../../scrypted/server/src/fetch/index.ts","../node_modules/xml2js/lib/bom.js","../node_modules/xml2js/lib/builder.js","../node_modules/xml2js/lib/defaults.js","../node_modules/xml2js/lib/parser.js","../node_modules/xml2js/lib/processors.js","../node_modules/xml2js/lib/xml2js.js","../node_modules/xmlbuilder/lib/DocumentPosition.js","../node_modules/xmlbuilder/lib/NodeType.js","../node_modules/xmlbuilder/lib/Utility.js","../node_modules/xmlbuilder/lib/WriterState.js","../node_modules/xmlbuilder/lib/XMLAttribute.js","../node_modules/xmlbuilder/lib/XMLCData.js","../node_modules/xmlbuilder/lib/XMLCharacterData.js","../node_modules/xmlbuilder/lib/XMLComment.js","../node_modules/xmlbuilder/lib/XMLDOMConfiguration.js","../node_modules/xmlbuilder/lib/XMLDOMErrorHandler.js","../node_modules/xmlbuilder/lib/XMLDOMImplementation.js","../node_modules/xmlbuilder/lib/XMLDOMStringList.js","../node_modules/xmlbuilder/lib/XMLDTDAttList.js","../node_modules/xmlbuilder/lib/XMLDTDElement.js","../node_modules/xmlbuilder/lib/XMLDTDEntity.js","../node_modules/xmlbuilder/lib/XMLDTDNotation.js","../node_modules/xmlbuilder/lib/XMLDeclaration.js","../node_modules/xmlbuilder/lib/XMLDocType.js","../node_modules/xmlbuilder/lib/XMLDocument.js","../node_modules/xmlbuilder/lib/XMLDocumentCB.js","../node_modules/xmlbuilder/lib/XMLDummy.js","../node_modules/xmlbuilder/lib/XMLElement.js","../node_modules/xmlbuilder/lib/XMLNamedNodeMap.js","../node_modules/xmlbuilder/lib/XMLNode.js","../node_modules/xmlbuilder/lib/XMLNodeList.js","../node_modules/xmlbuilder/lib/XMLProcessingInstruction.js","../node_modules/xmlbuilder/lib/XMLRaw.js","../node_modules/xmlbuilder/lib/XMLStreamWriter.js","../node_modules/xmlbuilder/lib/XMLStringWriter.js","../node_modules/xmlbuilder/lib/XMLStringifier.js","../node_modules/xmlbuilder/lib/XMLText.js","../node_modules/xmlbuilder/lib/XMLWriterBase.js","../node_modules/xmlbuilder/lib/index.js","../../scrypted/server/node_modules/debug/src/browser.js","../../scrypted/server/node_modules/debug/src/common.js","../../scrypted/server/node_modules/debug/src/index.js","../../scrypted/server/node_modules/debug/src/node.js","../../scrypted/server/node_modules/follow-redirects/debug.js","../../scrypted/server/node_modules/follow-redirects/index.js","../../scrypted/server/node_modules/ms/index.js","../external node-commonjs \"assert\"","../external node-commonjs \"events\"","../external node-commonjs \"http\"","../external node-commonjs \"https\"","../external node-commonjs \"module\"","../external node-commonjs \"stream\"","../external node-commonjs \"string_decoder\"","../external node-commonjs \"timers\"","../external node-commonjs \"tty\"","../external node-commonjs \"url\"","../external node-commonjs \"util\"","../external node-commonjs \"os\"","../../scrypted/packages/auth-fetch/node_modules/yerror/dist/index.js","../../scrypted/packages/auth-fetch/node_modules/http-auth-utils/dist/utils.js","../../scrypted/packages/auth-fetch/node_modules/http-auth-utils/dist/mechanisms/basic.js","../external node-commonjs \"crypto\"","../../scrypted/packages/auth-fetch/node_modules/http-auth-utils/dist/mechanisms/digest.js","../../scrypted/packages/auth-fetch/node_modules/http-auth-utils/dist/mechanisms/bearer.js","../../scrypted/packages/auth-fetch/node_modules/http-auth-utils/dist/index.js","../webpack/bootstrap","../webpack/runtime/define property getters","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/node module decorator","../webpack/startup"],"sourcesContent":["\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.sdk = exports.MixinDeviceBase = exports.ScryptedDeviceBase = void 0;\n__exportStar(require(\"../types/gen/index\"), exports);\nconst index_1 = require(\"../types/gen/index\");\nconst module_1 = require(\"module\");\n/**\n * @category Core Reference\n */\nclass ScryptedDeviceBase extends index_1.DeviceBase {\n    constructor(nativeId) {\n        super();\n        this.nativeId = nativeId;\n    }\n    get storage() {\n        if (!this._storage) {\n            this._storage = exports.sdk.deviceManager.getDeviceStorage(this.nativeId);\n        }\n        return this._storage;\n    }\n    get log() {\n        if (!this._log) {\n            this._log = exports.sdk.deviceManager.getDeviceLogger(this.nativeId);\n        }\n        return this._log;\n    }\n    get console() {\n        if (!this._console) {\n            this._console = exports.sdk.deviceManager.getDeviceConsole(this.nativeId);\n        }\n        return this._console;\n    }\n    async createMediaObject(data, mimeType) {\n        return exports.sdk.mediaManager.createMediaObject(data, mimeType, {\n            sourceId: this.id,\n        });\n    }\n    getMediaObjectConsole(mediaObject) {\n        if (typeof mediaObject.sourceId !== 'string')\n            return this.console;\n        return exports.sdk.deviceManager.getMixinConsole(mediaObject.sourceId, this.nativeId);\n    }\n    _lazyLoadDeviceState() {\n        if (!this._deviceState) {\n            if (this.nativeId) {\n                this._deviceState = exports.sdk.deviceManager.getDeviceState(this.nativeId);\n            }\n            else {\n                this._deviceState = exports.sdk.deviceManager.getDeviceState();\n            }\n        }\n    }\n    /**\n     * Fire an event for this device.\n     */\n    onDeviceEvent(eventInterface, eventData) {\n        return exports.sdk.deviceManager.onDeviceEvent(this.nativeId, eventInterface, eventData);\n    }\n}\nexports.ScryptedDeviceBase = ScryptedDeviceBase;\n/**\n * @category Mixin Reference\n */\nclass MixinDeviceBase extends index_1.DeviceBase {\n    constructor(options) {\n        super();\n        this._listeners = new Set();\n        this.mixinDevice = options.mixinDevice;\n        this.mixinDeviceInterfaces = options.mixinDeviceInterfaces;\n        this.mixinStorageSuffix = options.mixinStorageSuffix;\n        this._deviceState = options.mixinDeviceState;\n        this.nativeId = exports.sdk.systemManager.getDeviceById(this.id).nativeId;\n        this.mixinProviderNativeId = options.mixinProviderNativeId;\n        // RpcProxy will trap all properties, and the following check/hack will determine\n        // if the device state came from another node worker thread.\n        // This should ultimately be discouraged and warned at some point in the future.\n        if (this._deviceState.__rpcproxy_traps_all_properties && typeof this._deviceState.id === 'string') {\n            this._deviceState = exports.sdk.deviceManager.createDeviceState(this._deviceState.id, this._deviceState.setState);\n        }\n    }\n    get storage() {\n        if (!this._storage) {\n            const mixinStorageSuffix = this.mixinStorageSuffix;\n            const mixinStorageKey = this.id + (mixinStorageSuffix ? ':' + mixinStorageSuffix : '');\n            this._storage = exports.sdk.deviceManager.getMixinStorage(mixinStorageKey, this.mixinProviderNativeId);\n        }\n        return this._storage;\n    }\n    get console() {\n        if (!this._console) {\n            if (exports.sdk.deviceManager.getMixinConsole)\n                this._console = exports.sdk.deviceManager.getMixinConsole(this.id, this.mixinProviderNativeId);\n            else\n                this._console = exports.sdk.deviceManager.getDeviceConsole(this.mixinProviderNativeId);\n        }\n        return this._console;\n    }\n    async createMediaObject(data, mimeType) {\n        return exports.sdk.mediaManager.createMediaObject(data, mimeType, {\n            sourceId: this.id,\n        });\n    }\n    getMediaObjectConsole(mediaObject) {\n        if (typeof mediaObject.sourceId !== 'string')\n            return this.console;\n        return exports.sdk.deviceManager.getMixinConsole(mediaObject.sourceId, this.mixinProviderNativeId);\n    }\n    /**\n     * Fire an event for this device.\n     */\n    onDeviceEvent(eventInterface, eventData) {\n        return exports.sdk.deviceManager.onMixinEvent(this.id, this, eventInterface, eventData);\n    }\n    _lazyLoadDeviceState() {\n    }\n    manageListener(listener) {\n        this._listeners.add(listener);\n    }\n    release() {\n        for (const l of this._listeners) {\n            l.removeListener();\n        }\n    }\n}\nexports.MixinDeviceBase = MixinDeviceBase;\n(function () {\n    function _createGetState(state) {\n        return function () {\n            this._lazyLoadDeviceState();\n            // @ts-ignore: accessing private property\n            return this._deviceState?.[state];\n        };\n    }\n    function _createSetState(state) {\n        return function (value) {\n            this._lazyLoadDeviceState();\n            // @ts-ignore: accessing private property\n            if (!this._deviceState) {\n                console.warn('device state is unavailable. the device must be discovered with deviceManager.onDeviceDiscovered or deviceManager.onDevicesChanged before the state can be set.');\n            }\n            else {\n                // @ts-ignore: accessing private property\n                this._deviceState[state] = value;\n            }\n        };\n    }\n    for (const field of Object.values(index_1.ScryptedInterfaceProperty)) {\n        if (field === index_1.ScryptedInterfaceProperty.nativeId)\n            continue;\n        Object.defineProperty(ScryptedDeviceBase.prototype, field, {\n            set: _createSetState(field),\n            get: _createGetState(field),\n        });\n        Object.defineProperty(MixinDeviceBase.prototype, field, {\n            set: _createSetState(field),\n            get: _createGetState(field),\n        });\n    }\n})();\nexports.sdk = {};\ntry {\n    let loaded = false;\n    if (process.env.SCRYPTED_SDK_MODULE) {\n        try {\n            // @ts-expect-error\n            if (typeof import.meta !== 'undefined') {\n                // @ts-expect-error\n                const require = (0, module_1.createRequire)(import.meta.url);\n                const sdkModule = require(process.env.SCRYPTED_SDK_MODULE);\n                Object.assign(exports.sdk, sdkModule.getScryptedStatic());\n                loaded = true;\n            }\n            else {\n                const sdkModule = require(process.env.SCRYPTED_SDK_MODULE);\n                Object.assign(exports.sdk, sdkModule.getScryptedStatic());\n                loaded = true;\n            }\n        }\n        catch (e) {\n            console.warn(\"failed to load sdk module\", e);\n        }\n    }\n    if (!loaded) {\n        let runtimeAPI;\n        try {\n            runtimeAPI = pluginRuntimeAPI;\n        }\n        catch (e) {\n        }\n        Object.assign(exports.sdk, {\n            log: deviceManager.getDeviceLogger(undefined),\n            deviceManager,\n            endpointManager,\n            mediaManager,\n            systemManager,\n            pluginHostAPI,\n            ...runtimeAPI,\n        });\n    }\n    try {\n        systemManager.setScryptedInterfaceDescriptors?.(index_1.TYPES_VERSION, index_1.ScryptedInterfaceDescriptors)?.catch(() => { });\n    }\n    catch (e) {\n    }\n}\ncatch (e) {\n    console.error('sdk initialization error, import @scrypted/types or use @scrypted/client instead', e);\n}\nexports.default = exports.sdk;\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SettingsMixinDeviceBase = void 0;\nconst _1 = __importStar(require(\".\"));\nconst { deviceManager } = _1.default;\nclass SettingsMixinDeviceBase extends _1.MixinDeviceBase {\n    constructor(options) {\n        super(options);\n        this.settingsGroup = options.group;\n        this.settingsGroupKey = options.groupKey;\n        process.nextTick(() => deviceManager.onMixinEvent(this.id, this, _1.ScryptedInterface.Settings, null));\n    }\n    async getSettings() {\n        const settingsPromise = this.mixinDeviceInterfaces.includes(_1.ScryptedInterface.Settings) ? this.mixinDevice.getSettings() : undefined;\n        const mixinSettingsPromise = this.getMixinSettings();\n        const allSettings = [];\n        try {\n            const settings = (await settingsPromise) || [];\n            allSettings.push(...settings);\n        }\n        catch (e) {\n            const name = this.name;\n            const description = `${name} Extension settings failed to load.`;\n            this.console.error(description, e);\n            allSettings.push({\n                key: Math.random().toString(),\n                title: name,\n                value: 'Settings Error',\n                group: 'Errors',\n                description,\n                readonly: true,\n            });\n        }\n        try {\n            const mixinSettings = (await mixinSettingsPromise) || [];\n            for (const setting of mixinSettings) {\n                setting.group = setting.group || this.settingsGroup;\n                setting.key = this.settingsGroupKey + ':' + setting.key;\n            }\n            allSettings.push(...mixinSettings);\n        }\n        catch (e) {\n            const name = deviceManager.getDeviceState(this.mixinProviderNativeId).name;\n            const description = `${name} Extension settings failed to load.`;\n            this.console.error(description, e);\n            allSettings.push({\n                key: Math.random().toString(),\n                title: name,\n                value: 'Settings Error',\n                group: 'Errors',\n                description,\n                readonly: true,\n            });\n        }\n        return allSettings;\n    }\n    async putSetting(key, value) {\n        const prefix = this.settingsGroupKey + ':';\n        if (!key?.startsWith(prefix)) {\n            return this.mixinDevice.putSetting(key, value);\n        }\n        if (!await this.putMixinSetting(key.substring(prefix.length), value))\n            deviceManager.onMixinEvent(this.id, this, _1.ScryptedInterface.Settings, null);\n    }\n    async release() {\n        await deviceManager.onMixinEvent(this.id, this, _1.ScryptedInterface.Settings, null);\n    }\n}\nexports.SettingsMixinDeviceBase = SettingsMixinDeviceBase;\n//# sourceMappingURL=settings-mixin.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.StorageSettings = void 0;\nconst _1 = __importStar(require(\".\"));\nconst { systemManager } = _1.default;\nfunction parseValue(value, setting, readDefaultValue, rawDevice) {\n    if (value === null || value === undefined) {\n        return readDefaultValue();\n    }\n    const type = setting.multiple ? 'array' : setting.type;\n    if (type === 'boolean') {\n        if (value === 'true')\n            return true;\n        if (value === 'false')\n            return false;\n        return readDefaultValue() || false;\n    }\n    if (type === 'number') {\n        const n = parseFloat(value);\n        if (!isNaN(n))\n            return n;\n        return readDefaultValue() || 0;\n    }\n    if (type === 'integer') {\n        const n = parseInt(value);\n        if (!isNaN(n))\n            return n;\n        return readDefaultValue() || 0;\n    }\n    if (type === 'array') {\n        if (!value)\n            return readDefaultValue() || [];\n        try {\n            return JSON.parse(value);\n        }\n        catch (e) {\n            return readDefaultValue() || [];\n        }\n    }\n    if (type === 'device') {\n        if (rawDevice)\n            return value;\n        return systemManager.getDeviceById(value) || systemManager.getDeviceById(readDefaultValue());\n    }\n    // string type, so check if it is json.\n    if (value && setting.json) {\n        try {\n            return JSON.parse(value);\n        }\n        catch (e) {\n            return readDefaultValue();\n        }\n    }\n    return value || readDefaultValue();\n}\nclass StorageSettings {\n    constructor(device, settings) {\n        this.device = device;\n        this.settings = settings;\n        this.values = {};\n        this.hasValue = {};\n        for (const key of Object.keys(settings)) {\n            const setting = settings[key];\n            const rawGet = () => this.getItem(key);\n            let get;\n            if (setting.type !== 'clippath') {\n                get = rawGet;\n            }\n            else {\n                // maybe need a mapPut. clippath is the only complex type at the moment.\n                get = () => {\n                    try {\n                        return JSON.parse(rawGet());\n                    }\n                    catch (e) {\n                    }\n                };\n            }\n            Object.defineProperty(this.values, key, {\n                get,\n                set: value => this.putSetting(key, value),\n                enumerable: true,\n            });\n            Object.defineProperty(this.hasValue, key, {\n                get: () => this.device.storage.getItem(key) != null,\n                enumerable: true,\n            });\n        }\n    }\n    get keys() {\n        const ret = {};\n        for (const key of Object.keys(this.settings)) {\n            ret[key] = key;\n        }\n        return ret;\n    }\n    async getSettings() {\n        const onGet = await this.options?.onGet?.();\n        const ret = [];\n        for (const [key, setting] of Object.entries(this.settings)) {\n            let s = Object.assign({}, setting);\n            if (onGet?.[key])\n                s = Object.assign(s, onGet[key]);\n            if (s.onGet)\n                s = Object.assign(s, await s.onGet());\n            if (s.hide || await this.options?.hide?.[key]?.())\n                continue;\n            s.key = key;\n            s.value = this.getItemInternal(key, s, true);\n            ret.push(s);\n            delete s.onPut;\n            delete s.onGet;\n            delete s.mapPut;\n            delete s.mapGet;\n        }\n        return ret;\n    }\n    async putSetting(key, value) {\n        const setting = this.settings[key];\n        let oldValue;\n        if (setting)\n            oldValue = this.getItemInternal(key, setting);\n        return this.putSettingInternal(setting, oldValue, key, value);\n    }\n    putSettingInternal(setting, oldValue, key, value) {\n        if (!setting?.noStore) {\n            if (setting?.mapPut)\n                value = setting.mapPut(oldValue, value);\n            // nullish values should be removed, since Storage can't persist them correctly.\n            if (value == null)\n                this.device.storage.removeItem(key);\n            else if (typeof value === 'object')\n                this.device.storage.setItem(key, JSON.stringify(value));\n            else\n                this.device.storage.setItem(key, value?.toString());\n        }\n        setting?.onPut?.(oldValue, value);\n        if (!setting?.hide)\n            this.device.onDeviceEvent(_1.ScryptedInterface.Settings, undefined);\n    }\n    getItemInternal(key, setting, rawDevice) {\n        if (!setting)\n            return this.device.storage.getItem(key);\n        const readDefaultValue = () => {\n            if (setting.persistedDefaultValue != null) {\n                this.putSettingInternal(setting, undefined, key, setting.persistedDefaultValue);\n                return setting.persistedDefaultValue;\n            }\n            return setting.defaultValue;\n        };\n        const ret = parseValue(this.device.storage.getItem(key), setting, readDefaultValue, rawDevice);\n        return setting.mapGet ? setting.mapGet(ret) : ret;\n    }\n    getItem(key) {\n        return this.getItemInternal(key, this.settings[key]);\n    }\n}\nexports.StorageSettings = StorageSettings;\n//# sourceMappingURL=storage-settings.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ScryptedMimeTypes = exports.ScryptedInterface = exports.MediaPlayerState = exports.SecuritySystemObstruction = exports.SecuritySystemMode = exports.AirQuality = exports.AirPurifierMode = exports.AirPurifierStatus = exports.ChargeState = exports.LockState = exports.PanTiltZoomMovement = exports.ThermostatMode = exports.TemperatureUnit = exports.FanMode = exports.HumidityMode = exports.ScryptedDeviceType = exports.ScryptedInterfaceDescriptors = exports.ScryptedInterfaceMethod = exports.ScryptedInterfaceProperty = exports.DeviceBase = exports.TYPES_VERSION = void 0;\nexports.TYPES_VERSION = \"0.3.91\";\nclass DeviceBase {\n}\nexports.DeviceBase = DeviceBase;\nvar ScryptedInterfaceProperty;\n(function (ScryptedInterfaceProperty) {\n    ScryptedInterfaceProperty[\"id\"] = \"id\";\n    ScryptedInterfaceProperty[\"info\"] = \"info\";\n    ScryptedInterfaceProperty[\"interfaces\"] = \"interfaces\";\n    ScryptedInterfaceProperty[\"mixins\"] = \"mixins\";\n    ScryptedInterfaceProperty[\"name\"] = \"name\";\n    ScryptedInterfaceProperty[\"nativeId\"] = \"nativeId\";\n    ScryptedInterfaceProperty[\"pluginId\"] = \"pluginId\";\n    ScryptedInterfaceProperty[\"providedInterfaces\"] = \"providedInterfaces\";\n    ScryptedInterfaceProperty[\"providedName\"] = \"providedName\";\n    ScryptedInterfaceProperty[\"providedRoom\"] = \"providedRoom\";\n    ScryptedInterfaceProperty[\"providedType\"] = \"providedType\";\n    ScryptedInterfaceProperty[\"providerId\"] = \"providerId\";\n    ScryptedInterfaceProperty[\"room\"] = \"room\";\n    ScryptedInterfaceProperty[\"type\"] = \"type\";\n    ScryptedInterfaceProperty[\"scryptedRuntimeArguments\"] = \"scryptedRuntimeArguments\";\n    ScryptedInterfaceProperty[\"on\"] = \"on\";\n    ScryptedInterfaceProperty[\"brightness\"] = \"brightness\";\n    ScryptedInterfaceProperty[\"colorTemperature\"] = \"colorTemperature\";\n    ScryptedInterfaceProperty[\"rgb\"] = \"rgb\";\n    ScryptedInterfaceProperty[\"hsv\"] = \"hsv\";\n    ScryptedInterfaceProperty[\"running\"] = \"running\";\n    ScryptedInterfaceProperty[\"paused\"] = \"paused\";\n    ScryptedInterfaceProperty[\"docked\"] = \"docked\";\n    ScryptedInterfaceProperty[\"temperatureSetting\"] = \"temperatureSetting\";\n    ScryptedInterfaceProperty[\"temperature\"] = \"temperature\";\n    ScryptedInterfaceProperty[\"temperatureUnit\"] = \"temperatureUnit\";\n    ScryptedInterfaceProperty[\"humidity\"] = \"humidity\";\n    ScryptedInterfaceProperty[\"audioVolumes\"] = \"audioVolumes\";\n    ScryptedInterfaceProperty[\"recordingActive\"] = \"recordingActive\";\n    ScryptedInterfaceProperty[\"ptzCapabilities\"] = \"ptzCapabilities\";\n    ScryptedInterfaceProperty[\"lockState\"] = \"lockState\";\n    ScryptedInterfaceProperty[\"entryOpen\"] = \"entryOpen\";\n    ScryptedInterfaceProperty[\"batteryLevel\"] = \"batteryLevel\";\n    ScryptedInterfaceProperty[\"chargeState\"] = \"chargeState\";\n    ScryptedInterfaceProperty[\"online\"] = \"online\";\n    ScryptedInterfaceProperty[\"fromMimeType\"] = \"fromMimeType\";\n    ScryptedInterfaceProperty[\"toMimeType\"] = \"toMimeType\";\n    ScryptedInterfaceProperty[\"converters\"] = \"converters\";\n    ScryptedInterfaceProperty[\"binaryState\"] = \"binaryState\";\n    ScryptedInterfaceProperty[\"tampered\"] = \"tampered\";\n    ScryptedInterfaceProperty[\"powerDetected\"] = \"powerDetected\";\n    ScryptedInterfaceProperty[\"audioDetected\"] = \"audioDetected\";\n    ScryptedInterfaceProperty[\"motionDetected\"] = \"motionDetected\";\n    ScryptedInterfaceProperty[\"ambientLight\"] = \"ambientLight\";\n    ScryptedInterfaceProperty[\"occupied\"] = \"occupied\";\n    ScryptedInterfaceProperty[\"flooded\"] = \"flooded\";\n    ScryptedInterfaceProperty[\"ultraviolet\"] = \"ultraviolet\";\n    ScryptedInterfaceProperty[\"luminance\"] = \"luminance\";\n    ScryptedInterfaceProperty[\"position\"] = \"position\";\n    ScryptedInterfaceProperty[\"securitySystemState\"] = \"securitySystemState\";\n    ScryptedInterfaceProperty[\"pm10Density\"] = \"pm10Density\";\n    ScryptedInterfaceProperty[\"pm25Density\"] = \"pm25Density\";\n    ScryptedInterfaceProperty[\"vocDensity\"] = \"vocDensity\";\n    ScryptedInterfaceProperty[\"noxDensity\"] = \"noxDensity\";\n    ScryptedInterfaceProperty[\"co2ppm\"] = \"co2ppm\";\n    ScryptedInterfaceProperty[\"airQuality\"] = \"airQuality\";\n    ScryptedInterfaceProperty[\"airPurifierState\"] = \"airPurifierState\";\n    ScryptedInterfaceProperty[\"filterChangeIndication\"] = \"filterChangeIndication\";\n    ScryptedInterfaceProperty[\"filterLifeLevel\"] = \"filterLifeLevel\";\n    ScryptedInterfaceProperty[\"humiditySetting\"] = \"humiditySetting\";\n    ScryptedInterfaceProperty[\"fan\"] = \"fan\";\n    ScryptedInterfaceProperty[\"applicationInfo\"] = \"applicationInfo\";\n    ScryptedInterfaceProperty[\"systemDevice\"] = \"systemDevice\";\n})(ScryptedInterfaceProperty || (exports.ScryptedInterfaceProperty = ScryptedInterfaceProperty = {}));\nvar ScryptedInterfaceMethod;\n(function (ScryptedInterfaceMethod) {\n    ScryptedInterfaceMethod[\"listen\"] = \"listen\";\n    ScryptedInterfaceMethod[\"probe\"] = \"probe\";\n    ScryptedInterfaceMethod[\"setMixins\"] = \"setMixins\";\n    ScryptedInterfaceMethod[\"setName\"] = \"setName\";\n    ScryptedInterfaceMethod[\"setRoom\"] = \"setRoom\";\n    ScryptedInterfaceMethod[\"setType\"] = \"setType\";\n    ScryptedInterfaceMethod[\"getPluginJson\"] = \"getPluginJson\";\n    ScryptedInterfaceMethod[\"turnOff\"] = \"turnOff\";\n    ScryptedInterfaceMethod[\"turnOn\"] = \"turnOn\";\n    ScryptedInterfaceMethod[\"setBrightness\"] = \"setBrightness\";\n    ScryptedInterfaceMethod[\"getTemperatureMaxK\"] = \"getTemperatureMaxK\";\n    ScryptedInterfaceMethod[\"getTemperatureMinK\"] = \"getTemperatureMinK\";\n    ScryptedInterfaceMethod[\"setColorTemperature\"] = \"setColorTemperature\";\n    ScryptedInterfaceMethod[\"setRgb\"] = \"setRgb\";\n    ScryptedInterfaceMethod[\"setHsv\"] = \"setHsv\";\n    ScryptedInterfaceMethod[\"sendNotification\"] = \"sendNotification\";\n    ScryptedInterfaceMethod[\"start\"] = \"start\";\n    ScryptedInterfaceMethod[\"stop\"] = \"stop\";\n    ScryptedInterfaceMethod[\"pause\"] = \"pause\";\n    ScryptedInterfaceMethod[\"resume\"] = \"resume\";\n    ScryptedInterfaceMethod[\"dock\"] = \"dock\";\n    ScryptedInterfaceMethod[\"setTemperature\"] = \"setTemperature\";\n    ScryptedInterfaceMethod[\"setTemperatureUnit\"] = \"setTemperatureUnit\";\n    ScryptedInterfaceMethod[\"getPictureOptions\"] = \"getPictureOptions\";\n    ScryptedInterfaceMethod[\"takePicture\"] = \"takePicture\";\n    ScryptedInterfaceMethod[\"getAudioStream\"] = \"getAudioStream\";\n    ScryptedInterfaceMethod[\"setAudioVolumes\"] = \"setAudioVolumes\";\n    ScryptedInterfaceMethod[\"startDisplay\"] = \"startDisplay\";\n    ScryptedInterfaceMethod[\"stopDisplay\"] = \"stopDisplay\";\n    ScryptedInterfaceMethod[\"getVideoStream\"] = \"getVideoStream\";\n    ScryptedInterfaceMethod[\"getVideoStreamOptions\"] = \"getVideoStreamOptions\";\n    ScryptedInterfaceMethod[\"getPrivacyMasks\"] = \"getPrivacyMasks\";\n    ScryptedInterfaceMethod[\"setPrivacyMasks\"] = \"setPrivacyMasks\";\n    ScryptedInterfaceMethod[\"getRecordingStream\"] = \"getRecordingStream\";\n    ScryptedInterfaceMethod[\"getRecordingStreamCurrentTime\"] = \"getRecordingStreamCurrentTime\";\n    ScryptedInterfaceMethod[\"getRecordingStreamOptions\"] = \"getRecordingStreamOptions\";\n    ScryptedInterfaceMethod[\"getRecordingStreamThumbnail\"] = \"getRecordingStreamThumbnail\";\n    ScryptedInterfaceMethod[\"deleteRecordingStream\"] = \"deleteRecordingStream\";\n    ScryptedInterfaceMethod[\"setRecordingActive\"] = \"setRecordingActive\";\n    ScryptedInterfaceMethod[\"ptzCommand\"] = \"ptzCommand\";\n    ScryptedInterfaceMethod[\"getRecordedEvents\"] = \"getRecordedEvents\";\n    ScryptedInterfaceMethod[\"getVideoClip\"] = \"getVideoClip\";\n    ScryptedInterfaceMethod[\"getVideoClips\"] = \"getVideoClips\";\n    ScryptedInterfaceMethod[\"getVideoClipThumbnail\"] = \"getVideoClipThumbnail\";\n    ScryptedInterfaceMethod[\"removeVideoClips\"] = \"removeVideoClips\";\n    ScryptedInterfaceMethod[\"setVideoStreamOptions\"] = \"setVideoStreamOptions\";\n    ScryptedInterfaceMethod[\"startIntercom\"] = \"startIntercom\";\n    ScryptedInterfaceMethod[\"stopIntercom\"] = \"stopIntercom\";\n    ScryptedInterfaceMethod[\"lock\"] = \"lock\";\n    ScryptedInterfaceMethod[\"unlock\"] = \"unlock\";\n    ScryptedInterfaceMethod[\"addPassword\"] = \"addPassword\";\n    ScryptedInterfaceMethod[\"getPasswords\"] = \"getPasswords\";\n    ScryptedInterfaceMethod[\"removePassword\"] = \"removePassword\";\n    ScryptedInterfaceMethod[\"activate\"] = \"activate\";\n    ScryptedInterfaceMethod[\"deactivate\"] = \"deactivate\";\n    ScryptedInterfaceMethod[\"isReversible\"] = \"isReversible\";\n    ScryptedInterfaceMethod[\"closeEntry\"] = \"closeEntry\";\n    ScryptedInterfaceMethod[\"openEntry\"] = \"openEntry\";\n    ScryptedInterfaceMethod[\"getDevice\"] = \"getDevice\";\n    ScryptedInterfaceMethod[\"releaseDevice\"] = \"releaseDevice\";\n    ScryptedInterfaceMethod[\"adoptDevice\"] = \"adoptDevice\";\n    ScryptedInterfaceMethod[\"discoverDevices\"] = \"discoverDevices\";\n    ScryptedInterfaceMethod[\"createDevice\"] = \"createDevice\";\n    ScryptedInterfaceMethod[\"getCreateDeviceSettings\"] = \"getCreateDeviceSettings\";\n    ScryptedInterfaceMethod[\"reboot\"] = \"reboot\";\n    ScryptedInterfaceMethod[\"getRefreshFrequency\"] = \"getRefreshFrequency\";\n    ScryptedInterfaceMethod[\"refresh\"] = \"refresh\";\n    ScryptedInterfaceMethod[\"getMediaStatus\"] = \"getMediaStatus\";\n    ScryptedInterfaceMethod[\"load\"] = \"load\";\n    ScryptedInterfaceMethod[\"seek\"] = \"seek\";\n    ScryptedInterfaceMethod[\"skipNext\"] = \"skipNext\";\n    ScryptedInterfaceMethod[\"skipPrevious\"] = \"skipPrevious\";\n    ScryptedInterfaceMethod[\"convert\"] = \"convert\";\n    ScryptedInterfaceMethod[\"convertMedia\"] = \"convertMedia\";\n    ScryptedInterfaceMethod[\"getSettings\"] = \"getSettings\";\n    ScryptedInterfaceMethod[\"putSetting\"] = \"putSetting\";\n    ScryptedInterfaceMethod[\"armSecuritySystem\"] = \"armSecuritySystem\";\n    ScryptedInterfaceMethod[\"disarmSecuritySystem\"] = \"disarmSecuritySystem\";\n    ScryptedInterfaceMethod[\"setAirPurifierState\"] = \"setAirPurifierState\";\n    ScryptedInterfaceMethod[\"getReadmeMarkdown\"] = \"getReadmeMarkdown\";\n    ScryptedInterfaceMethod[\"getOauthUrl\"] = \"getOauthUrl\";\n    ScryptedInterfaceMethod[\"onOauthCallback\"] = \"onOauthCallback\";\n    ScryptedInterfaceMethod[\"canMixin\"] = \"canMixin\";\n    ScryptedInterfaceMethod[\"getMixin\"] = \"getMixin\";\n    ScryptedInterfaceMethod[\"releaseMixin\"] = \"releaseMixin\";\n    ScryptedInterfaceMethod[\"onRequest\"] = \"onRequest\";\n    ScryptedInterfaceMethod[\"onConnection\"] = \"onConnection\";\n    ScryptedInterfaceMethod[\"onPush\"] = \"onPush\";\n    ScryptedInterfaceMethod[\"run\"] = \"run\";\n    ScryptedInterfaceMethod[\"eval\"] = \"eval\";\n    ScryptedInterfaceMethod[\"loadScripts\"] = \"loadScripts\";\n    ScryptedInterfaceMethod[\"saveScript\"] = \"saveScript\";\n    ScryptedInterfaceMethod[\"forkInterface\"] = \"forkInterface\";\n    ScryptedInterfaceMethod[\"trackObjects\"] = \"trackObjects\";\n    ScryptedInterfaceMethod[\"getDetectionInput\"] = \"getDetectionInput\";\n    ScryptedInterfaceMethod[\"getObjectTypes\"] = \"getObjectTypes\";\n    ScryptedInterfaceMethod[\"detectObjects\"] = \"detectObjects\";\n    ScryptedInterfaceMethod[\"generateObjectDetections\"] = \"generateObjectDetections\";\n    ScryptedInterfaceMethod[\"getDetectionModel\"] = \"getDetectionModel\";\n    ScryptedInterfaceMethod[\"setHumidity\"] = \"setHumidity\";\n    ScryptedInterfaceMethod[\"setFan\"] = \"setFan\";\n    ScryptedInterfaceMethod[\"startRTCSignalingSession\"] = \"startRTCSignalingSession\";\n    ScryptedInterfaceMethod[\"createRTCSignalingSession\"] = \"createRTCSignalingSession\";\n    ScryptedInterfaceMethod[\"getScryptedUserAccessControl\"] = \"getScryptedUserAccessControl\";\n    ScryptedInterfaceMethod[\"generateVideoFrames\"] = \"generateVideoFrames\";\n    ScryptedInterfaceMethod[\"connectStream\"] = \"connectStream\";\n    ScryptedInterfaceMethod[\"getTTYSettings\"] = \"getTTYSettings\";\n})(ScryptedInterfaceMethod || (exports.ScryptedInterfaceMethod = ScryptedInterfaceMethod = {}));\nexports.ScryptedInterfaceDescriptors = {\n    \"ScryptedDevice\": {\n        \"name\": \"ScryptedDevice\",\n        \"methods\": [\n            \"listen\",\n            \"probe\",\n            \"setMixins\",\n            \"setName\",\n            \"setRoom\",\n            \"setType\"\n        ],\n        \"properties\": [\n            \"id\",\n            \"info\",\n            \"interfaces\",\n            \"mixins\",\n            \"name\",\n            \"nativeId\",\n            \"pluginId\",\n            \"providedInterfaces\",\n            \"providedName\",\n            \"providedRoom\",\n            \"providedType\",\n            \"providerId\",\n            \"room\",\n            \"type\"\n        ]\n    },\n    \"ScryptedPlugin\": {\n        \"name\": \"ScryptedPlugin\",\n        \"methods\": [\n            \"getPluginJson\"\n        ],\n        \"properties\": []\n    },\n    \"ScryptedPluginRuntime\": {\n        \"name\": \"ScryptedPluginRuntime\",\n        \"methods\": [],\n        \"properties\": [\n            \"scryptedRuntimeArguments\"\n        ]\n    },\n    \"OnOff\": {\n        \"name\": \"OnOff\",\n        \"methods\": [\n            \"turnOff\",\n            \"turnOn\"\n        ],\n        \"properties\": [\n            \"on\"\n        ]\n    },\n    \"Brightness\": {\n        \"name\": \"Brightness\",\n        \"methods\": [\n            \"setBrightness\"\n        ],\n        \"properties\": [\n            \"brightness\"\n        ]\n    },\n    \"ColorSettingTemperature\": {\n        \"name\": \"ColorSettingTemperature\",\n        \"methods\": [\n            \"getTemperatureMaxK\",\n            \"getTemperatureMinK\",\n            \"setColorTemperature\"\n        ],\n        \"properties\": [\n            \"colorTemperature\"\n        ]\n    },\n    \"ColorSettingRgb\": {\n        \"name\": \"ColorSettingRgb\",\n        \"methods\": [\n            \"setRgb\"\n        ],\n        \"properties\": [\n            \"rgb\"\n        ]\n    },\n    \"ColorSettingHsv\": {\n        \"name\": \"ColorSettingHsv\",\n        \"methods\": [\n            \"setHsv\"\n        ],\n        \"properties\": [\n            \"hsv\"\n        ]\n    },\n    \"Notifier\": {\n        \"name\": \"Notifier\",\n        \"methods\": [\n            \"sendNotification\"\n        ],\n        \"properties\": []\n    },\n    \"StartStop\": {\n        \"name\": \"StartStop\",\n        \"methods\": [\n            \"start\",\n            \"stop\"\n        ],\n        \"properties\": [\n            \"running\"\n        ]\n    },\n    \"Pause\": {\n        \"name\": \"Pause\",\n        \"methods\": [\n            \"pause\",\n            \"resume\"\n        ],\n        \"properties\": [\n            \"paused\"\n        ]\n    },\n    \"Dock\": {\n        \"name\": \"Dock\",\n        \"methods\": [\n            \"dock\"\n        ],\n        \"properties\": [\n            \"docked\"\n        ]\n    },\n    \"TemperatureSetting\": {\n        \"name\": \"TemperatureSetting\",\n        \"methods\": [\n            \"setTemperature\"\n        ],\n        \"properties\": [\n            \"temperatureSetting\"\n        ]\n    },\n    \"Thermometer\": {\n        \"name\": \"Thermometer\",\n        \"methods\": [\n            \"setTemperatureUnit\"\n        ],\n        \"properties\": [\n            \"temperature\",\n            \"temperatureUnit\"\n        ]\n    },\n    \"HumiditySensor\": {\n        \"name\": \"HumiditySensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"humidity\"\n        ]\n    },\n    \"Camera\": {\n        \"name\": \"Camera\",\n        \"methods\": [\n            \"getPictureOptions\",\n            \"takePicture\"\n        ],\n        \"properties\": []\n    },\n    \"Microphone\": {\n        \"name\": \"Microphone\",\n        \"methods\": [\n            \"getAudioStream\"\n        ],\n        \"properties\": []\n    },\n    \"AudioVolumeControl\": {\n        \"name\": \"AudioVolumeControl\",\n        \"methods\": [\n            \"setAudioVolumes\"\n        ],\n        \"properties\": [\n            \"audioVolumes\"\n        ]\n    },\n    \"Display\": {\n        \"name\": \"Display\",\n        \"methods\": [\n            \"startDisplay\",\n            \"stopDisplay\"\n        ],\n        \"properties\": []\n    },\n    \"VideoCamera\": {\n        \"name\": \"VideoCamera\",\n        \"methods\": [\n            \"getVideoStream\",\n            \"getVideoStreamOptions\"\n        ],\n        \"properties\": []\n    },\n    \"VideoCameraMask\": {\n        \"name\": \"VideoCameraMask\",\n        \"methods\": [\n            \"getPrivacyMasks\",\n            \"setPrivacyMasks\"\n        ],\n        \"properties\": []\n    },\n    \"VideoRecorder\": {\n        \"name\": \"VideoRecorder\",\n        \"methods\": [\n            \"getRecordingStream\",\n            \"getRecordingStreamCurrentTime\",\n            \"getRecordingStreamOptions\",\n            \"getRecordingStreamThumbnail\"\n        ],\n        \"properties\": [\n            \"recordingActive\"\n        ]\n    },\n    \"VideoRecorderManagement\": {\n        \"name\": \"VideoRecorderManagement\",\n        \"methods\": [\n            \"deleteRecordingStream\",\n            \"setRecordingActive\"\n        ],\n        \"properties\": []\n    },\n    \"PanTiltZoom\": {\n        \"name\": \"PanTiltZoom\",\n        \"methods\": [\n            \"ptzCommand\"\n        ],\n        \"properties\": [\n            \"ptzCapabilities\"\n        ]\n    },\n    \"EventRecorder\": {\n        \"name\": \"EventRecorder\",\n        \"methods\": [\n            \"getRecordedEvents\"\n        ],\n        \"properties\": []\n    },\n    \"VideoClips\": {\n        \"name\": \"VideoClips\",\n        \"methods\": [\n            \"getVideoClip\",\n            \"getVideoClips\",\n            \"getVideoClipThumbnail\",\n            \"removeVideoClips\"\n        ],\n        \"properties\": []\n    },\n    \"VideoCameraConfiguration\": {\n        \"name\": \"VideoCameraConfiguration\",\n        \"methods\": [\n            \"setVideoStreamOptions\"\n        ],\n        \"properties\": []\n    },\n    \"Intercom\": {\n        \"name\": \"Intercom\",\n        \"methods\": [\n            \"startIntercom\",\n            \"stopIntercom\"\n        ],\n        \"properties\": []\n    },\n    \"Lock\": {\n        \"name\": \"Lock\",\n        \"methods\": [\n            \"lock\",\n            \"unlock\"\n        ],\n        \"properties\": [\n            \"lockState\"\n        ]\n    },\n    \"PasswordStore\": {\n        \"name\": \"PasswordStore\",\n        \"methods\": [\n            \"addPassword\",\n            \"getPasswords\",\n            \"removePassword\"\n        ],\n        \"properties\": []\n    },\n    \"Scene\": {\n        \"name\": \"Scene\",\n        \"methods\": [\n            \"activate\",\n            \"deactivate\",\n            \"isReversible\"\n        ],\n        \"properties\": []\n    },\n    \"Entry\": {\n        \"name\": \"Entry\",\n        \"methods\": [\n            \"closeEntry\",\n            \"openEntry\"\n        ],\n        \"properties\": []\n    },\n    \"EntrySensor\": {\n        \"name\": \"EntrySensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"entryOpen\"\n        ]\n    },\n    \"DeviceProvider\": {\n        \"name\": \"DeviceProvider\",\n        \"methods\": [\n            \"getDevice\",\n            \"releaseDevice\"\n        ],\n        \"properties\": []\n    },\n    \"DeviceDiscovery\": {\n        \"name\": \"DeviceDiscovery\",\n        \"methods\": [\n            \"adoptDevice\",\n            \"discoverDevices\"\n        ],\n        \"properties\": []\n    },\n    \"DeviceCreator\": {\n        \"name\": \"DeviceCreator\",\n        \"methods\": [\n            \"createDevice\",\n            \"getCreateDeviceSettings\"\n        ],\n        \"properties\": []\n    },\n    \"Battery\": {\n        \"name\": \"Battery\",\n        \"methods\": [],\n        \"properties\": [\n            \"batteryLevel\"\n        ]\n    },\n    \"Charger\": {\n        \"name\": \"Charger\",\n        \"methods\": [],\n        \"properties\": [\n            \"chargeState\"\n        ]\n    },\n    \"Reboot\": {\n        \"name\": \"Reboot\",\n        \"methods\": [\n            \"reboot\"\n        ],\n        \"properties\": []\n    },\n    \"Refresh\": {\n        \"name\": \"Refresh\",\n        \"methods\": [\n            \"getRefreshFrequency\",\n            \"refresh\"\n        ],\n        \"properties\": []\n    },\n    \"MediaPlayer\": {\n        \"name\": \"MediaPlayer\",\n        \"methods\": [\n            \"getMediaStatus\",\n            \"load\",\n            \"seek\",\n            \"skipNext\",\n            \"skipPrevious\"\n        ],\n        \"properties\": []\n    },\n    \"Online\": {\n        \"name\": \"Online\",\n        \"methods\": [],\n        \"properties\": [\n            \"online\"\n        ]\n    },\n    \"BufferConverter\": {\n        \"name\": \"BufferConverter\",\n        \"methods\": [\n            \"convert\"\n        ],\n        \"properties\": [\n            \"fromMimeType\",\n            \"toMimeType\"\n        ]\n    },\n    \"MediaConverter\": {\n        \"name\": \"MediaConverter\",\n        \"methods\": [\n            \"convertMedia\"\n        ],\n        \"properties\": [\n            \"converters\"\n        ]\n    },\n    \"Settings\": {\n        \"name\": \"Settings\",\n        \"methods\": [\n            \"getSettings\",\n            \"putSetting\"\n        ],\n        \"properties\": []\n    },\n    \"BinarySensor\": {\n        \"name\": \"BinarySensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"binaryState\"\n        ]\n    },\n    \"TamperSensor\": {\n        \"name\": \"TamperSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"tampered\"\n        ]\n    },\n    \"PowerSensor\": {\n        \"name\": \"PowerSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"powerDetected\"\n        ]\n    },\n    \"AudioSensor\": {\n        \"name\": \"AudioSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"audioDetected\"\n        ]\n    },\n    \"MotionSensor\": {\n        \"name\": \"MotionSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"motionDetected\"\n        ]\n    },\n    \"AmbientLightSensor\": {\n        \"name\": \"AmbientLightSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"ambientLight\"\n        ]\n    },\n    \"OccupancySensor\": {\n        \"name\": \"OccupancySensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"occupied\"\n        ]\n    },\n    \"FloodSensor\": {\n        \"name\": \"FloodSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"flooded\"\n        ]\n    },\n    \"UltravioletSensor\": {\n        \"name\": \"UltravioletSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"ultraviolet\"\n        ]\n    },\n    \"LuminanceSensor\": {\n        \"name\": \"LuminanceSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"luminance\"\n        ]\n    },\n    \"PositionSensor\": {\n        \"name\": \"PositionSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"position\"\n        ]\n    },\n    \"SecuritySystem\": {\n        \"name\": \"SecuritySystem\",\n        \"methods\": [\n            \"armSecuritySystem\",\n            \"disarmSecuritySystem\"\n        ],\n        \"properties\": [\n            \"securitySystemState\"\n        ]\n    },\n    \"PM10Sensor\": {\n        \"name\": \"PM10Sensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"pm10Density\"\n        ]\n    },\n    \"PM25Sensor\": {\n        \"name\": \"PM25Sensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"pm25Density\"\n        ]\n    },\n    \"VOCSensor\": {\n        \"name\": \"VOCSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"vocDensity\"\n        ]\n    },\n    \"NOXSensor\": {\n        \"name\": \"NOXSensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"noxDensity\"\n        ]\n    },\n    \"CO2Sensor\": {\n        \"name\": \"CO2Sensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"co2ppm\"\n        ]\n    },\n    \"AirQualitySensor\": {\n        \"name\": \"AirQualitySensor\",\n        \"methods\": [],\n        \"properties\": [\n            \"airQuality\"\n        ]\n    },\n    \"AirPurifier\": {\n        \"name\": \"AirPurifier\",\n        \"methods\": [\n            \"setAirPurifierState\"\n        ],\n        \"properties\": [\n            \"airPurifierState\"\n        ]\n    },\n    \"FilterMaintenance\": {\n        \"name\": \"FilterMaintenance\",\n        \"methods\": [],\n        \"properties\": [\n            \"filterChangeIndication\",\n            \"filterLifeLevel\"\n        ]\n    },\n    \"Readme\": {\n        \"name\": \"Readme\",\n        \"methods\": [\n            \"getReadmeMarkdown\"\n        ],\n        \"properties\": []\n    },\n    \"OauthClient\": {\n        \"name\": \"OauthClient\",\n        \"methods\": [\n            \"getOauthUrl\",\n            \"onOauthCallback\"\n        ],\n        \"properties\": []\n    },\n    \"MixinProvider\": {\n        \"name\": \"MixinProvider\",\n        \"methods\": [\n            \"canMixin\",\n            \"getMixin\",\n            \"releaseMixin\"\n        ],\n        \"properties\": []\n    },\n    \"HttpRequestHandler\": {\n        \"name\": \"HttpRequestHandler\",\n        \"methods\": [\n            \"onRequest\"\n        ],\n        \"properties\": []\n    },\n    \"EngineIOHandler\": {\n        \"name\": \"EngineIOHandler\",\n        \"methods\": [\n            \"onConnection\"\n        ],\n        \"properties\": []\n    },\n    \"PushHandler\": {\n        \"name\": \"PushHandler\",\n        \"methods\": [\n            \"onPush\"\n        ],\n        \"properties\": []\n    },\n    \"Program\": {\n        \"name\": \"Program\",\n        \"methods\": [\n            \"run\"\n        ],\n        \"properties\": []\n    },\n    \"Scriptable\": {\n        \"name\": \"Scriptable\",\n        \"methods\": [\n            \"eval\",\n            \"loadScripts\",\n            \"saveScript\"\n        ],\n        \"properties\": []\n    },\n    \"ClusterForkInterface\": {\n        \"name\": \"ClusterForkInterface\",\n        \"methods\": [\n            \"forkInterface\"\n        ],\n        \"properties\": []\n    },\n    \"ObjectTracker\": {\n        \"name\": \"ObjectTracker\",\n        \"methods\": [\n            \"trackObjects\"\n        ],\n        \"properties\": []\n    },\n    \"ObjectDetector\": {\n        \"name\": \"ObjectDetector\",\n        \"methods\": [\n            \"getDetectionInput\",\n            \"getObjectTypes\"\n        ],\n        \"properties\": []\n    },\n    \"ObjectDetection\": {\n        \"name\": \"ObjectDetection\",\n        \"methods\": [\n            \"detectObjects\",\n            \"generateObjectDetections\",\n            \"getDetectionModel\"\n        ],\n        \"properties\": []\n    },\n    \"ObjectDetectionPreview\": {\n        \"name\": \"ObjectDetectionPreview\",\n        \"methods\": [],\n        \"properties\": []\n    },\n    \"ObjectDetectionGenerator\": {\n        \"name\": \"ObjectDetectionGenerator\",\n        \"methods\": [],\n        \"properties\": []\n    },\n    \"HumiditySetting\": {\n        \"name\": \"HumiditySetting\",\n        \"methods\": [\n            \"setHumidity\"\n        ],\n        \"properties\": [\n            \"humiditySetting\"\n        ]\n    },\n    \"Fan\": {\n        \"name\": \"Fan\",\n        \"methods\": [\n            \"setFan\"\n        ],\n        \"properties\": [\n            \"fan\"\n        ]\n    },\n    \"RTCSignalingChannel\": {\n        \"name\": \"RTCSignalingChannel\",\n        \"methods\": [\n            \"startRTCSignalingSession\"\n        ],\n        \"properties\": []\n    },\n    \"RTCSignalingClient\": {\n        \"name\": \"RTCSignalingClient\",\n        \"methods\": [\n            \"createRTCSignalingSession\"\n        ],\n        \"properties\": []\n    },\n    \"LauncherApplication\": {\n        \"name\": \"LauncherApplication\",\n        \"methods\": [],\n        \"properties\": [\n            \"applicationInfo\"\n        ]\n    },\n    \"ScryptedUser\": {\n        \"name\": \"ScryptedUser\",\n        \"methods\": [\n            \"getScryptedUserAccessControl\"\n        ],\n        \"properties\": []\n    },\n    \"VideoFrameGenerator\": {\n        \"name\": \"VideoFrameGenerator\",\n        \"methods\": [\n            \"generateVideoFrames\"\n        ],\n        \"properties\": []\n    },\n    \"StreamService\": {\n        \"name\": \"StreamService\",\n        \"methods\": [\n            \"connectStream\"\n        ],\n        \"properties\": []\n    },\n    \"TTY\": {\n        \"name\": \"TTY\",\n        \"methods\": [],\n        \"properties\": []\n    },\n    \"TTYSettings\": {\n        \"name\": \"TTYSettings\",\n        \"methods\": [\n            \"getTTYSettings\"\n        ],\n        \"properties\": []\n    },\n    \"ScryptedSystemDevice\": {\n        \"name\": \"ScryptedSystemDevice\",\n        \"methods\": [],\n        \"properties\": [\n            \"systemDevice\"\n        ]\n    },\n    \"ScryptedDeviceCreator\": {\n        \"name\": \"ScryptedDeviceCreator\",\n        \"methods\": [],\n        \"properties\": []\n    },\n    \"ScryptedSettings\": {\n        \"name\": \"ScryptedSettings\",\n        \"methods\": [],\n        \"properties\": []\n    }\n};\n/**\n * @category Core Reference\n */\nvar ScryptedDeviceType;\n(function (ScryptedDeviceType) {\n    ScryptedDeviceType[\"Builtin\"] = \"Builtin\";\n    ScryptedDeviceType[\"Camera\"] = \"Camera\";\n    ScryptedDeviceType[\"Fan\"] = \"Fan\";\n    ScryptedDeviceType[\"Light\"] = \"Light\";\n    ScryptedDeviceType[\"Switch\"] = \"Switch\";\n    ScryptedDeviceType[\"Outlet\"] = \"Outlet\";\n    ScryptedDeviceType[\"Sensor\"] = \"Sensor\";\n    ScryptedDeviceType[\"Scene\"] = \"Scene\";\n    ScryptedDeviceType[\"Program\"] = \"Program\";\n    ScryptedDeviceType[\"Automation\"] = \"Automation\";\n    ScryptedDeviceType[\"Vacuum\"] = \"Vacuum\";\n    ScryptedDeviceType[\"Notifier\"] = \"Notifier\";\n    ScryptedDeviceType[\"Thermostat\"] = \"Thermostat\";\n    ScryptedDeviceType[\"Lock\"] = \"Lock\";\n    ScryptedDeviceType[\"PasswordControl\"] = \"PasswordControl\";\n    /**\n     * Displays have audio and video output.\n     */\n    ScryptedDeviceType[\"Display\"] = \"Display\";\n    /**\n     * Smart Displays have two way audio and video.\n     */\n    ScryptedDeviceType[\"SmartDisplay\"] = \"SmartDisplay\";\n    ScryptedDeviceType[\"Speaker\"] = \"Speaker\";\n    /**\n     * Smart Speakers have two way audio.\n     */\n    ScryptedDeviceType[\"SmartSpeaker\"] = \"SmartSpeaker\";\n    ScryptedDeviceType[\"Event\"] = \"Event\";\n    ScryptedDeviceType[\"Entry\"] = \"Entry\";\n    ScryptedDeviceType[\"Garage\"] = \"Garage\";\n    ScryptedDeviceType[\"DeviceProvider\"] = \"DeviceProvider\";\n    ScryptedDeviceType[\"DataSource\"] = \"DataSource\";\n    ScryptedDeviceType[\"API\"] = \"API\";\n    ScryptedDeviceType[\"Doorbell\"] = \"Doorbell\";\n    ScryptedDeviceType[\"Irrigation\"] = \"Irrigation\";\n    ScryptedDeviceType[\"Valve\"] = \"Valve\";\n    ScryptedDeviceType[\"Person\"] = \"Person\";\n    ScryptedDeviceType[\"SecuritySystem\"] = \"SecuritySystem\";\n    ScryptedDeviceType[\"WindowCovering\"] = \"WindowCovering\";\n    ScryptedDeviceType[\"Siren\"] = \"Siren\";\n    ScryptedDeviceType[\"AirPurifier\"] = \"AirPurifier\";\n    ScryptedDeviceType[\"Unknown\"] = \"Unknown\";\n})(ScryptedDeviceType || (exports.ScryptedDeviceType = ScryptedDeviceType = {}));\nvar HumidityMode;\n(function (HumidityMode) {\n    HumidityMode[\"Humidify\"] = \"Humidify\";\n    HumidityMode[\"Dehumidify\"] = \"Dehumidify\";\n    HumidityMode[\"Auto\"] = \"Auto\";\n    HumidityMode[\"Off\"] = \"Off\";\n})(HumidityMode || (exports.HumidityMode = HumidityMode = {}));\nvar FanMode;\n(function (FanMode) {\n    FanMode[\"Auto\"] = \"Auto\";\n    FanMode[\"Manual\"] = \"Manual\";\n})(FanMode || (exports.FanMode = FanMode = {}));\nvar TemperatureUnit;\n(function (TemperatureUnit) {\n    TemperatureUnit[\"C\"] = \"C\";\n    TemperatureUnit[\"F\"] = \"F\";\n})(TemperatureUnit || (exports.TemperatureUnit = TemperatureUnit = {}));\nvar ThermostatMode;\n(function (ThermostatMode) {\n    ThermostatMode[\"Off\"] = \"Off\";\n    ThermostatMode[\"Cool\"] = \"Cool\";\n    ThermostatMode[\"Heat\"] = \"Heat\";\n    ThermostatMode[\"HeatCool\"] = \"HeatCool\";\n    ThermostatMode[\"Auto\"] = \"Auto\";\n    ThermostatMode[\"FanOnly\"] = \"FanOnly\";\n    ThermostatMode[\"Purifier\"] = \"Purifier\";\n    ThermostatMode[\"Eco\"] = \"Eco\";\n    ThermostatMode[\"Dry\"] = \"Dry\";\n    ThermostatMode[\"On\"] = \"On\";\n})(ThermostatMode || (exports.ThermostatMode = ThermostatMode = {}));\nvar PanTiltZoomMovement;\n(function (PanTiltZoomMovement) {\n    PanTiltZoomMovement[\"Absolute\"] = \"Absolute\";\n    PanTiltZoomMovement[\"Relative\"] = \"Relative\";\n    PanTiltZoomMovement[\"Continuous\"] = \"Continuous\";\n    PanTiltZoomMovement[\"Preset\"] = \"Preset\";\n    PanTiltZoomMovement[\"Home\"] = \"Home\";\n})(PanTiltZoomMovement || (exports.PanTiltZoomMovement = PanTiltZoomMovement = {}));\nvar LockState;\n(function (LockState) {\n    LockState[\"Locked\"] = \"Locked\";\n    LockState[\"Unlocked\"] = \"Unlocked\";\n    LockState[\"Jammed\"] = \"Jammed\";\n})(LockState || (exports.LockState = LockState = {}));\nvar ChargeState;\n(function (ChargeState) {\n    ChargeState[\"Trickle\"] = \"trickle\";\n    ChargeState[\"Charging\"] = \"charging\";\n    ChargeState[\"NotCharging\"] = \"not-charging\";\n})(ChargeState || (exports.ChargeState = ChargeState = {}));\nvar AirPurifierStatus;\n(function (AirPurifierStatus) {\n    AirPurifierStatus[\"Inactive\"] = \"Inactive\";\n    AirPurifierStatus[\"Idle\"] = \"Idle\";\n    AirPurifierStatus[\"Active\"] = \"Active\";\n    AirPurifierStatus[\"ActiveNightMode\"] = \"ActiveNightMode\";\n})(AirPurifierStatus || (exports.AirPurifierStatus = AirPurifierStatus = {}));\nvar AirPurifierMode;\n(function (AirPurifierMode) {\n    AirPurifierMode[\"Manual\"] = \"Manual\";\n    AirPurifierMode[\"Automatic\"] = \"Automatic\";\n})(AirPurifierMode || (exports.AirPurifierMode = AirPurifierMode = {}));\nvar AirQuality;\n(function (AirQuality) {\n    AirQuality[\"Unknown\"] = \"Unknown\";\n    AirQuality[\"Excellent\"] = \"Excellent\";\n    AirQuality[\"Good\"] = \"Good\";\n    AirQuality[\"Fair\"] = \"Fair\";\n    AirQuality[\"Inferior\"] = \"Inferior\";\n    AirQuality[\"Poor\"] = \"Poor\";\n})(AirQuality || (exports.AirQuality = AirQuality = {}));\nvar SecuritySystemMode;\n(function (SecuritySystemMode) {\n    SecuritySystemMode[\"Disarmed\"] = \"Disarmed\";\n    SecuritySystemMode[\"HomeArmed\"] = \"HomeArmed\";\n    SecuritySystemMode[\"AwayArmed\"] = \"AwayArmed\";\n    SecuritySystemMode[\"NightArmed\"] = \"NightArmed\";\n})(SecuritySystemMode || (exports.SecuritySystemMode = SecuritySystemMode = {}));\nvar SecuritySystemObstruction;\n(function (SecuritySystemObstruction) {\n    SecuritySystemObstruction[\"Sensor\"] = \"Sensor\";\n    SecuritySystemObstruction[\"Occupied\"] = \"Occupied\";\n    SecuritySystemObstruction[\"Time\"] = \"Time\";\n    SecuritySystemObstruction[\"Error\"] = \"Error\";\n})(SecuritySystemObstruction || (exports.SecuritySystemObstruction = SecuritySystemObstruction = {}));\nvar MediaPlayerState;\n(function (MediaPlayerState) {\n    MediaPlayerState[\"Idle\"] = \"Idle\";\n    MediaPlayerState[\"Playing\"] = \"Playing\";\n    MediaPlayerState[\"Paused\"] = \"Paused\";\n    MediaPlayerState[\"Buffering\"] = \"Buffering\";\n})(MediaPlayerState || (exports.MediaPlayerState = MediaPlayerState = {}));\nvar ScryptedInterface;\n(function (ScryptedInterface) {\n    ScryptedInterface[\"ScryptedDevice\"] = \"ScryptedDevice\";\n    ScryptedInterface[\"ScryptedPlugin\"] = \"ScryptedPlugin\";\n    ScryptedInterface[\"ScryptedPluginRuntime\"] = \"ScryptedPluginRuntime\";\n    ScryptedInterface[\"OnOff\"] = \"OnOff\";\n    ScryptedInterface[\"Brightness\"] = \"Brightness\";\n    ScryptedInterface[\"ColorSettingTemperature\"] = \"ColorSettingTemperature\";\n    ScryptedInterface[\"ColorSettingRgb\"] = \"ColorSettingRgb\";\n    ScryptedInterface[\"ColorSettingHsv\"] = \"ColorSettingHsv\";\n    ScryptedInterface[\"Notifier\"] = \"Notifier\";\n    ScryptedInterface[\"StartStop\"] = \"StartStop\";\n    ScryptedInterface[\"Pause\"] = \"Pause\";\n    ScryptedInterface[\"Dock\"] = \"Dock\";\n    ScryptedInterface[\"TemperatureSetting\"] = \"TemperatureSetting\";\n    ScryptedInterface[\"Thermometer\"] = \"Thermometer\";\n    ScryptedInterface[\"HumiditySensor\"] = \"HumiditySensor\";\n    ScryptedInterface[\"Camera\"] = \"Camera\";\n    ScryptedInterface[\"Microphone\"] = \"Microphone\";\n    ScryptedInterface[\"AudioVolumeControl\"] = \"AudioVolumeControl\";\n    ScryptedInterface[\"Display\"] = \"Display\";\n    ScryptedInterface[\"VideoCamera\"] = \"VideoCamera\";\n    ScryptedInterface[\"VideoCameraMask\"] = \"VideoCameraMask\";\n    ScryptedInterface[\"VideoRecorder\"] = \"VideoRecorder\";\n    ScryptedInterface[\"VideoRecorderManagement\"] = \"VideoRecorderManagement\";\n    ScryptedInterface[\"PanTiltZoom\"] = \"PanTiltZoom\";\n    ScryptedInterface[\"EventRecorder\"] = \"EventRecorder\";\n    ScryptedInterface[\"VideoClips\"] = \"VideoClips\";\n    ScryptedInterface[\"VideoCameraConfiguration\"] = \"VideoCameraConfiguration\";\n    ScryptedInterface[\"Intercom\"] = \"Intercom\";\n    ScryptedInterface[\"Lock\"] = \"Lock\";\n    ScryptedInterface[\"PasswordStore\"] = \"PasswordStore\";\n    ScryptedInterface[\"Scene\"] = \"Scene\";\n    ScryptedInterface[\"Entry\"] = \"Entry\";\n    ScryptedInterface[\"EntrySensor\"] = \"EntrySensor\";\n    ScryptedInterface[\"DeviceProvider\"] = \"DeviceProvider\";\n    ScryptedInterface[\"DeviceDiscovery\"] = \"DeviceDiscovery\";\n    ScryptedInterface[\"DeviceCreator\"] = \"DeviceCreator\";\n    ScryptedInterface[\"Battery\"] = \"Battery\";\n    ScryptedInterface[\"Charger\"] = \"Charger\";\n    ScryptedInterface[\"Reboot\"] = \"Reboot\";\n    ScryptedInterface[\"Refresh\"] = \"Refresh\";\n    ScryptedInterface[\"MediaPlayer\"] = \"MediaPlayer\";\n    ScryptedInterface[\"Online\"] = \"Online\";\n    ScryptedInterface[\"BufferConverter\"] = \"BufferConverter\";\n    ScryptedInterface[\"MediaConverter\"] = \"MediaConverter\";\n    ScryptedInterface[\"Settings\"] = \"Settings\";\n    ScryptedInterface[\"BinarySensor\"] = \"BinarySensor\";\n    ScryptedInterface[\"TamperSensor\"] = \"TamperSensor\";\n    ScryptedInterface[\"PowerSensor\"] = \"PowerSensor\";\n    ScryptedInterface[\"AudioSensor\"] = \"AudioSensor\";\n    ScryptedInterface[\"MotionSensor\"] = \"MotionSensor\";\n    ScryptedInterface[\"AmbientLightSensor\"] = \"AmbientLightSensor\";\n    ScryptedInterface[\"OccupancySensor\"] = \"OccupancySensor\";\n    ScryptedInterface[\"FloodSensor\"] = \"FloodSensor\";\n    ScryptedInterface[\"UltravioletSensor\"] = \"UltravioletSensor\";\n    ScryptedInterface[\"LuminanceSensor\"] = \"LuminanceSensor\";\n    ScryptedInterface[\"PositionSensor\"] = \"PositionSensor\";\n    ScryptedInterface[\"SecuritySystem\"] = \"SecuritySystem\";\n    ScryptedInterface[\"PM10Sensor\"] = \"PM10Sensor\";\n    ScryptedInterface[\"PM25Sensor\"] = \"PM25Sensor\";\n    ScryptedInterface[\"VOCSensor\"] = \"VOCSensor\";\n    ScryptedInterface[\"NOXSensor\"] = \"NOXSensor\";\n    ScryptedInterface[\"CO2Sensor\"] = \"CO2Sensor\";\n    ScryptedInterface[\"AirQualitySensor\"] = \"AirQualitySensor\";\n    ScryptedInterface[\"AirPurifier\"] = \"AirPurifier\";\n    ScryptedInterface[\"FilterMaintenance\"] = \"FilterMaintenance\";\n    ScryptedInterface[\"Readme\"] = \"Readme\";\n    ScryptedInterface[\"OauthClient\"] = \"OauthClient\";\n    ScryptedInterface[\"MixinProvider\"] = \"MixinProvider\";\n    ScryptedInterface[\"HttpRequestHandler\"] = \"HttpRequestHandler\";\n    ScryptedInterface[\"EngineIOHandler\"] = \"EngineIOHandler\";\n    ScryptedInterface[\"PushHandler\"] = \"PushHandler\";\n    ScryptedInterface[\"Program\"] = \"Program\";\n    ScryptedInterface[\"Scriptable\"] = \"Scriptable\";\n    ScryptedInterface[\"ClusterForkInterface\"] = \"ClusterForkInterface\";\n    ScryptedInterface[\"ObjectTracker\"] = \"ObjectTracker\";\n    ScryptedInterface[\"ObjectDetector\"] = \"ObjectDetector\";\n    ScryptedInterface[\"ObjectDetection\"] = \"ObjectDetection\";\n    ScryptedInterface[\"ObjectDetectionPreview\"] = \"ObjectDetectionPreview\";\n    ScryptedInterface[\"ObjectDetectionGenerator\"] = \"ObjectDetectionGenerator\";\n    ScryptedInterface[\"HumiditySetting\"] = \"HumiditySetting\";\n    ScryptedInterface[\"Fan\"] = \"Fan\";\n    ScryptedInterface[\"RTCSignalingChannel\"] = \"RTCSignalingChannel\";\n    ScryptedInterface[\"RTCSignalingClient\"] = \"RTCSignalingClient\";\n    ScryptedInterface[\"LauncherApplication\"] = \"LauncherApplication\";\n    ScryptedInterface[\"ScryptedUser\"] = \"ScryptedUser\";\n    ScryptedInterface[\"VideoFrameGenerator\"] = \"VideoFrameGenerator\";\n    ScryptedInterface[\"StreamService\"] = \"StreamService\";\n    ScryptedInterface[\"TTY\"] = \"TTY\";\n    ScryptedInterface[\"TTYSettings\"] = \"TTYSettings\";\n    ScryptedInterface[\"ScryptedSystemDevice\"] = \"ScryptedSystemDevice\";\n    ScryptedInterface[\"ScryptedDeviceCreator\"] = \"ScryptedDeviceCreator\";\n    ScryptedInterface[\"ScryptedSettings\"] = \"ScryptedSettings\";\n})(ScryptedInterface || (exports.ScryptedInterface = ScryptedInterface = {}));\nvar ScryptedMimeTypes;\n(function (ScryptedMimeTypes) {\n    ScryptedMimeTypes[\"Url\"] = \"text/x-uri\";\n    ScryptedMimeTypes[\"InsecureLocalUrl\"] = \"text/x-insecure-local-uri\";\n    ScryptedMimeTypes[\"LocalUrl\"] = \"text/x-local-uri\";\n    ScryptedMimeTypes[\"ServerId\"] = \"text/x-server-id\";\n    ScryptedMimeTypes[\"PushEndpoint\"] = \"text/x-push-endpoint\";\n    ScryptedMimeTypes[\"SchemePrefix\"] = \"x-scrypted/x-scrypted-scheme-\";\n    ScryptedMimeTypes[\"MediaStreamUrl\"] = \"text/x-media-url\";\n    ScryptedMimeTypes[\"MediaObject\"] = \"x-scrypted/x-scrypted-media-object\";\n    ScryptedMimeTypes[\"RequestMediaObject\"] = \"x-scrypted/x-scrypted-request-media-object\";\n    ScryptedMimeTypes[\"RequestMediaStream\"] = \"x-scrypted/x-scrypted-request-stream\";\n    ScryptedMimeTypes[\"MediaStreamFeedback\"] = \"x-scrypted/x-media-stream-feedback\";\n    ScryptedMimeTypes[\"FFmpegInput\"] = \"x-scrypted/x-ffmpeg-input\";\n    ScryptedMimeTypes[\"FFmpegTranscodeStream\"] = \"x-scrypted/x-ffmpeg-transcode-stream\";\n    ScryptedMimeTypes[\"RTCSignalingChannel\"] = \"x-scrypted/x-scrypted-rtc-signaling-channel\";\n    ScryptedMimeTypes[\"RTCSignalingSession\"] = \"x-scrypted/x-scrypted-rtc-signaling-session\";\n    ScryptedMimeTypes[\"RTCConnectionManagement\"] = \"x-scrypted/x-scrypted-rtc-connection-management\";\n    ScryptedMimeTypes[\"Image\"] = \"x-scrypted/x-scrypted-image\";\n})(ScryptedMimeTypes || (exports.ScryptedMimeTypes = ScryptedMimeTypes = {}));\n//# sourceMappingURL=index.js.map","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n","/**\n * A specialized version of `baseAggregator` for arrays.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction arrayAggregator(array, setter, iteratee, accumulator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    var value = array[index];\n    setter(accumulator, value, iteratee(value), array);\n  }\n  return accumulator;\n}\n\nmodule.exports = arrayAggregator;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var baseEach = require('./_baseEach');\n\n/**\n * Aggregates elements of `collection` on `accumulator` with keys transformed\n * by `iteratee` and values set by `setter`.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction baseAggregator(collection, setter, iteratee, accumulator) {\n  baseEach(collection, function(value, key, collection) {\n    setter(accumulator, value, iteratee(value), collection);\n  });\n  return accumulator;\n}\n\nmodule.exports = baseAggregator;\n","var defineProperty = require('./_defineProperty');\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n","var baseForOwn = require('./_baseForOwn'),\n    createBaseEach = require('./_createBaseEach');\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nmodule.exports = baseEach;\n","var createBaseFor = require('./_createBaseFor');\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n","var baseFor = require('./_baseFor'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n","var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nmodule.exports = baseHasIn;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n","var Stack = require('./_Stack'),\n    baseIsEqual = require('./_baseIsEqual');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nmodule.exports = baseIsMatch;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","var baseMatches = require('./_baseMatches'),\n    baseMatchesProperty = require('./_baseMatchesProperty'),\n    identity = require('./identity'),\n    isArray = require('./isArray'),\n    property = require('./property');\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\nmodule.exports = baseIteratee;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","var baseIsMatch = require('./_baseIsMatch'),\n    getMatchData = require('./_getMatchData'),\n    matchesStrictComparable = require('./_matchesStrictComparable');\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\nmodule.exports = baseMatches;\n","var baseIsEqual = require('./_baseIsEqual'),\n    get = require('./get'),\n    hasIn = require('./hasIn'),\n    isKey = require('./_isKey'),\n    isStrictComparable = require('./_isStrictComparable'),\n    matchesStrictComparable = require('./_matchesStrictComparable'),\n    toKey = require('./_toKey');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\nmodule.exports = baseMatchesProperty;\n","/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = baseProperty;\n","var baseGet = require('./_baseGet');\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\nmodule.exports = basePropertyDeep;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","var arrayAggregator = require('./_arrayAggregator'),\n    baseAggregator = require('./_baseAggregator'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray');\n\n/**\n * Creates a function like `_.groupBy`.\n *\n * @private\n * @param {Function} setter The function to set accumulator values.\n * @param {Function} [initializer] The accumulator object initializer.\n * @returns {Function} Returns the new aggregator function.\n */\nfunction createAggregator(setter, initializer) {\n  return function(collection, iteratee) {\n    var func = isArray(collection) ? arrayAggregator : baseAggregator,\n        accumulator = initializer ? initializer() : {};\n\n    return func(collection, setter, baseIteratee(iteratee, 2), accumulator);\n  };\n}\n\nmodule.exports = createAggregator;\n","var isArrayLike = require('./isArrayLike');\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nmodule.exports = createBaseEach;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n","var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n","var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n","var Symbol = require('./_Symbol'),\n    Uint8Array = require('./_Uint8Array'),\n    eq = require('./eq'),\n    equalArrays = require('./_equalArrays'),\n    mapToArray = require('./_mapToArray'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n","var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","var isStrictComparable = require('./_isStrictComparable'),\n    keys = require('./keys');\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\nmodule.exports = getMatchData;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var castPath = require('./_castPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isLength = require('./isLength'),\n    toKey = require('./_toKey');\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nmodule.exports = hasPath;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","var isObject = require('./isObject');\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\nmodule.exports = isStrictComparable;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n","/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\nmodule.exports = matchesStrictComparable;\n","var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n","var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var baseGet = require('./_baseGet');\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n","var baseHasIn = require('./_baseHasIn'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nmodule.exports = hasIn;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The corresponding value of\n * each key is the last element responsible for generating the key. The\n * iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * var array = [\n *   { 'dir': 'left', 'code': 97 },\n *   { 'dir': 'right', 'code': 100 }\n * ];\n *\n * _.keyBy(array, function(o) {\n *   return String.fromCharCode(o.code);\n * });\n * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n *\n * _.keyBy(array, 'dir');\n * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n */\nvar keyBy = createAggregator(function(result, value, key) {\n  baseAssignValue(result, key, value);\n});\n\nmodule.exports = keyBy;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n","var baseProperty = require('./_baseProperty'),\n    basePropertyDeep = require('./_basePropertyDeep'),\n    isKey = require('./_isKey'),\n    toKey = require('./_toKey');\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nmodule.exports = property;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n",";(function (sax) { // wrapper for non-node envs\n  sax.parser = function (strict, opt) { return new SAXParser(strict, opt) }\n  sax.SAXParser = SAXParser\n  sax.SAXStream = SAXStream\n  sax.createStream = createStream\n\n  // When we pass the MAX_BUFFER_LENGTH position, start checking for buffer overruns.\n  // When we check, schedule the next check for MAX_BUFFER_LENGTH - (max(buffer lengths)),\n  // since that's the earliest that a buffer overrun could occur.  This way, checks are\n  // as rare as required, but as often as necessary to ensure never crossing this bound.\n  // Furthermore, buffers are only tested at most once per write(), so passing a very\n  // large string into write() might have undesirable effects, but this is manageable by\n  // the caller, so it is assumed to be safe.  Thus, a call to write() may, in the extreme\n  // edge case, result in creating at most one complete copy of the string passed in.\n  // Set to Infinity to have unlimited buffers.\n  sax.MAX_BUFFER_LENGTH = 64 * 1024\n\n  var buffers = [\n    'comment', 'sgmlDecl', 'textNode', 'tagName', 'doctype',\n    'procInstName', 'procInstBody', 'entity', 'attribName',\n    'attribValue', 'cdata', 'script'\n  ]\n\n  sax.EVENTS = [\n    'text',\n    'processinginstruction',\n    'sgmldeclaration',\n    'doctype',\n    'comment',\n    'opentagstart',\n    'attribute',\n    'opentag',\n    'closetag',\n    'opencdata',\n    'cdata',\n    'closecdata',\n    'error',\n    'end',\n    'ready',\n    'script',\n    'opennamespace',\n    'closenamespace'\n  ]\n\n  function SAXParser (strict, opt) {\n    if (!(this instanceof SAXParser)) {\n      return new SAXParser(strict, opt)\n    }\n\n    var parser = this\n    clearBuffers(parser)\n    parser.q = parser.c = ''\n    parser.bufferCheckPosition = sax.MAX_BUFFER_LENGTH\n    parser.opt = opt || {}\n    parser.opt.lowercase = parser.opt.lowercase || parser.opt.lowercasetags\n    parser.looseCase = parser.opt.lowercase ? 'toLowerCase' : 'toUpperCase'\n    parser.tags = []\n    parser.closed = parser.closedRoot = parser.sawRoot = false\n    parser.tag = parser.error = null\n    parser.strict = !!strict\n    parser.noscript = !!(strict || parser.opt.noscript)\n    parser.state = S.BEGIN\n    parser.strictEntities = parser.opt.strictEntities\n    parser.ENTITIES = parser.strictEntities ? Object.create(sax.XML_ENTITIES) : Object.create(sax.ENTITIES)\n    parser.attribList = []\n\n    // namespaces form a prototype chain.\n    // it always points at the current tag,\n    // which protos to its parent tag.\n    if (parser.opt.xmlns) {\n      parser.ns = Object.create(rootNS)\n    }\n\n    // disallow unquoted attribute values if not otherwise configured\n    // and strict mode is true\n    if (parser.opt.unquotedAttributeValues === undefined) {\n      parser.opt.unquotedAttributeValues = !strict;\n    }\n\n    // mostly just for error reporting\n    parser.trackPosition = parser.opt.position !== false\n    if (parser.trackPosition) {\n      parser.position = parser.line = parser.column = 0\n    }\n    emit(parser, 'onready')\n  }\n\n  if (!Object.create) {\n    Object.create = function (o) {\n      function F () {}\n      F.prototype = o\n      var newf = new F()\n      return newf\n    }\n  }\n\n  if (!Object.keys) {\n    Object.keys = function (o) {\n      var a = []\n      for (var i in o) if (o.hasOwnProperty(i)) a.push(i)\n      return a\n    }\n  }\n\n  function checkBufferLength (parser) {\n    var maxAllowed = Math.max(sax.MAX_BUFFER_LENGTH, 10)\n    var maxActual = 0\n    for (var i = 0, l = buffers.length; i < l; i++) {\n      var len = parser[buffers[i]].length\n      if (len > maxAllowed) {\n        // Text/cdata nodes can get big, and since they're buffered,\n        // we can get here under normal conditions.\n        // Avoid issues by emitting the text node now,\n        // so at least it won't get any bigger.\n        switch (buffers[i]) {\n          case 'textNode':\n            closeText(parser)\n            break\n\n          case 'cdata':\n            emitNode(parser, 'oncdata', parser.cdata)\n            parser.cdata = ''\n            break\n\n          case 'script':\n            emitNode(parser, 'onscript', parser.script)\n            parser.script = ''\n            break\n\n          default:\n            error(parser, 'Max buffer length exceeded: ' + buffers[i])\n        }\n      }\n      maxActual = Math.max(maxActual, len)\n    }\n    // schedule the next check for the earliest possible buffer overrun.\n    var m = sax.MAX_BUFFER_LENGTH - maxActual\n    parser.bufferCheckPosition = m + parser.position\n  }\n\n  function clearBuffers (parser) {\n    for (var i = 0, l = buffers.length; i < l; i++) {\n      parser[buffers[i]] = ''\n    }\n  }\n\n  function flushBuffers (parser) {\n    closeText(parser)\n    if (parser.cdata !== '') {\n      emitNode(parser, 'oncdata', parser.cdata)\n      parser.cdata = ''\n    }\n    if (parser.script !== '') {\n      emitNode(parser, 'onscript', parser.script)\n      parser.script = ''\n    }\n  }\n\n  SAXParser.prototype = {\n    end: function () { end(this) },\n    write: write,\n    resume: function () { this.error = null; return this },\n    close: function () { return this.write(null) },\n    flush: function () { flushBuffers(this) }\n  }\n\n  var Stream\n  try {\n    Stream = require('stream').Stream\n  } catch (ex) {\n    Stream = function () {}\n  }\n  if (!Stream) Stream = function () {}\n\n  var streamWraps = sax.EVENTS.filter(function (ev) {\n    return ev !== 'error' && ev !== 'end'\n  })\n\n  function createStream (strict, opt) {\n    return new SAXStream(strict, opt)\n  }\n\n  function SAXStream (strict, opt) {\n    if (!(this instanceof SAXStream)) {\n      return new SAXStream(strict, opt)\n    }\n\n    Stream.apply(this)\n\n    this._parser = new SAXParser(strict, opt)\n    this.writable = true\n    this.readable = true\n\n    var me = this\n\n    this._parser.onend = function () {\n      me.emit('end')\n    }\n\n    this._parser.onerror = function (er) {\n      me.emit('error', er)\n\n      // if didn't throw, then means error was handled.\n      // go ahead and clear error, so we can write again.\n      me._parser.error = null\n    }\n\n    this._decoder = null\n\n    streamWraps.forEach(function (ev) {\n      Object.defineProperty(me, 'on' + ev, {\n        get: function () {\n          return me._parser['on' + ev]\n        },\n        set: function (h) {\n          if (!h) {\n            me.removeAllListeners(ev)\n            me._parser['on' + ev] = h\n            return h\n          }\n          me.on(ev, h)\n        },\n        enumerable: true,\n        configurable: false\n      })\n    })\n  }\n\n  SAXStream.prototype = Object.create(Stream.prototype, {\n    constructor: {\n      value: SAXStream\n    }\n  })\n\n  SAXStream.prototype.write = function (data) {\n    if (typeof Buffer === 'function' &&\n      typeof Buffer.isBuffer === 'function' &&\n      Buffer.isBuffer(data)) {\n      if (!this._decoder) {\n        var SD = require('string_decoder').StringDecoder\n        this._decoder = new SD('utf8')\n      }\n      data = this._decoder.write(data)\n    }\n\n    this._parser.write(data.toString())\n    this.emit('data', data)\n    return true\n  }\n\n  SAXStream.prototype.end = function (chunk) {\n    if (chunk && chunk.length) {\n      this.write(chunk)\n    }\n    this._parser.end()\n    return true\n  }\n\n  SAXStream.prototype.on = function (ev, handler) {\n    var me = this\n    if (!me._parser['on' + ev] && streamWraps.indexOf(ev) !== -1) {\n      me._parser['on' + ev] = function () {\n        var args = arguments.length === 1 ? [arguments[0]] : Array.apply(null, arguments)\n        args.splice(0, 0, ev)\n        me.emit.apply(me, args)\n      }\n    }\n\n    return Stream.prototype.on.call(me, ev, handler)\n  }\n\n  // this really needs to be replaced with character classes.\n  // XML allows all manner of ridiculous numbers and digits.\n  var CDATA = '[CDATA['\n  var DOCTYPE = 'DOCTYPE'\n  var XML_NAMESPACE = 'http://www.w3.org/XML/1998/namespace'\n  var XMLNS_NAMESPACE = 'http://www.w3.org/2000/xmlns/'\n  var rootNS = { xml: XML_NAMESPACE, xmlns: XMLNS_NAMESPACE }\n\n  // http://www.w3.org/TR/REC-xml/#NT-NameStartChar\n  // This implementation works on strings, a single character at a time\n  // as such, it cannot ever support astral-plane characters (10000-EFFFF)\n  // without a significant breaking change to either this  parser, or the\n  // JavaScript language.  Implementation of an emoji-capable xml parser\n  // is left as an exercise for the reader.\n  var nameStart = /[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/\n\n  var nameBody = /[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\u00B7\\u0300-\\u036F\\u203F-\\u2040.\\d-]/\n\n  var entityStart = /[#:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/\n  var entityBody = /[#:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\u00B7\\u0300-\\u036F\\u203F-\\u2040.\\d-]/\n\n  function isWhitespace (c) {\n    return c === ' ' || c === '\\n' || c === '\\r' || c === '\\t'\n  }\n\n  function isQuote (c) {\n    return c === '\"' || c === '\\''\n  }\n\n  function isAttribEnd (c) {\n    return c === '>' || isWhitespace(c)\n  }\n\n  function isMatch (regex, c) {\n    return regex.test(c)\n  }\n\n  function notMatch (regex, c) {\n    return !isMatch(regex, c)\n  }\n\n  var S = 0\n  sax.STATE = {\n    BEGIN: S++, // leading byte order mark or whitespace\n    BEGIN_WHITESPACE: S++, // leading whitespace\n    TEXT: S++, // general stuff\n    TEXT_ENTITY: S++, // &amp and such.\n    OPEN_WAKA: S++, // <\n    SGML_DECL: S++, // <!BLARG\n    SGML_DECL_QUOTED: S++, // <!BLARG foo \"bar\n    DOCTYPE: S++, // <!DOCTYPE\n    DOCTYPE_QUOTED: S++, // <!DOCTYPE \"//blah\n    DOCTYPE_DTD: S++, // <!DOCTYPE \"//blah\" [ ...\n    DOCTYPE_DTD_QUOTED: S++, // <!DOCTYPE \"//blah\" [ \"foo\n    COMMENT_STARTING: S++, // <!-\n    COMMENT: S++, // <!--\n    COMMENT_ENDING: S++, // <!-- blah -\n    COMMENT_ENDED: S++, // <!-- blah --\n    CDATA: S++, // <![CDATA[ something\n    CDATA_ENDING: S++, // ]\n    CDATA_ENDING_2: S++, // ]]\n    PROC_INST: S++, // <?hi\n    PROC_INST_BODY: S++, // <?hi there\n    PROC_INST_ENDING: S++, // <?hi \"there\" ?\n    OPEN_TAG: S++, // <strong\n    OPEN_TAG_SLASH: S++, // <strong /\n    ATTRIB: S++, // <a\n    ATTRIB_NAME: S++, // <a foo\n    ATTRIB_NAME_SAW_WHITE: S++, // <a foo _\n    ATTRIB_VALUE: S++, // <a foo=\n    ATTRIB_VALUE_QUOTED: S++, // <a foo=\"bar\n    ATTRIB_VALUE_CLOSED: S++, // <a foo=\"bar\"\n    ATTRIB_VALUE_UNQUOTED: S++, // <a foo=bar\n    ATTRIB_VALUE_ENTITY_Q: S++, // <foo bar=\"&quot;\"\n    ATTRIB_VALUE_ENTITY_U: S++, // <foo bar=&quot\n    CLOSE_TAG: S++, // </a\n    CLOSE_TAG_SAW_WHITE: S++, // </a   >\n    SCRIPT: S++, // <script> ...\n    SCRIPT_ENDING: S++ // <script> ... <\n  }\n\n  sax.XML_ENTITIES = {\n    'amp': '&',\n    'gt': '>',\n    'lt': '<',\n    'quot': '\"',\n    'apos': \"'\"\n  }\n\n  sax.ENTITIES = {\n    'amp': '&',\n    'gt': '>',\n    'lt': '<',\n    'quot': '\"',\n    'apos': \"'\",\n    'AElig': 198,\n    'Aacute': 193,\n    'Acirc': 194,\n    'Agrave': 192,\n    'Aring': 197,\n    'Atilde': 195,\n    'Auml': 196,\n    'Ccedil': 199,\n    'ETH': 208,\n    'Eacute': 201,\n    'Ecirc': 202,\n    'Egrave': 200,\n    'Euml': 203,\n    'Iacute': 205,\n    'Icirc': 206,\n    'Igrave': 204,\n    'Iuml': 207,\n    'Ntilde': 209,\n    'Oacute': 211,\n    'Ocirc': 212,\n    'Ograve': 210,\n    'Oslash': 216,\n    'Otilde': 213,\n    'Ouml': 214,\n    'THORN': 222,\n    'Uacute': 218,\n    'Ucirc': 219,\n    'Ugrave': 217,\n    'Uuml': 220,\n    'Yacute': 221,\n    'aacute': 225,\n    'acirc': 226,\n    'aelig': 230,\n    'agrave': 224,\n    'aring': 229,\n    'atilde': 227,\n    'auml': 228,\n    'ccedil': 231,\n    'eacute': 233,\n    'ecirc': 234,\n    'egrave': 232,\n    'eth': 240,\n    'euml': 235,\n    'iacute': 237,\n    'icirc': 238,\n    'igrave': 236,\n    'iuml': 239,\n    'ntilde': 241,\n    'oacute': 243,\n    'ocirc': 244,\n    'ograve': 242,\n    'oslash': 248,\n    'otilde': 245,\n    'ouml': 246,\n    'szlig': 223,\n    'thorn': 254,\n    'uacute': 250,\n    'ucirc': 251,\n    'ugrave': 249,\n    'uuml': 252,\n    'yacute': 253,\n    'yuml': 255,\n    'copy': 169,\n    'reg': 174,\n    'nbsp': 160,\n    'iexcl': 161,\n    'cent': 162,\n    'pound': 163,\n    'curren': 164,\n    'yen': 165,\n    'brvbar': 166,\n    'sect': 167,\n    'uml': 168,\n    'ordf': 170,\n    'laquo': 171,\n    'not': 172,\n    'shy': 173,\n    'macr': 175,\n    'deg': 176,\n    'plusmn': 177,\n    'sup1': 185,\n    'sup2': 178,\n    'sup3': 179,\n    'acute': 180,\n    'micro': 181,\n    'para': 182,\n    'middot': 183,\n    'cedil': 184,\n    'ordm': 186,\n    'raquo': 187,\n    'frac14': 188,\n    'frac12': 189,\n    'frac34': 190,\n    'iquest': 191,\n    'times': 215,\n    'divide': 247,\n    'OElig': 338,\n    'oelig': 339,\n    'Scaron': 352,\n    'scaron': 353,\n    'Yuml': 376,\n    'fnof': 402,\n    'circ': 710,\n    'tilde': 732,\n    'Alpha': 913,\n    'Beta': 914,\n    'Gamma': 915,\n    'Delta': 916,\n    'Epsilon': 917,\n    'Zeta': 918,\n    'Eta': 919,\n    'Theta': 920,\n    'Iota': 921,\n    'Kappa': 922,\n    'Lambda': 923,\n    'Mu': 924,\n    'Nu': 925,\n    'Xi': 926,\n    'Omicron': 927,\n    'Pi': 928,\n    'Rho': 929,\n    'Sigma': 931,\n    'Tau': 932,\n    'Upsilon': 933,\n    'Phi': 934,\n    'Chi': 935,\n    'Psi': 936,\n    'Omega': 937,\n    'alpha': 945,\n    'beta': 946,\n    'gamma': 947,\n    'delta': 948,\n    'epsilon': 949,\n    'zeta': 950,\n    'eta': 951,\n    'theta': 952,\n    'iota': 953,\n    'kappa': 954,\n    'lambda': 955,\n    'mu': 956,\n    'nu': 957,\n    'xi': 958,\n    'omicron': 959,\n    'pi': 960,\n    'rho': 961,\n    'sigmaf': 962,\n    'sigma': 963,\n    'tau': 964,\n    'upsilon': 965,\n    'phi': 966,\n    'chi': 967,\n    'psi': 968,\n    'omega': 969,\n    'thetasym': 977,\n    'upsih': 978,\n    'piv': 982,\n    'ensp': 8194,\n    'emsp': 8195,\n    'thinsp': 8201,\n    'zwnj': 8204,\n    'zwj': 8205,\n    'lrm': 8206,\n    'rlm': 8207,\n    'ndash': 8211,\n    'mdash': 8212,\n    'lsquo': 8216,\n    'rsquo': 8217,\n    'sbquo': 8218,\n    'ldquo': 8220,\n    'rdquo': 8221,\n    'bdquo': 8222,\n    'dagger': 8224,\n    'Dagger': 8225,\n    'bull': 8226,\n    'hellip': 8230,\n    'permil': 8240,\n    'prime': 8242,\n    'Prime': 8243,\n    'lsaquo': 8249,\n    'rsaquo': 8250,\n    'oline': 8254,\n    'frasl': 8260,\n    'euro': 8364,\n    'image': 8465,\n    'weierp': 8472,\n    'real': 8476,\n    'trade': 8482,\n    'alefsym': 8501,\n    'larr': 8592,\n    'uarr': 8593,\n    'rarr': 8594,\n    'darr': 8595,\n    'harr': 8596,\n    'crarr': 8629,\n    'lArr': 8656,\n    'uArr': 8657,\n    'rArr': 8658,\n    'dArr': 8659,\n    'hArr': 8660,\n    'forall': 8704,\n    'part': 8706,\n    'exist': 8707,\n    'empty': 8709,\n    'nabla': 8711,\n    'isin': 8712,\n    'notin': 8713,\n    'ni': 8715,\n    'prod': 8719,\n    'sum': 8721,\n    'minus': 8722,\n    'lowast': 8727,\n    'radic': 8730,\n    'prop': 8733,\n    'infin': 8734,\n    'ang': 8736,\n    'and': 8743,\n    'or': 8744,\n    'cap': 8745,\n    'cup': 8746,\n    'int': 8747,\n    'there4': 8756,\n    'sim': 8764,\n    'cong': 8773,\n    'asymp': 8776,\n    'ne': 8800,\n    'equiv': 8801,\n    'le': 8804,\n    'ge': 8805,\n    'sub': 8834,\n    'sup': 8835,\n    'nsub': 8836,\n    'sube': 8838,\n    'supe': 8839,\n    'oplus': 8853,\n    'otimes': 8855,\n    'perp': 8869,\n    'sdot': 8901,\n    'lceil': 8968,\n    'rceil': 8969,\n    'lfloor': 8970,\n    'rfloor': 8971,\n    'lang': 9001,\n    'rang': 9002,\n    'loz': 9674,\n    'spades': 9824,\n    'clubs': 9827,\n    'hearts': 9829,\n    'diams': 9830\n  }\n\n  Object.keys(sax.ENTITIES).forEach(function (key) {\n    var e = sax.ENTITIES[key]\n    var s = typeof e === 'number' ? String.fromCharCode(e) : e\n    sax.ENTITIES[key] = s\n  })\n\n  for (var s in sax.STATE) {\n    sax.STATE[sax.STATE[s]] = s\n  }\n\n  // shorthand\n  S = sax.STATE\n\n  function emit (parser, event, data) {\n    parser[event] && parser[event](data)\n  }\n\n  function emitNode (parser, nodeType, data) {\n    if (parser.textNode) closeText(parser)\n    emit(parser, nodeType, data)\n  }\n\n  function closeText (parser) {\n    parser.textNode = textopts(parser.opt, parser.textNode)\n    if (parser.textNode) emit(parser, 'ontext', parser.textNode)\n    parser.textNode = ''\n  }\n\n  function textopts (opt, text) {\n    if (opt.trim) text = text.trim()\n    if (opt.normalize) text = text.replace(/\\s+/g, ' ')\n    return text\n  }\n\n  function error (parser, er) {\n    closeText(parser)\n    if (parser.trackPosition) {\n      er += '\\nLine: ' + parser.line +\n        '\\nColumn: ' + parser.column +\n        '\\nChar: ' + parser.c\n    }\n    er = new Error(er)\n    parser.error = er\n    emit(parser, 'onerror', er)\n    return parser\n  }\n\n  function end (parser) {\n    if (parser.sawRoot && !parser.closedRoot) strictFail(parser, 'Unclosed root tag')\n    if ((parser.state !== S.BEGIN) &&\n      (parser.state !== S.BEGIN_WHITESPACE) &&\n      (parser.state !== S.TEXT)) {\n      error(parser, 'Unexpected end')\n    }\n    closeText(parser)\n    parser.c = ''\n    parser.closed = true\n    emit(parser, 'onend')\n    SAXParser.call(parser, parser.strict, parser.opt)\n    return parser\n  }\n\n  function strictFail (parser, message) {\n    if (typeof parser !== 'object' || !(parser instanceof SAXParser)) {\n      throw new Error('bad call to strictFail')\n    }\n    if (parser.strict) {\n      error(parser, message)\n    }\n  }\n\n  function newTag (parser) {\n    if (!parser.strict) parser.tagName = parser.tagName[parser.looseCase]()\n    var parent = parser.tags[parser.tags.length - 1] || parser\n    var tag = parser.tag = { name: parser.tagName, attributes: {} }\n\n    // will be overridden if tag contails an xmlns=\"foo\" or xmlns:foo=\"bar\"\n    if (parser.opt.xmlns) {\n      tag.ns = parent.ns\n    }\n    parser.attribList.length = 0\n    emitNode(parser, 'onopentagstart', tag)\n  }\n\n  function qname (name, attribute) {\n    var i = name.indexOf(':')\n    var qualName = i < 0 ? [ '', name ] : name.split(':')\n    var prefix = qualName[0]\n    var local = qualName[1]\n\n    // <x \"xmlns\"=\"http://foo\">\n    if (attribute && name === 'xmlns') {\n      prefix = 'xmlns'\n      local = ''\n    }\n\n    return { prefix: prefix, local: local }\n  }\n\n  function attrib (parser) {\n    if (!parser.strict) {\n      parser.attribName = parser.attribName[parser.looseCase]()\n    }\n\n    if (parser.attribList.indexOf(parser.attribName) !== -1 ||\n      parser.tag.attributes.hasOwnProperty(parser.attribName)) {\n      parser.attribName = parser.attribValue = ''\n      return\n    }\n\n    if (parser.opt.xmlns) {\n      var qn = qname(parser.attribName, true)\n      var prefix = qn.prefix\n      var local = qn.local\n\n      if (prefix === 'xmlns') {\n        // namespace binding attribute. push the binding into scope\n        if (local === 'xml' && parser.attribValue !== XML_NAMESPACE) {\n          strictFail(parser,\n            'xml: prefix must be bound to ' + XML_NAMESPACE + '\\n' +\n            'Actual: ' + parser.attribValue)\n        } else if (local === 'xmlns' && parser.attribValue !== XMLNS_NAMESPACE) {\n          strictFail(parser,\n            'xmlns: prefix must be bound to ' + XMLNS_NAMESPACE + '\\n' +\n            'Actual: ' + parser.attribValue)\n        } else {\n          var tag = parser.tag\n          var parent = parser.tags[parser.tags.length - 1] || parser\n          if (tag.ns === parent.ns) {\n            tag.ns = Object.create(parent.ns)\n          }\n          tag.ns[local] = parser.attribValue\n        }\n      }\n\n      // defer onattribute events until all attributes have been seen\n      // so any new bindings can take effect. preserve attribute order\n      // so deferred events can be emitted in document order\n      parser.attribList.push([parser.attribName, parser.attribValue])\n    } else {\n      // in non-xmlns mode, we can emit the event right away\n      parser.tag.attributes[parser.attribName] = parser.attribValue\n      emitNode(parser, 'onattribute', {\n        name: parser.attribName,\n        value: parser.attribValue\n      })\n    }\n\n    parser.attribName = parser.attribValue = ''\n  }\n\n  function openTag (parser, selfClosing) {\n    if (parser.opt.xmlns) {\n      // emit namespace binding events\n      var tag = parser.tag\n\n      // add namespace info to tag\n      var qn = qname(parser.tagName)\n      tag.prefix = qn.prefix\n      tag.local = qn.local\n      tag.uri = tag.ns[qn.prefix] || ''\n\n      if (tag.prefix && !tag.uri) {\n        strictFail(parser, 'Unbound namespace prefix: ' +\n          JSON.stringify(parser.tagName))\n        tag.uri = qn.prefix\n      }\n\n      var parent = parser.tags[parser.tags.length - 1] || parser\n      if (tag.ns && parent.ns !== tag.ns) {\n        Object.keys(tag.ns).forEach(function (p) {\n          emitNode(parser, 'onopennamespace', {\n            prefix: p,\n            uri: tag.ns[p]\n          })\n        })\n      }\n\n      // handle deferred onattribute events\n      // Note: do not apply default ns to attributes:\n      //   http://www.w3.org/TR/REC-xml-names/#defaulting\n      for (var i = 0, l = parser.attribList.length; i < l; i++) {\n        var nv = parser.attribList[i]\n        var name = nv[0]\n        var value = nv[1]\n        var qualName = qname(name, true)\n        var prefix = qualName.prefix\n        var local = qualName.local\n        var uri = prefix === '' ? '' : (tag.ns[prefix] || '')\n        var a = {\n          name: name,\n          value: value,\n          prefix: prefix,\n          local: local,\n          uri: uri\n        }\n\n        // if there's any attributes with an undefined namespace,\n        // then fail on them now.\n        if (prefix && prefix !== 'xmlns' && !uri) {\n          strictFail(parser, 'Unbound namespace prefix: ' +\n            JSON.stringify(prefix))\n          a.uri = prefix\n        }\n        parser.tag.attributes[name] = a\n        emitNode(parser, 'onattribute', a)\n      }\n      parser.attribList.length = 0\n    }\n\n    parser.tag.isSelfClosing = !!selfClosing\n\n    // process the tag\n    parser.sawRoot = true\n    parser.tags.push(parser.tag)\n    emitNode(parser, 'onopentag', parser.tag)\n    if (!selfClosing) {\n      // special case for <script> in non-strict mode.\n      if (!parser.noscript && parser.tagName.toLowerCase() === 'script') {\n        parser.state = S.SCRIPT\n      } else {\n        parser.state = S.TEXT\n      }\n      parser.tag = null\n      parser.tagName = ''\n    }\n    parser.attribName = parser.attribValue = ''\n    parser.attribList.length = 0\n  }\n\n  function closeTag (parser) {\n    if (!parser.tagName) {\n      strictFail(parser, 'Weird empty close tag.')\n      parser.textNode += '</>'\n      parser.state = S.TEXT\n      return\n    }\n\n    if (parser.script) {\n      if (parser.tagName !== 'script') {\n        parser.script += '</' + parser.tagName + '>'\n        parser.tagName = ''\n        parser.state = S.SCRIPT\n        return\n      }\n      emitNode(parser, 'onscript', parser.script)\n      parser.script = ''\n    }\n\n    // first make sure that the closing tag actually exists.\n    // <a><b></c></b></a> will close everything, otherwise.\n    var t = parser.tags.length\n    var tagName = parser.tagName\n    if (!parser.strict) {\n      tagName = tagName[parser.looseCase]()\n    }\n    var closeTo = tagName\n    while (t--) {\n      var close = parser.tags[t]\n      if (close.name !== closeTo) {\n        // fail the first time in strict mode\n        strictFail(parser, 'Unexpected close tag')\n      } else {\n        break\n      }\n    }\n\n    // didn't find it.  we already failed for strict, so just abort.\n    if (t < 0) {\n      strictFail(parser, 'Unmatched closing tag: ' + parser.tagName)\n      parser.textNode += '</' + parser.tagName + '>'\n      parser.state = S.TEXT\n      return\n    }\n    parser.tagName = tagName\n    var s = parser.tags.length\n    while (s-- > t) {\n      var tag = parser.tag = parser.tags.pop()\n      parser.tagName = parser.tag.name\n      emitNode(parser, 'onclosetag', parser.tagName)\n\n      var x = {}\n      for (var i in tag.ns) {\n        x[i] = tag.ns[i]\n      }\n\n      var parent = parser.tags[parser.tags.length - 1] || parser\n      if (parser.opt.xmlns && tag.ns !== parent.ns) {\n        // remove namespace bindings introduced by tag\n        Object.keys(tag.ns).forEach(function (p) {\n          var n = tag.ns[p]\n          emitNode(parser, 'onclosenamespace', { prefix: p, uri: n })\n        })\n      }\n    }\n    if (t === 0) parser.closedRoot = true\n    parser.tagName = parser.attribValue = parser.attribName = ''\n    parser.attribList.length = 0\n    parser.state = S.TEXT\n  }\n\n  function parseEntity (parser) {\n    var entity = parser.entity\n    var entityLC = entity.toLowerCase()\n    var num\n    var numStr = ''\n\n    if (parser.ENTITIES[entity]) {\n      return parser.ENTITIES[entity]\n    }\n    if (parser.ENTITIES[entityLC]) {\n      return parser.ENTITIES[entityLC]\n    }\n    entity = entityLC\n    if (entity.charAt(0) === '#') {\n      if (entity.charAt(1) === 'x') {\n        entity = entity.slice(2)\n        num = parseInt(entity, 16)\n        numStr = num.toString(16)\n      } else {\n        entity = entity.slice(1)\n        num = parseInt(entity, 10)\n        numStr = num.toString(10)\n      }\n    }\n    entity = entity.replace(/^0+/, '')\n    if (isNaN(num) || numStr.toLowerCase() !== entity) {\n      strictFail(parser, 'Invalid character entity')\n      return '&' + parser.entity + ';'\n    }\n\n    return String.fromCodePoint(num)\n  }\n\n  function beginWhiteSpace (parser, c) {\n    if (c === '<') {\n      parser.state = S.OPEN_WAKA\n      parser.startTagPosition = parser.position\n    } else if (!isWhitespace(c)) {\n      // have to process this as a text node.\n      // weird, but happens.\n      strictFail(parser, 'Non-whitespace before first tag.')\n      parser.textNode = c\n      parser.state = S.TEXT\n    }\n  }\n\n  function charAt (chunk, i) {\n    var result = ''\n    if (i < chunk.length) {\n      result = chunk.charAt(i)\n    }\n    return result\n  }\n\n  function write (chunk) {\n    var parser = this\n    if (this.error) {\n      throw this.error\n    }\n    if (parser.closed) {\n      return error(parser,\n        'Cannot write after close. Assign an onready handler.')\n    }\n    if (chunk === null) {\n      return end(parser)\n    }\n    if (typeof chunk === 'object') {\n      chunk = chunk.toString()\n    }\n    var i = 0\n    var c = ''\n    while (true) {\n      c = charAt(chunk, i++)\n      parser.c = c\n\n      if (!c) {\n        break\n      }\n\n      if (parser.trackPosition) {\n        parser.position++\n        if (c === '\\n') {\n          parser.line++\n          parser.column = 0\n        } else {\n          parser.column++\n        }\n      }\n\n      switch (parser.state) {\n        case S.BEGIN:\n          parser.state = S.BEGIN_WHITESPACE\n          if (c === '\\uFEFF') {\n            continue\n          }\n          beginWhiteSpace(parser, c)\n          continue\n\n        case S.BEGIN_WHITESPACE:\n          beginWhiteSpace(parser, c)\n          continue\n\n        case S.TEXT:\n          if (parser.sawRoot && !parser.closedRoot) {\n            var starti = i - 1\n            while (c && c !== '<' && c !== '&') {\n              c = charAt(chunk, i++)\n              if (c && parser.trackPosition) {\n                parser.position++\n                if (c === '\\n') {\n                  parser.line++\n                  parser.column = 0\n                } else {\n                  parser.column++\n                }\n              }\n            }\n            parser.textNode += chunk.substring(starti, i - 1)\n          }\n          if (c === '<' && !(parser.sawRoot && parser.closedRoot && !parser.strict)) {\n            parser.state = S.OPEN_WAKA\n            parser.startTagPosition = parser.position\n          } else {\n            if (!isWhitespace(c) && (!parser.sawRoot || parser.closedRoot)) {\n              strictFail(parser, 'Text data outside of root node.')\n            }\n            if (c === '&') {\n              parser.state = S.TEXT_ENTITY\n            } else {\n              parser.textNode += c\n            }\n          }\n          continue\n\n        case S.SCRIPT:\n          // only non-strict\n          if (c === '<') {\n            parser.state = S.SCRIPT_ENDING\n          } else {\n            parser.script += c\n          }\n          continue\n\n        case S.SCRIPT_ENDING:\n          if (c === '/') {\n            parser.state = S.CLOSE_TAG\n          } else {\n            parser.script += '<' + c\n            parser.state = S.SCRIPT\n          }\n          continue\n\n        case S.OPEN_WAKA:\n          // either a /, ?, !, or text is coming next.\n          if (c === '!') {\n            parser.state = S.SGML_DECL\n            parser.sgmlDecl = ''\n          } else if (isWhitespace(c)) {\n            // wait for it...\n          } else if (isMatch(nameStart, c)) {\n            parser.state = S.OPEN_TAG\n            parser.tagName = c\n          } else if (c === '/') {\n            parser.state = S.CLOSE_TAG\n            parser.tagName = ''\n          } else if (c === '?') {\n            parser.state = S.PROC_INST\n            parser.procInstName = parser.procInstBody = ''\n          } else {\n            strictFail(parser, 'Unencoded <')\n            // if there was some whitespace, then add that in.\n            if (parser.startTagPosition + 1 < parser.position) {\n              var pad = parser.position - parser.startTagPosition\n              c = new Array(pad).join(' ') + c\n            }\n            parser.textNode += '<' + c\n            parser.state = S.TEXT\n          }\n          continue\n\n        case S.SGML_DECL:\n          if (parser.sgmlDecl + c === '--') {\n            parser.state = S.COMMENT\n            parser.comment = ''\n            parser.sgmlDecl = ''\n            continue;\n          }\n\n          if (parser.doctype && parser.doctype !== true && parser.sgmlDecl) {\n            parser.state = S.DOCTYPE_DTD\n            parser.doctype += '<!' + parser.sgmlDecl + c\n            parser.sgmlDecl = ''\n          } else if ((parser.sgmlDecl + c).toUpperCase() === CDATA) {\n            emitNode(parser, 'onopencdata')\n            parser.state = S.CDATA\n            parser.sgmlDecl = ''\n            parser.cdata = ''\n          } else if ((parser.sgmlDecl + c).toUpperCase() === DOCTYPE) {\n            parser.state = S.DOCTYPE\n            if (parser.doctype || parser.sawRoot) {\n              strictFail(parser,\n                'Inappropriately located doctype declaration')\n            }\n            parser.doctype = ''\n            parser.sgmlDecl = ''\n          } else if (c === '>') {\n            emitNode(parser, 'onsgmldeclaration', parser.sgmlDecl)\n            parser.sgmlDecl = ''\n            parser.state = S.TEXT\n          } else if (isQuote(c)) {\n            parser.state = S.SGML_DECL_QUOTED\n            parser.sgmlDecl += c\n          } else {\n            parser.sgmlDecl += c\n          }\n          continue\n\n        case S.SGML_DECL_QUOTED:\n          if (c === parser.q) {\n            parser.state = S.SGML_DECL\n            parser.q = ''\n          }\n          parser.sgmlDecl += c\n          continue\n\n        case S.DOCTYPE:\n          if (c === '>') {\n            parser.state = S.TEXT\n            emitNode(parser, 'ondoctype', parser.doctype)\n            parser.doctype = true // just remember that we saw it.\n          } else {\n            parser.doctype += c\n            if (c === '[') {\n              parser.state = S.DOCTYPE_DTD\n            } else if (isQuote(c)) {\n              parser.state = S.DOCTYPE_QUOTED\n              parser.q = c\n            }\n          }\n          continue\n\n        case S.DOCTYPE_QUOTED:\n          parser.doctype += c\n          if (c === parser.q) {\n            parser.q = ''\n            parser.state = S.DOCTYPE\n          }\n          continue\n\n        case S.DOCTYPE_DTD:\n          if (c === ']') {\n            parser.doctype += c\n            parser.state = S.DOCTYPE\n          } else if (c === '<') {\n            parser.state = S.OPEN_WAKA\n            parser.startTagPosition = parser.position\n          } else if (isQuote(c)) {\n            parser.doctype += c\n            parser.state = S.DOCTYPE_DTD_QUOTED\n            parser.q = c\n          } else {\n            parser.doctype += c\n          }\n          continue\n\n        case S.DOCTYPE_DTD_QUOTED:\n          parser.doctype += c\n          if (c === parser.q) {\n            parser.state = S.DOCTYPE_DTD\n            parser.q = ''\n          }\n          continue\n\n        case S.COMMENT:\n          if (c === '-') {\n            parser.state = S.COMMENT_ENDING\n          } else {\n            parser.comment += c\n          }\n          continue\n\n        case S.COMMENT_ENDING:\n          if (c === '-') {\n            parser.state = S.COMMENT_ENDED\n            parser.comment = textopts(parser.opt, parser.comment)\n            if (parser.comment) {\n              emitNode(parser, 'oncomment', parser.comment)\n            }\n            parser.comment = ''\n          } else {\n            parser.comment += '-' + c\n            parser.state = S.COMMENT\n          }\n          continue\n\n        case S.COMMENT_ENDED:\n          if (c !== '>') {\n            strictFail(parser, 'Malformed comment')\n            // allow <!-- blah -- bloo --> in non-strict mode,\n            // which is a comment of \" blah -- bloo \"\n            parser.comment += '--' + c\n            parser.state = S.COMMENT\n          } else if (parser.doctype && parser.doctype !== true) {\n            parser.state = S.DOCTYPE_DTD\n          } else {\n            parser.state = S.TEXT\n          }\n          continue\n\n        case S.CDATA:\n          if (c === ']') {\n            parser.state = S.CDATA_ENDING\n          } else {\n            parser.cdata += c\n          }\n          continue\n\n        case S.CDATA_ENDING:\n          if (c === ']') {\n            parser.state = S.CDATA_ENDING_2\n          } else {\n            parser.cdata += ']' + c\n            parser.state = S.CDATA\n          }\n          continue\n\n        case S.CDATA_ENDING_2:\n          if (c === '>') {\n            if (parser.cdata) {\n              emitNode(parser, 'oncdata', parser.cdata)\n            }\n            emitNode(parser, 'onclosecdata')\n            parser.cdata = ''\n            parser.state = S.TEXT\n          } else if (c === ']') {\n            parser.cdata += ']'\n          } else {\n            parser.cdata += ']]' + c\n            parser.state = S.CDATA\n          }\n          continue\n\n        case S.PROC_INST:\n          if (c === '?') {\n            parser.state = S.PROC_INST_ENDING\n          } else if (isWhitespace(c)) {\n            parser.state = S.PROC_INST_BODY\n          } else {\n            parser.procInstName += c\n          }\n          continue\n\n        case S.PROC_INST_BODY:\n          if (!parser.procInstBody && isWhitespace(c)) {\n            continue\n          } else if (c === '?') {\n            parser.state = S.PROC_INST_ENDING\n          } else {\n            parser.procInstBody += c\n          }\n          continue\n\n        case S.PROC_INST_ENDING:\n          if (c === '>') {\n            emitNode(parser, 'onprocessinginstruction', {\n              name: parser.procInstName,\n              body: parser.procInstBody\n            })\n            parser.procInstName = parser.procInstBody = ''\n            parser.state = S.TEXT\n          } else {\n            parser.procInstBody += '?' + c\n            parser.state = S.PROC_INST_BODY\n          }\n          continue\n\n        case S.OPEN_TAG:\n          if (isMatch(nameBody, c)) {\n            parser.tagName += c\n          } else {\n            newTag(parser)\n            if (c === '>') {\n              openTag(parser)\n            } else if (c === '/') {\n              parser.state = S.OPEN_TAG_SLASH\n            } else {\n              if (!isWhitespace(c)) {\n                strictFail(parser, 'Invalid character in tag name')\n              }\n              parser.state = S.ATTRIB\n            }\n          }\n          continue\n\n        case S.OPEN_TAG_SLASH:\n          if (c === '>') {\n            openTag(parser, true)\n            closeTag(parser)\n          } else {\n            strictFail(parser, 'Forward-slash in opening tag not followed by >')\n            parser.state = S.ATTRIB\n          }\n          continue\n\n        case S.ATTRIB:\n          // haven't read the attribute name yet.\n          if (isWhitespace(c)) {\n            continue\n          } else if (c === '>') {\n            openTag(parser)\n          } else if (c === '/') {\n            parser.state = S.OPEN_TAG_SLASH\n          } else if (isMatch(nameStart, c)) {\n            parser.attribName = c\n            parser.attribValue = ''\n            parser.state = S.ATTRIB_NAME\n          } else {\n            strictFail(parser, 'Invalid attribute name')\n          }\n          continue\n\n        case S.ATTRIB_NAME:\n          if (c === '=') {\n            parser.state = S.ATTRIB_VALUE\n          } else if (c === '>') {\n            strictFail(parser, 'Attribute without value')\n            parser.attribValue = parser.attribName\n            attrib(parser)\n            openTag(parser)\n          } else if (isWhitespace(c)) {\n            parser.state = S.ATTRIB_NAME_SAW_WHITE\n          } else if (isMatch(nameBody, c)) {\n            parser.attribName += c\n          } else {\n            strictFail(parser, 'Invalid attribute name')\n          }\n          continue\n\n        case S.ATTRIB_NAME_SAW_WHITE:\n          if (c === '=') {\n            parser.state = S.ATTRIB_VALUE\n          } else if (isWhitespace(c)) {\n            continue\n          } else {\n            strictFail(parser, 'Attribute without value')\n            parser.tag.attributes[parser.attribName] = ''\n            parser.attribValue = ''\n            emitNode(parser, 'onattribute', {\n              name: parser.attribName,\n              value: ''\n            })\n            parser.attribName = ''\n            if (c === '>') {\n              openTag(parser)\n            } else if (isMatch(nameStart, c)) {\n              parser.attribName = c\n              parser.state = S.ATTRIB_NAME\n            } else {\n              strictFail(parser, 'Invalid attribute name')\n              parser.state = S.ATTRIB\n            }\n          }\n          continue\n\n        case S.ATTRIB_VALUE:\n          if (isWhitespace(c)) {\n            continue\n          } else if (isQuote(c)) {\n            parser.q = c\n            parser.state = S.ATTRIB_VALUE_QUOTED\n          } else {\n            if (!parser.opt.unquotedAttributeValues) {\n              error(parser, 'Unquoted attribute value')\n            }\n            parser.state = S.ATTRIB_VALUE_UNQUOTED\n            parser.attribValue = c\n          }\n          continue\n\n        case S.ATTRIB_VALUE_QUOTED:\n          if (c !== parser.q) {\n            if (c === '&') {\n              parser.state = S.ATTRIB_VALUE_ENTITY_Q\n            } else {\n              parser.attribValue += c\n            }\n            continue\n          }\n          attrib(parser)\n          parser.q = ''\n          parser.state = S.ATTRIB_VALUE_CLOSED\n          continue\n\n        case S.ATTRIB_VALUE_CLOSED:\n          if (isWhitespace(c)) {\n            parser.state = S.ATTRIB\n          } else if (c === '>') {\n            openTag(parser)\n          } else if (c === '/') {\n            parser.state = S.OPEN_TAG_SLASH\n          } else if (isMatch(nameStart, c)) {\n            strictFail(parser, 'No whitespace between attributes')\n            parser.attribName = c\n            parser.attribValue = ''\n            parser.state = S.ATTRIB_NAME\n          } else {\n            strictFail(parser, 'Invalid attribute name')\n          }\n          continue\n\n        case S.ATTRIB_VALUE_UNQUOTED:\n          if (!isAttribEnd(c)) {\n            if (c === '&') {\n              parser.state = S.ATTRIB_VALUE_ENTITY_U\n            } else {\n              parser.attribValue += c\n            }\n            continue\n          }\n          attrib(parser)\n          if (c === '>') {\n            openTag(parser)\n          } else {\n            parser.state = S.ATTRIB\n          }\n          continue\n\n        case S.CLOSE_TAG:\n          if (!parser.tagName) {\n            if (isWhitespace(c)) {\n              continue\n            } else if (notMatch(nameStart, c)) {\n              if (parser.script) {\n                parser.script += '</' + c\n                parser.state = S.SCRIPT\n              } else {\n                strictFail(parser, 'Invalid tagname in closing tag.')\n              }\n            } else {\n              parser.tagName = c\n            }\n          } else if (c === '>') {\n            closeTag(parser)\n          } else if (isMatch(nameBody, c)) {\n            parser.tagName += c\n          } else if (parser.script) {\n            parser.script += '</' + parser.tagName\n            parser.tagName = ''\n            parser.state = S.SCRIPT\n          } else {\n            if (!isWhitespace(c)) {\n              strictFail(parser, 'Invalid tagname in closing tag')\n            }\n            parser.state = S.CLOSE_TAG_SAW_WHITE\n          }\n          continue\n\n        case S.CLOSE_TAG_SAW_WHITE:\n          if (isWhitespace(c)) {\n            continue\n          }\n          if (c === '>') {\n            closeTag(parser)\n          } else {\n            strictFail(parser, 'Invalid characters in closing tag')\n          }\n          continue\n\n        case S.TEXT_ENTITY:\n        case S.ATTRIB_VALUE_ENTITY_Q:\n        case S.ATTRIB_VALUE_ENTITY_U:\n          var returnState\n          var buffer\n          switch (parser.state) {\n            case S.TEXT_ENTITY:\n              returnState = S.TEXT\n              buffer = 'textNode'\n              break\n\n            case S.ATTRIB_VALUE_ENTITY_Q:\n              returnState = S.ATTRIB_VALUE_QUOTED\n              buffer = 'attribValue'\n              break\n\n            case S.ATTRIB_VALUE_ENTITY_U:\n              returnState = S.ATTRIB_VALUE_UNQUOTED\n              buffer = 'attribValue'\n              break\n          }\n\n          if (c === ';') {\n            var parsedEntity = parseEntity(parser)\n            if (parser.opt.unparsedEntities && !Object.values(sax.XML_ENTITIES).includes(parsedEntity)) {\n              parser.entity = ''\n              parser.state = returnState\n              parser.write(parsedEntity)\n            } else {\n              parser[buffer] += parsedEntity\n              parser.entity = ''\n              parser.state = returnState\n            }\n          } else if (isMatch(parser.entity.length ? entityBody : entityStart, c)) {\n            parser.entity += c\n          } else {\n            strictFail(parser, 'Invalid character in entity name')\n            parser[buffer] += '&' + parser.entity + c\n            parser.entity = ''\n            parser.state = returnState\n          }\n\n          continue\n\n        default: /* istanbul ignore next */ {\n          throw new Error(parser, 'Unknown state: ' + parser.state)\n        }\n      }\n    } // while\n\n    if (parser.position >= parser.bufferCheckPosition) {\n      checkBufferLength(parser)\n    }\n    return parser\n  }\n\n  /*! http://mths.be/fromcodepoint v0.1.0 by @mathias */\n  /* istanbul ignore next */\n  if (!String.fromCodePoint) {\n    (function () {\n      var stringFromCharCode = String.fromCharCode\n      var floor = Math.floor\n      var fromCodePoint = function () {\n        var MAX_SIZE = 0x4000\n        var codeUnits = []\n        var highSurrogate\n        var lowSurrogate\n        var index = -1\n        var length = arguments.length\n        if (!length) {\n          return ''\n        }\n        var result = ''\n        while (++index < length) {\n          var codePoint = Number(arguments[index])\n          if (\n            !isFinite(codePoint) || // `NaN`, `+Infinity`, or `-Infinity`\n            codePoint < 0 || // not a valid Unicode code point\n            codePoint > 0x10FFFF || // not a valid Unicode code point\n            floor(codePoint) !== codePoint // not an integer\n          ) {\n            throw RangeError('Invalid code point: ' + codePoint)\n          }\n          if (codePoint <= 0xFFFF) { // BMP code point\n            codeUnits.push(codePoint)\n          } else { // Astral code point; split in surrogate halves\n            // http://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n            codePoint -= 0x10000\n            highSurrogate = (codePoint >> 10) + 0xD800\n            lowSurrogate = (codePoint % 0x400) + 0xDC00\n            codeUnits.push(highSurrogate, lowSurrogate)\n          }\n          if (index + 1 === length || codeUnits.length > MAX_SIZE) {\n            result += stringFromCharCode.apply(null, codeUnits)\n            codeUnits.length = 0\n          }\n        }\n        return result\n      }\n      /* istanbul ignore next */\n      if (Object.defineProperty) {\n        Object.defineProperty(String, 'fromCodePoint', {\n          value: fromCodePoint,\n          configurable: true,\n          writable: true\n        })\n      } else {\n        String.fromCodePoint = fromCodePoint\n      }\n    }())\n  }\n})(typeof exports === 'undefined' ? this.sax = {} : exports)\n","import { Setting, Settings, SettingValue } from \"@scrypted/sdk\";\nimport { SettingsMixinDeviceBase, SettingsMixinDeviceOptions } from \"@scrypted/sdk/settings-mixin\";\nimport { StorageSetting, StorageSettings, StorageSettingsDict } from \"@scrypted/sdk/storage-settings\";\nimport keyBy from \"lodash/keyBy\";\nimport { HikvisionCameraAPI } from \"./client\";\nimport HikvisionVideoclipssProvider from \"./main\";\nimport { convertSettingsToStorageSettings, generateBitrateChoices, MotionDetectionUpdateParams } from \"./utils\";\n\nexport default class HikvisionUtilitiesMixin extends SettingsMixinDeviceBase<any> implements Settings {\n    client: HikvisionCameraAPI;\n    killed: boolean;\n    streamCaps: any[] = [];\n    motionCaps: any = null;\n    audioCaps: any = null;\n    timeCaps: any = null;\n    osdCaps: any = null;\n    ptzCaps: any = null;\n    ptzPresets: any[] = [];\n    deviceInfo: any = null;\n    suppressOnPut = false;\n\n    initStorage: StorageSettingsDict<string> = {}\n\n    storageSettings = new StorageSettings(this, this.initStorage);\n\n    constructor(options: SettingsMixinDeviceOptions<any>, private plugin: HikvisionVideoclipssProvider) {\n        super(options);\n\n        this.plugin.mixinsMap[this.id] = this;\n        setTimeout(async () => !this.killed && await this.init(), 2000);\n    }\n\n    async init() {\n        await this.fetchMotionCapabilities();\n        await this.fetchStreamCapabilities();\n        await this.fetchAudioCapabilities();\n        await this.fetchTimeCapabilities();\n        await this.fetchOSDCapabilities();\n        await this.fetchPTZCapabilities();\n        await this.fetchDeviceInfo();\n\n        await this.refreshSettings();\n        await this.refreshSettings();\n    }\n\n    async updateMotionCapabilities() {\n        await this.fetchMotionCapabilities();\n        this.setMotionSettingsValues();\n    }\n\n    async updateStreamCapabilities() {\n        await this.fetchStreamCapabilities();\n        this.setStreamSettingsValues(this.streamCaps);\n    }\n\n    async updateAudioCapabilities() {\n        await this.fetchAudioCapabilities();\n        this.setAudioSettingsValues();\n    }\n\n    async updateTimeCapabilities() {\n        await this.fetchTimeCapabilities();\n        this.setTimeSettingsValues();\n    }\n\n    async updateOSDCapabilities() {\n        await this.fetchOSDCapabilities();\n        this.setOSDSettingsValues();\n    }\n\n    async updatePTZCapabilities() {\n        await this.fetchPTZCapabilities();\n        this.setPTZSettingsValues();\n    }\n\n    async fetchMotionCapabilities() {\n        const client = await this.getClient();\n        this.motionCaps = await client.getMotionCapabilities();\n        const eventTrigger = await client.getMotionEventTrigger();\n        this.motionCaps.centerNotificationEnabled = eventTrigger.centerNotificationEnabled;\n    }\n\n    async fetchAudioCapabilities() {\n        const client = await this.getClient();\n        this.audioCaps = await client.getTwoWayAudioCapabilities();\n    }\n\n    async fetchTimeCapabilities() {\n        const client = await this.getClient();\n        this.timeCaps = await client.getTimeCapabilities();\n    }\n\n    async fetchOSDCapabilities() {\n        const client = await this.getClient();\n        const caps = await client.getOSDCapabilities();\n        const current = await client.getOSD();\n        const videoInput = await client.getVideoInputChannel();\n        this.osdCaps = { ...caps, ...current, videoInputName: videoInput.name };\n    }\n\n    async fetchDeviceInfo() {\n        const client = await this.getClient();\n        this.deviceInfo = await client.getDeviceInfo();\n    }\n\n    async fetchPTZCapabilities() {\n        const client = await this.getClient();\n        try {\n            this.ptzCaps = await client.getPTZCapabilities();\n            this.ptzPresets = await client.getPTZPresets();\n        } catch (e) {\n            this.console.log('PTZ not supported or error fetching capabilities', e);\n            this.ptzCaps = null;\n            this.ptzPresets = [];\n        }\n    }\n\n    generateMotionSettings() {\n        const motionSettings: StorageSetting[] = [];\n\n        if (!this.motionCaps) {\n            return motionSettings;\n        }\n\n        // Motion Enabled setting\n        motionSettings.push({\n            key: 'motionEnabled',\n            title: 'Motion Enabled',\n            subgroup: 'Motion',\n            type: 'boolean',\n            immediate: true,\n            onPut: async (old: boolean, value: boolean) => {\n                if (old !== value && old !== undefined) {\n                    await this.updateMotionDetection({ enabled: value });\n                }\n            }\n        });\n\n        // Motion Sensitivity setting\n        motionSettings.push({\n            key: 'motionSensitivity',\n            title: 'Motion Sensitivity',\n            subgroup: 'Motion',\n            type: 'string',\n            choices: this.motionCaps.sensitivityOptions,\n            immediate: true,\n            onPut: async (old: string, value: string) => {\n                if (old !== value && old !== undefined) {\n                    await this.updateMotionDetection({ motionSensitivity: value });\n                }\n            }\n        });\n\n        // Center Notification setting\n        motionSettings.push({\n            key: 'motionCenterNotification',\n            title: 'Send to Notification Center',\n            description: 'Enable notifications to surveillance center',\n            subgroup: 'Motion',\n            type: 'boolean',\n            immediate: true,\n            onPut: async (old: boolean, value: boolean) => {\n                if (old !== value && old !== undefined) {\n                    await this.updateMotionEventTrigger({ centerNotificationEnabled: value });\n                }\n            }\n        });\n\n        // Refetch button\n        motionSettings.push({\n            key: 'motionRefetch',\n            title: 'Refetch',\n            subgroup: 'Motion',\n            type: 'button',\n            onPut: async () => {\n                await this.updateMotionCapabilities();\n            }\n        });\n\n        return motionSettings;\n    }\n\n    generateStreamSettings(streamCaps: any[]) {\n        const streamSettings: StorageSetting[] = [];\n\n        for (const channel of streamCaps) {\n            const streamId = channel.id!;\n            const caps = channel.capabilities!;\n\n            streamSettings.push({\n                key: `${streamId}:name`,\n                title: `Stream name`,\n                description: `${streamId}`,\n                subgroup: 'Stream',\n                type: 'html',\n            });\n\n            // Resolution setting\n            const resolutionChoices = caps.resolutions.map(res =>\n                `${res.width}x${res.height}`\n            );\n            streamSettings.push({\n                key: `${streamId}:videoResolution`,\n                title: `Resolution (Stream ${streamId})`,\n                subgroup: 'Stream',\n                type: 'string',\n                choices: resolutionChoices,\n                immediate: true,\n                onPut: async (old: string, value: string) => {\n                    if (old !== value && old !== undefined) {\n                        const [width, height] = value.split('x').map(Number);\n                        await this.updateStreamingChannel(streamId, {\n                            videoResolutionWidth: width,\n                            videoResolutionHeight: height,\n                        });\n                    }\n                }\n            });\n\n            // FPS setting\n            const fpsChoices = caps.allFrameRates.map(fr => fr.label);\n            streamSettings.push({\n                key: `${streamId}:maxFrameRate`,\n                title: `FPS (Stream ${streamId})`,\n                subgroup: 'Stream',\n                type: 'string',\n                choices: fpsChoices,\n                immediate: true,\n                onPut: async (old: string, value: string) => {\n                    if (old !== value && old !== undefined) {\n                        const frameRateValue = caps.allFrameRates.find(fr => fr.label === value)?.value;\n                        if (frameRateValue) {\n                            await this.updateStreamingChannel(streamId, {\n                                maxFrameRate: frameRateValue,\n                            });\n                        }\n                    }\n                }\n            });\n\n            // Quality control type setting\n            streamSettings.push({\n                key: `${streamId}:videoQualityControlType`,\n                title: `Quality Control (Stream ${streamId})`,\n                subgroup: 'Stream',\n                type: 'string',\n                choices: caps.qualityControlTypes,\n                immediate: true,\n                // onPut: async (old: string, value: string) => {\n                //     if (old !== value) {\n                //         await this.updateStreamingChannel(streamId, {\n                //             videoQualityControlType: value as 'VBR' | 'CBR',\n                //         });\n                //     }\n                // }\n            });\n\n            // Bitrate setting (kbps) - choices will be dynamic based on quality control type\n            streamSettings.push({\n                key: `${streamId}:bitrate`,\n                title: `Bitrate kbps (Stream ${streamId})`,\n                subgroup: 'Stream',\n                type: 'string',\n                choices: [], // Will be populated in setStreamSettingsValues\n                immediate: true,\n                // onPut: async (old: number, value: number) => {\n                //     if (old !== value) {\n                //         const updateParams = video.videoQualityControlType === 'VBR'\n                //             ? { vbrUpperCap: value }\n                //             : { constantBitRate: value };\n                //         await this.updateStreamingChannel(streamId, updateParams);\n                //     }\n                // }\n            });\n\n            // Video codec type setting\n            const codecChoices = caps.videoCodecs.map(codec => codec.type);\n            streamSettings.push({\n                key: `${streamId}:videoCodecType`,\n                title: `Video Codec (Stream ${streamId})`,\n                subgroup: 'Stream',\n                type: 'string',\n                choices: codecChoices,\n                immediate: true,\n                // onPut: async (old: string, value: string) => {\n                //     if (old !== value) {\n                //         await this.updateStreamingChannel(streamId, {\n                //             videoCodecType: value,\n                //         });\n                //     }\n                // }\n            });\n\n            // Keyframe interval (GOP/I-Frame) setting in seconds\n            const video = channel.video!;\n            const audio = channel.audio!;\n\n            // Calculate min/max in seconds based on GovLength (frame count)\n            // govLength (frames) / fps = seconds\n            const fps = video.maxFrameRate / 100; // Convert centesimal to fps\n            const govLengthMinSec = Math.ceil(video.govLengthMin / fps);\n            const govLengthMaxSec = Math.floor(video.govLengthMax / fps);\n\n            const govLengthChoices: string[] = [];\n            for (let i = govLengthMinSec; i <= govLengthMaxSec; i++) {\n                govLengthChoices.push(String(i));\n            }\n\n            streamSettings.push({\n                key: `${streamId}:govLength`,\n                title: `I-Frame Interval (Stream ${streamId})`,\n                description: `Min: ${govLengthMinSec}s, Max: ${govLengthMaxSec}s (GOP)`,\n                subgroup: 'Stream',\n                type: 'string',\n                choices: govLengthChoices,\n                immediate: true,\n                onPut: async (old: string, value: string) => {\n                    if (old !== value && old !== undefined) {\n                        // Convert seconds to frame count: seconds * fps\n                        const govLengthInFrames = Math.round(Number(value) * fps);\n\n                        await this.updateStreamingChannel(streamId, {\n                            govLength: govLengthInFrames,\n                        });\n                    }\n                }\n            });\n\n            // Fixed Quality setting\n            const fixedQualityChoices = [\n                'Minimum (1)',\n                'Very Low (20)',\n                'Low (40)',\n                'Medium (60)',\n                'High (80)',\n                'Maximum (100)'\n            ];\n\n            streamSettings.push({\n                key: `${streamId}:fixedQuality`,\n                title: `Fixed Quality (Stream ${streamId})`,\n                subgroup: 'Stream',\n                type: 'string',\n                choices: fixedQualityChoices,\n                immediate: true,\n                onPut: async (old: string, value: string) => {\n                    if (old !== value && old !== undefined) {\n                        // Extract number from label like \"Maximum (100)\" -> 100\n                        const match = value.match(/\\((\\d+)\\)/);\n                        const numericValue = match ? Number(match[1]) : Number(value);\n\n                        this.console.log(`Setting fixedQuality for stream ${streamId}: ${value} -> ${numericValue}`);\n\n                        await this.updateStreamingChannel(streamId, {\n                            fixedQuality: numericValue,\n                        });\n                    }\n                }\n            });\n\n            // Audio enabled setting\n            streamSettings.push({\n                key: `${streamId}:audioEnabled`,\n                title: `Audio Enabled (Stream ${streamId})`,\n                subgroup: 'Stream',\n                type: 'boolean',\n                immediate: true,\n                onPut: async (old: boolean, value: boolean) => {\n                    if (old !== value && old !== undefined) {\n                        await this.updateStreamingChannel(streamId, {\n                            audioEnabled: value,\n                        });\n                    }\n                }\n            });\n\n            // Smart Codec (H.265+) setting - only show for H.265 codec\n            if (video.videoCodecType === 'H.265') {\n                streamSettings.push({\n                    key: `${streamId}:smartCodecEnabled`,\n                    title: `H.265+ Smart Codec (Stream ${streamId})`,\n                    description: 'Enable H.265+ for better compression',\n                    subgroup: 'Stream',\n                    type: 'boolean',\n                    immediate: true,\n                    onPut: async (old: boolean, value: boolean) => {\n                        if (old !== value && old !== undefined) {\n                            await this.updateStreamingChannel(streamId, {\n                                smartCodecEnabled: value,\n                            });\n                        }\n                    }\n                });\n            }\n        }\n\n        // Refetch button\n        streamSettings.push({\n            key: 'streamsRefetch',\n            title: 'Refetch',\n            subgroup: 'Stream',\n            type: 'button',\n            onPut: async () => {\n                await this.updateStreamCapabilities();\n            }\n        });\n\n        return streamSettings;\n    }\n\n    generateAudioSettings() {\n        const audioSettings: StorageSetting[] = [];\n\n        if (!this.audioCaps) {\n            return audioSettings;\n        }\n\n        // Audio Codec setting\n        audioSettings.push({\n            key: 'audioCodec',\n            title: 'Audio Codec',\n            subgroup: 'Audio',\n            type: 'string',\n            choices: this.audioCaps.audioCodecs,\n            immediate: true,\n            onPut: async (old: string, value: string) => {\n                if (old !== value && old !== undefined) {\n                    await this.updateAudio({\n                        audioCompressionType: value,\n                    });\n                }\n            }\n        });\n\n        // Speaker Volume setting\n        const volumeChoices: string[] = [];\n        for (let i = this.audioCaps.speakerVolumeMin; i <= this.audioCaps.speakerVolumeMax; i += 10) {\n            volumeChoices.push(String(i));\n        }\n        if (!volumeChoices.includes(String(this.audioCaps.speakerVolumeMax))) {\n            volumeChoices.push(String(this.audioCaps.speakerVolumeMax));\n        }\n\n        audioSettings.push({\n            key: 'speakerVolume',\n            title: 'Speaker Volume',\n            description: `Range: ${this.audioCaps.speakerVolumeMin}-${this.audioCaps.speakerVolumeMax}`,\n            subgroup: 'Audio',\n            type: 'string',\n            choices: volumeChoices,\n            immediate: true,\n            onPut: async (old: string, value: string) => {\n                if (old !== value && old !== undefined) {\n                    await this.updateAudio({\n                        speakerVolume: Number(value),\n                    });\n                }\n            }\n        });\n\n        // Noise Reduction setting\n        if (this.audioCaps.supportsNoiseReduction) {\n            audioSettings.push({\n                key: 'noiseReduction',\n                title: 'Noise Reduction',\n                subgroup: 'Audio',\n                type: 'boolean',\n                immediate: true,\n                onPut: async (old: boolean, value: boolean) => {\n                    if (old !== value && old !== undefined) {\n                        await this.updateAudio({\n                            noiseReduction: value,\n                        });\n                    }\n                }\n            });\n        }\n\n        // Audio Input Type setting\n        audioSettings.push({\n            key: 'audioInputType',\n            title: 'Audio Input Type',\n            subgroup: 'Audio',\n            type: 'string',\n            choices: this.audioCaps.audioInputTypes,\n            immediate: true,\n            onPut: async (old: string, value: string) => {\n                if (old !== value && old !== undefined) {\n                    await this.updateAudio({\n                        audioInputType: value,\n                    });\n                }\n            }\n        });\n\n        // Refetch button\n        audioSettings.push({\n            key: 'audioRefetch',\n            title: 'Refetch',\n            subgroup: 'Audio',\n            type: 'button',\n            onPut: async () => {\n                await this.updateAudioCapabilities();\n            }\n        });\n\n        return audioSettings;\n    }\n\n    generateTimeSettings() {\n        const timeSettings: StorageSetting[] = [];\n\n        if (!this.timeCaps) {\n            return timeSettings;\n        }\n\n        // Get current timeMode from storage (if already set)\n        const currentTimeMode = this.storageSettings.values['timeMode'];\n\n        // Time Mode setting (NTP or manual) - ALWAYS show\n        timeSettings.push({\n            key: 'timeMode',\n            title: 'Time Mode',\n            subgroup: 'Time',\n            type: 'string',\n            choices: this.timeCaps.timeModes || [],\n            immediate: true,\n            onPut: async (old: string, value: string) => {\n                if (old !== value && old !== undefined) {\n                    // If switching to manual mode, automatically send current time\n                    if (value === 'manual') {\n                        const now = new Date();\n                        // Format: YYYY-MM-DDTHH:MM:SS\n                        const localTime = now.toISOString().slice(0, 19);\n                        await this.updateTime({\n                            timeMode: value,\n                            localTime: localTime,\n                        });\n                    } else {\n                        await this.updateTime({\n                            timeMode: value,\n                        });\n                    }\n                    // Regenerate settings to show/hide conditional fields\n                    await this.updateTimeCapabilities();\n                    await this.refreshSettings();\n                }\n            }\n        });\n\n        // NTP Server settings (only shown when timeMode is NTP)\n        if (currentTimeMode === 'NTP') {\n            timeSettings.push({\n                key: 'ntpServer',\n                title: 'NTP Server IP',\n                description: 'IP address of NTP server',\n                subgroup: 'Time',\n                type: 'string',\n                immediate: false,\n                onPut: async (old: string, value: string) => {\n                    if (old !== value && old !== undefined) {\n                        await this.updateNTPServer({\n                            ipAddress: value,\n                        });\n                    }\n                }\n            });\n\n            timeSettings.push({\n                key: 'ntpPort',\n                title: 'NTP Server Port',\n                description: 'Port number of NTP server',\n                subgroup: 'Time',\n                type: 'number',\n                immediate: false,\n                onPut: async (old: number, value: number) => {\n                    if (old !== value && old !== undefined) {\n                        await this.updateNTPServer({\n                            portNo: value,\n                        });\n                    }\n                }\n            });\n\n            // NTP Sync Interval in hours (1-36 hours)\n            const syncIntervalChoices: string[] = [];\n            for (let i = 1; i <= 36; i++) {\n                syncIntervalChoices.push(`${i} hour${i > 1 ? 's' : ''}`);\n            }\n\n            timeSettings.push({\n                key: 'ntpSyncInterval',\n                title: 'NTP Sync Interval',\n                description: 'How often to sync with NTP server',\n                subgroup: 'Time',\n                type: 'string',\n                choices: syncIntervalChoices,\n                immediate: true,\n                onPut: async (old: string, value: string) => {\n                    if (old !== value && old !== undefined) {\n                        // Extract hours from \"X hour(s)\" and convert to minutes\n                        const match = value.match(/^(\\d+) hour/);\n                        if (match) {\n                            const hours = Number(match[1]);\n                            const minutes = hours * 60;\n                            await this.updateNTPServer({\n                                synchronizeInterval: minutes,\n                            });\n                        }\n                    }\n                }\n            });\n        }\n\n        // Time Zone setting - ALWAYS show\n        const timezoneChoices = [\n            'UTC-12:00:00', 'UTC-11:00:00', 'UTC-10:00:00', 'UTC-9:00:00', 'UTC-8:00:00',\n            'UTC-7:00:00', 'UTC-6:00:00', 'UTC-5:00:00', 'UTC-4:00:00', 'UTC-3:00:00',\n            'UTC-2:00:00', 'UTC-1:00:00', 'UTC+0:00:00', 'UTC+1:00:00', 'UTC+2:00:00',\n            'UTC+3:00:00', 'UTC+4:00:00', 'UTC+5:00:00', 'UTC+6:00:00', 'UTC+7:00:00',\n            'UTC+8:00:00', 'UTC+9:00:00', 'UTC+10:00:00', 'UTC+11:00:00', 'UTC+12:00:00'\n        ];\n\n        timeSettings.push({\n            key: 'timeZone',\n            title: 'Time Zone',\n            description: 'Select timezone offset from UTC',\n            subgroup: 'Time',\n            type: 'string',\n            choices: timezoneChoices,\n            immediate: true,\n            onPut: async (old: string, value: string) => {\n                if (old !== value && old !== undefined) {\n                    // Convert UTC+1:00:00 to CST-1:00:00 format (Hikvision uses CST with inverted sign)\n                    const match = value.match(/UTC([+-])(\\d+):00:00/);\n                    if (match) {\n                        const sign = match[1] === '+' ? '-' : '+';\n                        const hours = match[2];\n                        const baseTimezone = `CST${sign}${hours}:00:00`;\n\n                        // Preserve DST if it was enabled\n                        const dstSuffix = 'DST01:00:00,M3.5.0/02:00:00,M10.5.0/03:00:00';\n                        const hasDST = this.storageSettings.values['daylightSaving'] === true;\n                        const newTZ = hasDST ? `${baseTimezone}${dstSuffix}` : baseTimezone;\n\n                        await this.updateTime({\n                            timeZone: newTZ,\n                        });\n                    }\n                }\n            }\n        });\n\n        // Daylight Saving Time (DST) setting - ALWAYS show\n        const dstSuffix = 'DST01:00:00,M3.5.0/02:00:00,M10.5.0/03:00:00';\n        timeSettings.push({\n            key: 'daylightSaving',\n            title: 'Daylight Saving Time',\n            description: 'Enable DST (Ora Legale)',\n            subgroup: 'Time',\n            type: 'boolean',\n            immediate: true,\n            onPut: async (old: boolean, value: boolean) => {\n                if (old !== value && old !== undefined) {\n                    // Get current timezone from storage and reconstruct it\n                    const currentUTCTz = this.storageSettings.values['timeZone'] || 'UTC+1:00:00';\n                    const match = currentUTCTz.match(/UTC([+-])(\\d+):00:00/);\n                    if (match) {\n                        const sign = match[1] === '+' ? '-' : '+';\n                        const hours = match[2];\n                        const baseTZ = `CST${sign}${hours}:00:00`;\n                        const newTZ = value ? `${baseTZ}${dstSuffix}` : baseTZ;\n\n                        await this.updateTime({\n                            timeZone: newTZ,\n                        });\n                    }\n                }\n            }\n        });\n\n        // Refetch button\n        timeSettings.push({\n            key: 'timeRefetch',\n            title: 'Refetch',\n            subgroup: 'Time',\n            type: 'button',\n            onPut: async () => {\n                await this.updateTimeCapabilities();\n            }\n        });\n\n        return timeSettings;\n    }\n\n    getOSDPositionPresets(width: number, height: number) {\n        const padding = 0;\n        const lineHeight = 60; // User specified 40\n        const textWidth = 220; // Approximate width\n\n        // Coordinate system: 0,0 is Bottom-Left. 0,Height is Top-Left.\n        return {\n            'Top Left 1': { x: padding, y: height - padding },\n            'Top Left 2': { x: padding, y: height - padding - lineHeight },\n            'Top Left 3': { x: padding, y: height - padding - lineHeight * 2 },\n            'Top Right 1': { x: width - textWidth - padding, y: height - padding },\n            'Top Right 2': { x: width - textWidth - padding, y: height - padding - lineHeight },\n            'Top Right 3': { x: width - textWidth - padding, y: height - padding - lineHeight * 2 },\n            'Bottom Left 1': { x: padding, y: padding },\n            'Bottom Left 2': { x: padding, y: padding + lineHeight },\n            'Bottom Left 3': { x: padding, y: padding + lineHeight * 2 },\n            'Bottom Right 1': { x: width - textWidth - padding, y: padding },\n            'Bottom Right 2': { x: width - textWidth - padding, y: padding + lineHeight },\n            'Bottom Right 3': { x: width - textWidth - padding, y: padding + lineHeight * 2 },\n        };\n    }\n\n    generateOSDSettings() {\n        const osdSettings: StorageSetting[] = [];\n\n        if (!this.osdCaps) {\n            return osdSettings;\n        }\n\n        const width = this.osdCaps.normalizedScreenWidth || 704;\n        const height = this.osdCaps.normalizedScreenHeight || 576;\n        const presets = this.getOSDPositionPresets(width, height);\n        const presetChoices = Object.keys(presets);\n\n        // Date/Time Overlay\n        osdSettings.push({\n            key: 'osdDateTimeEnabled',\n            title: 'Show Date/Time',\n            subgroup: 'OSD',\n            type: 'boolean',\n            immediate: true,\n            onPut: async (old: boolean, value: boolean) => {\n                if (old !== value && old !== undefined) {\n                    await this.updateOSD({ dateTimeOverlay: { enabled: value } });\n                }\n            }\n        });\n\n        if (this.storageSettings.values['osdDateTimeEnabled']) {\n            osdSettings.push({\n                key: 'osdDateStyle',\n                title: 'Date Format',\n                subgroup: 'OSD',\n                type: 'string',\n                choices: ['YYYY-MM-DD', 'MM-DD-YYYY', 'DD-MM-YYYY'],\n                immediate: true,\n                onPut: async (old: string, value: string) => {\n                    if (old !== value && old !== undefined) {\n                        await this.updateOSD({ dateTimeOverlay: { dateStyle: value } });\n                    }\n                }\n            });\n\n            osdSettings.push({\n                key: 'osdTimeStyle',\n                title: 'Time Format',\n                subgroup: 'OSD',\n                type: 'string',\n                choices: ['12hour', '24hour'],\n                immediate: true,\n                onPut: async (old: string, value: string) => {\n                    if (old !== value && old !== undefined) {\n                        await this.updateOSD({ dateTimeOverlay: { timeStyle: value } });\n                    }\n                }\n            });\n\n            osdSettings.push({\n                key: 'osdDisplayWeek',\n                title: 'Show Week Day',\n                subgroup: 'OSD',\n                type: 'boolean',\n                immediate: true,\n                onPut: async (old: boolean, value: boolean) => {\n                    if (old !== value && old !== undefined) {\n                        await this.updateOSD({ dateTimeOverlay: { displayWeek: value } });\n                    }\n                }\n            });\n\n            osdSettings.push({\n                key: 'osdDateTimePositionPreset',\n                title: 'Date/Time Position Preset',\n                subgroup: 'OSD',\n                type: 'string',\n                choices: presetChoices,\n                immediate: true,\n                onPut: async (old: string, value: string) => {\n                    if (old !== value && old !== undefined) {\n                        const pos = presets[value as keyof typeof presets];\n                        if (pos) {\n                            this.suppressOnPut = true;\n                            try {\n                                this.storageSettings.values['osdDateTimeX'] = pos.x;\n                                this.storageSettings.values['osdDateTimeY'] = pos.y;\n                                await this.updateOSD({ dateTimeOverlay: { positionX: pos.x, positionY: pos.y } });\n                                \n                                // Update local cache\n                                if (this.osdCaps && this.osdCaps.dateTimeOverlay) {\n                                    this.osdCaps.dateTimeOverlay.positionX = [String(pos.x)];\n                                    this.osdCaps.dateTimeOverlay.positionY = [String(pos.y)];\n                                }\n                            } finally {\n                                this.suppressOnPut = false;\n                            }\n                            await this.refreshSettings();\n                        }\n                    }\n                }\n            });\n\n            osdSettings.push({\n                key: 'osdDateTimeX',\n                title: 'Date/Time X Position',\n                subgroup: 'OSD',\n                type: 'number',\n                immediate: false,\n                onPut: async (old: number, value: number) => {\n                    if (this.suppressOnPut) return;\n                    if (old !== value && old !== undefined) {\n                        await this.updateOSD({ dateTimeOverlay: { positionX: value } });\n                    }\n                }\n            });\n\n            osdSettings.push({\n                key: 'osdDateTimeY',\n                title: 'Date/Time Y Position',\n                subgroup: 'OSD',\n                type: 'number',\n                immediate: false,\n                onPut: async (old: number, value: number) => {\n                    if (this.suppressOnPut) return;\n                    if (old !== value && old !== undefined) {\n                        await this.updateOSD({ dateTimeOverlay: { positionY: value } });\n                    }\n                }\n            });\n        }\n\n        // Channel Name Overlay\n        osdSettings.push({\n            key: 'osdChannelNameEnabled',\n            title: 'Show Channel Name',\n            subgroup: 'OSD',\n            type: 'boolean',\n            immediate: true,\n            onPut: async (old: boolean, value: boolean) => {\n                if (old !== value && old !== undefined) {\n                    await this.updateOSD({ channelNameOverlay: { enabled: value } });\n                    await this.updateOSDCapabilities();\n                    await this.refreshSettings();\n                }\n            }\n        });\n\n        if (this.storageSettings.values['osdChannelNameEnabled']) {\n            osdSettings.push({\n                key: 'osdChannelName',\n                title: 'Channel Name',\n                description: 'Updates the video input channel name which is used as channel name overlay',\n                subgroup: 'OSD',\n                type: 'string',\n                immediate: false,\n                onPut: async (old: string, value: string) => {\n                    if (old !== value && old !== undefined) {\n                        await this.updateVideoInputChannel(value);\n                        if (this.osdCaps) {\n                            this.osdCaps.videoInputName = value;\n                        }\n                    }\n                }\n            });\n\n            osdSettings.push({\n                key: 'osdChannelNamePositionPreset',\n                title: 'Channel Name Position Preset',\n                subgroup: 'OSD',\n                type: 'string',\n                choices: presetChoices,\n                immediate: true,\n                onPut: async (old: string, value: string) => {\n                    if (old !== value && old !== undefined) {\n                        const pos = presets[value as keyof typeof presets];\n                        if (pos) {\n                            this.suppressOnPut = true;\n                            try {\n                                this.storageSettings.values['osdChannelNameX'] = pos.x;\n                                this.storageSettings.values['osdChannelNameY'] = pos.y;\n                                await this.updateOSD({ channelNameOverlay: { positionX: pos.x, positionY: pos.y } });\n                                \n                                // Update local cache\n                                if (this.osdCaps && this.osdCaps.channelNameOverlay) {\n                                    this.osdCaps.channelNameOverlay.positionX = [String(pos.x)];\n                                    this.osdCaps.channelNameOverlay.positionY = [String(pos.y)];\n                                }\n                            } finally {\n                                this.suppressOnPut = false;\n                            }\n                            await this.refreshSettings();\n                        }\n                    }\n                }\n            });\n\n            osdSettings.push({\n                key: 'osdChannelNameX',\n                title: 'Channel Name X Position',\n                subgroup: 'OSD',\n                type: 'number',\n                immediate: false,\n                onPut: async (old: number, value: number) => {\n                    if (this.suppressOnPut) return;\n                    if (old !== value && old !== undefined) {\n                        await this.updateOSD({ channelNameOverlay: { positionX: value } });\n                    }\n                }\n            });\n\n            osdSettings.push({\n                key: 'osdChannelNameY',\n                title: 'Channel Name Y Position',\n                subgroup: 'OSD',\n                type: 'number',\n                immediate: false,\n                onPut: async (old: number, value: number) => {\n                    if (this.suppressOnPut) return;\n                    if (old !== value && old !== undefined) {\n                        await this.updateOSD({ channelNameOverlay: { positionY: value } });\n                    }\n                }\n            });\n        }\n\n        // Text Overlays\n        const maxTextOverlays = this.osdCaps.textOverlayListSize || 8;\n        for (let i = 1; i <= maxTextOverlays; i++) {\n            const id = String(i);\n            osdSettings.push({\n                key: `osdText${id}Enabled`,\n                title: `Text Overlay ${id} Enabled`,\n                subgroup: 'OSD',\n                type: 'boolean',\n                immediate: true,\n                onPut: async (old: boolean, value: boolean) => {\n                    if (old !== value && old !== undefined) {\n                        await this.updateOSD({ textOverlays: [{ id, enabled: value }] });\n                        await this.updateOSDCapabilities();\n                        await this.refreshSettings();\n                    }\n                }\n            });\n\n            if (this.storageSettings.values[`osdText${id}Enabled`]) {\n                osdSettings.push({\n                    key: `osdText${id}Content`,\n                    title: `Text Overlay ${id} Content`,\n                    subgroup: 'OSD',\n                    type: 'string',\n                    immediate: false,\n                    onPut: async (old: string, value: string) => {\n                        if (old !== value && old !== undefined) {\n                            await this.updateOSD({ textOverlays: [{ id, displayText: value }] });\n                        }\n                    }\n                });\n\n                osdSettings.push({\n                    key: `osdText${id}PositionPreset`,\n                    title: `Text Overlay ${id} Position Preset`,\n                    subgroup: 'OSD',\n                    type: 'string',\n                    choices: presetChoices,\n                    immediate: true,\n                    onPut: async (old: string, value: string) => {\n                        if (old !== value && old !== undefined) {\n                            const pos = presets[value as keyof typeof presets];\n                            if (pos) {\n                                this.suppressOnPut = true;\n                                try {\n                                    this.storageSettings.values[`osdText${id}X`] = pos.x;\n                                    this.storageSettings.values[`osdText${id}Y`] = pos.y;\n                                    await this.updateOSD({ textOverlays: [{ id, positionX: pos.x, positionY: pos.y }] });\n                                    \n                                    // Update local cache\n                                    if (this.osdCaps && this.osdCaps.textOverlayList) {\n                                        const overlay = this.osdCaps.textOverlayList.find((t: any) => t.id?.[0] === id);\n                                        if (overlay) {\n                                            overlay.positionX = [String(pos.x)];\n                                            overlay.positionY = [String(pos.y)];\n                                        }\n                                    }\n                                } finally {\n                                    this.suppressOnPut = false;\n                                }\n                                await this.refreshSettings();\n                            }\n                        }\n                    }\n                });\n\n                osdSettings.push({\n                    key: `osdText${id}X`,\n                    title: `Text Overlay ${id} X`,\n                    subgroup: 'OSD',\n                    type: 'number',\n                    immediate: false,\n                    onPut: async (old: number, value: number) => {\n                        if (this.suppressOnPut) return;\n                        if (old !== value && old !== undefined) {\n                            await this.updateOSD({ textOverlays: [{ id, positionX: value }] });\n                        }\n                    }\n                });\n\n                osdSettings.push({\n                    key: `osdText${id}Y`,\n                    title: `Text Overlay ${id} Y`,\n                    subgroup: 'OSD',\n                    type: 'number',\n                    immediate: false,\n                    onPut: async (old: number, value: number) => {\n                        if (this.suppressOnPut) return;\n                        if (old !== value && old !== undefined) {\n                            await this.updateOSD({ textOverlays: [{ id, positionY: value }] });\n                        }\n                    }\n                });\n            }\n        }\n\n        // Refetch button\n        osdSettings.push({\n            key: 'refetchOSD',\n            title: 'Refetch OSD Settings',\n            subgroup: 'OSD',\n            type: 'button',\n            onPut: async () => {\n                await this.updateOSDCapabilities();\n                await this.refreshSettings();\n            }\n        });\n\n        return osdSettings;\n    }\n\n    generatePTZSettings() {\n        const ptzSettings: StorageSetting[] = [];\n\n        if (!this.ptzCaps) {\n            return ptzSettings;\n        }\n\n        const specialNos = this.ptzCaps.specialNos || [];\n        // Limit to 32 presets for UI sanity, or use maxPresetNum if smaller\n        const maxPresets = Math.min(this.ptzCaps.maxPresetNum || 32, 32);\n\n        for (let i = 1; i <= maxPresets; i++) {\n            if (specialNos.includes(i)) continue;\n\n            const id = String(i);\n\n            ptzSettings.push({\n                key: `ptzPreset${id}Enabled`,\n                title: `Preset ${id} Enabled`,\n                subgroup: 'PTZ',\n                type: 'boolean',\n                immediate: true,\n                onPut: async (old: boolean, value: boolean) => {\n                    if (old !== value && old !== undefined) {\n                        if (value) {\n                            // Enable: Create with default name if not exists\n                            const name = this.storageSettings.values[`ptzPreset${id}Name`] || `Preset ${id}`;\n                            await this.updatePTZPreset(id, name);\n                        } else {\n                            // Disable: Delete preset\n                            await this.deletePTZPreset(id);\n                        }\n                        await this.updatePTZCapabilities();\n                        await this.refreshSettings();\n                    }\n                }\n            });\n\n            if (this.storageSettings.values[`ptzPreset${id}Enabled`]) {\n                ptzSettings.push({\n                    key: `ptzPreset${id}Name`,\n                    title: `Preset ${id} Name`,\n                    description: 'Updating name also sets preset to CURRENT position',\n                    subgroup: 'PTZ',\n                    type: 'string',\n                    immediate: false,\n                    onPut: async (old: string, value: string) => {\n                        if (old !== value && old !== undefined) {\n                            await this.updatePTZPreset(id, value);\n                        }\n                    }\n                });\n\n                ptzSettings.push({\n                    key: `ptzPreset${id}Go`,\n                    title: `Go to Preset ${id}`,\n                    subgroup: 'PTZ',\n                    type: 'button',\n                    onPut: async () => {\n                        await this.gotoPTZPreset(id);\n                    }\n                });\n            }\n        }\n\n        // Refetch button\n        ptzSettings.push({\n            key: 'refetchPTZ',\n            title: 'Refetch PTZ Settings',\n            subgroup: 'PTZ',\n            type: 'button',\n            onPut: async () => {\n                await this.updatePTZCapabilities();\n                await this.refreshSettings();\n            }\n        });\n\n        return ptzSettings;\n    }\n\n    generateInfoSettings() {\n        const infoSettings: StorageSetting[] = [];\n\n        if (!this.deviceInfo) {\n            return infoSettings;\n        }\n\n        const infoFields = [\n            { key: 'deviceName', title: 'Device Name' },\n            { key: 'model', title: 'Model' },\n            { key: 'serialNumber', title: 'Serial Number' },\n            { key: 'firmwareVersion', title: 'Firmware Version' },\n            { key: 'firmwareReleasedDate', title: 'Firmware Date' },\n            { key: 'macAddress', title: 'MAC Address' },\n            { key: 'deviceType', title: 'Device Type' },\n        ];\n\n        for (const field of infoFields) {\n            if (field.key === 'deviceName') {\n                infoSettings.push({\n                    key: `info_${field.key}`,\n                    title: field.title,\n                    subgroup: 'Info',\n                    type: 'string',\n                    immediate: false,\n                    onPut: async (oldValue: string, newValue: string) => {\n                        const client = await this.getClient();\n                        await client.updateDeviceInfo(newValue);\n                        // Update local cache\n                        if (this.deviceInfo) {\n                            this.deviceInfo.deviceName = newValue;\n                        }\n                    }\n                });\n            } else {\n                infoSettings.push({\n                    key: `info_${field.key}`,\n                    title: field.title,\n                    subgroup: 'Info',\n                    type: 'string',\n                    readonly: true,\n                });\n            }\n        }\n\n        return infoSettings;\n    }\n\n    setMotionSettingsValues() {\n        if (!this.motionCaps) return;\n\n        // Set motion enabled value\n        this.storageSettings.values['motionEnabled'] = this.motionCaps.enabled;\n\n        // Set motion sensitivity value\n        this.storageSettings.values['motionSensitivity'] = String(this.motionCaps.sensitivityLevel);\n\n        // Set center notification enabled value\n        this.storageSettings.values['motionCenterNotification'] = this.motionCaps.centerNotificationEnabled;\n    }\n\n    setStreamSettingsValues(streamCaps: any[]) {\n        for (const channel of streamCaps) {\n            const streamId = channel.id!;\n            const video = channel.video!;\n\n            // Set resolution value\n            this.storageSettings.values[`${streamId}:videoResolution`] =\n                `${video.videoResolutionWidth}x${video.videoResolutionHeight}`;\n\n            // Set FPS value\n            this.storageSettings.values[`${streamId}:maxFrameRate`] = video.maxFrameRateUI;\n\n            // Set quality control type value\n            this.storageSettings.values[`${streamId}:videoQualityControlType`] = video.videoQualityControlType;\n\n            // Set bitrate value and update choices based on quality control type\n            const currentBitrate = video.videoQualityControlType === 'VBR'\n                ? video.vbrUpperCap\n                : video.constantBitRate;\n\n            const bitrateMin = video.videoQualityControlType === 'VBR'\n                ? video.vbrUpperCapMin\n                : video.constantBitRateMin;\n            const bitrateMax = video.videoQualityControlType === 'VBR'\n                ? video.vbrUpperCapMax\n                : video.constantBitRateMax;\n\n            const bitrateChoices = generateBitrateChoices(bitrateMin, bitrateMax);\n            this.storageSettings.settings[`${streamId}:bitrate`].choices = bitrateChoices;\n            this.storageSettings.values[`${streamId}:bitrate`] = String(currentBitrate);\n\n            // Set video codec type value\n            this.storageSettings.values[`${streamId}:videoCodecType`] = video.videoCodecType;\n\n            // Set GOP length value (already in seconds from govLengthUI)\n            this.storageSettings.values[`${streamId}:govLength`] = String(video.govLengthUI);\n\n            // Set fixed quality value with label\n            const fixedQualityLabels: Record<number, string> = {\n                1: 'Minimum (1)',\n                20: 'Very Low (20)',\n                40: 'Low (40)',\n                60: 'Medium (60)',\n                80: 'High (80)',\n                100: 'Maximum (100)'\n            };\n            const fixedQualityLabel = fixedQualityLabels[video.fixedQuality] || `Custom (${video.fixedQuality})`;\n            this.storageSettings.values[`${streamId}:fixedQuality`] = fixedQualityLabel;\n\n            // Set audio enabled value\n            const audio = channel.audio!;\n            this.storageSettings.values[`${streamId}:audioEnabled`] = audio.enabled;\n\n            // Set smart codec enabled value (only if H.265)\n            if (video.videoCodecType === 'H.265') {\n                this.storageSettings.values[`${streamId}:smartCodecEnabled`] = video.smartCodecEnabled;\n            }\n        }\n    }\n\n    async fetchStreamCapabilities() {\n        const client = await this.getClient();\n        this.streamCaps = await client.getStreamingCapabilities();\n    }\n\n    async setAudioSettingsValues() {\n        const client = await this.getClient();\n        const audioConfig = await client.getTwoWayAudio();\n\n        if (!audioConfig) return;\n\n        // Set codec value\n        this.storageSettings.values['audioCodec'] = audioConfig.audioCompressionType;\n\n        // Set speaker volume value (convert to string to match choices type)\n        this.storageSettings.values['speakerVolume'] = String(audioConfig.speakerVolume);\n\n        // Set noise reduction value\n        this.storageSettings.values['noiseReduction'] = audioConfig.noiseReduction;\n\n        // Set audio input type value\n        this.storageSettings.values['audioInputType'] = audioConfig.audioInputType;\n    }\n\n    async setTimeSettingsValues() {\n        const client = await this.getClient();\n        const timeConfig = await client.getTime();\n        const ntpConfig = await client.getNTPServer();\n\n        if (!timeConfig) return;\n\n        // Set time mode value\n        this.storageSettings.values['timeMode'] = timeConfig.timeMode;\n\n        // Set NTP server values (if in NTP mode)\n        if (timeConfig.timeMode === 'NTP' && ntpConfig) {\n            this.storageSettings.values['ntpServer'] = ntpConfig.ipAddress;\n            this.storageSettings.values['ntpPort'] = ntpConfig.portNo;\n\n            // Convert minutes to hours for display\n            const minutes = ntpConfig.synchronizeInterval;\n            const hours = Math.round(minutes / 60);\n            this.storageSettings.values['ntpSyncInterval'] = `${hours} hour${hours > 1 ? 's' : ''}`;\n        }\n\n        // Set timezone value - convert from CST-1:00:00 to UTC+1:00:00 format\n        if (timeConfig.timeZone) {\n            const baseTZ = timeConfig.timeZone.split('DST')[0]; // Remove DST part\n            const match = baseTZ.match(/CST([+-])(\\d+):00:00/);\n            if (match) {\n                const sign = match[1] === '-' ? '+' : '-'; // Invert sign for display\n                const hours = match[2];\n                this.storageSettings.values['timeZone'] = `UTC${sign}${hours}:00:00`;\n            }\n        }\n\n        // Set daylight saving time value\n        const hasDST = timeConfig.timeZone?.includes('DST');\n        this.storageSettings.values['daylightSaving'] = hasDST;\n    }\n\n    setOSDSettingsValues() {\n        if (!this.osdCaps) return;\n\n        const { dateTimeOverlay, channelNameOverlay, textOverlayList } = this.osdCaps;\n\n        if (dateTimeOverlay) {\n            this.storageSettings.values['osdDateTimeEnabled'] = dateTimeOverlay.enabled?.[0] === 'true';\n            this.storageSettings.values['osdDateStyle'] = dateTimeOverlay.dateStyle?.[0];\n            this.storageSettings.values['osdTimeStyle'] = dateTimeOverlay.timeStyle?.[0];\n            this.storageSettings.values['osdDisplayWeek'] = dateTimeOverlay.displayWeek?.[0] === 'true';\n            this.storageSettings.values['osdDateTimeX'] = Number(dateTimeOverlay.positionX?.[0] || 0);\n            this.storageSettings.values['osdDateTimeY'] = Number(dateTimeOverlay.positionY?.[0] || 0);\n        }\n\n        if (channelNameOverlay) {\n            this.storageSettings.values['osdChannelNameEnabled'] = channelNameOverlay.enabled?.[0] === 'true';\n            this.storageSettings.values['osdChannelName'] = this.osdCaps.videoInputName || '';\n            this.storageSettings.values['osdChannelNameX'] = Number(channelNameOverlay.positionX?.[0] || 0);\n            this.storageSettings.values['osdChannelNameY'] = Number(channelNameOverlay.positionY?.[0] || 0);\n        }\n\n        if (textOverlayList) {\n            for (const overlay of textOverlayList) {\n                const id = overlay.id?.[0];\n                if (id) {\n                    this.storageSettings.values[`osdText${id}Enabled`] = overlay.enabled?.[0] === 'true';\n                    this.storageSettings.values[`osdText${id}Content`] = overlay.displayText?.[0] || '';\n                    this.storageSettings.values[`osdText${id}X`] = Number(overlay.positionX?.[0]);\n                    this.storageSettings.values[`osdText${id}Y`] = Number(overlay.positionY?.[0]);\n                }\n            }\n        }\n    }\n\n    setPTZSettingsValues() {\n        if (!this.ptzPresets) return;\n\n        for (const preset of this.ptzPresets) {\n            const id = preset.id?.[0];\n            if (id) {\n                this.storageSettings.values[`ptzPreset${id}Enabled`] = true;\n                this.storageSettings.values[`ptzPreset${id}Name`] = preset.presetName?.[0] || `Preset ${id}`;\n            }\n        }\n    }\n\n    setInfoSettingsValues() {\n        if (!this.deviceInfo) return;\n\n        const infoFields = [\n            'deviceName', 'model', 'serialNumber', 'firmwareVersion',\n            'firmwareReleasedDate', 'macAddress', 'deviceType'\n        ];\n\n        for (const field of infoFields) {\n            this.storageSettings.values[`info_${field}`] = this.deviceInfo[field] || '';\n        }\n    }\n\n    async updateStreamingChannel(streamId: string, params: Partial<any>) {\n        const client = await this.getClient();\n\n        this.console.log(`Updating stream ${streamId} with params:`, JSON.stringify(params, null, 2));\n\n        await client.updateStreamingChannel({\n            channelId: streamId,\n            ...params\n        });\n\n        // Don't refetch automatically to avoid infinite loops\n        // The user can manually refetch using the \"Refetch\" button if needed\n    }\n\n    async updateAudio(params: Partial<any>) {\n        const client = await this.getClient();\n\n        this.console.log('Updating audio with params:', JSON.stringify(params, null, 2));\n\n        await client.updateTwoWayAudio(params);\n\n        // Don't refetch automatically to avoid infinite loops\n    }\n\n    async updateTime(params: Partial<any>) {\n        const client = await this.getClient();\n\n        this.console.log('Updating time with params:', JSON.stringify(params, null, 2));\n\n        await client.updateTime(params);\n    }\n\n    async updateNTPServer(params: Partial<any>) {\n        const client = await this.getClient();\n\n        this.console.log('Updating NTP server with params:', JSON.stringify(params, null, 2));\n\n        await client.updateNTPServer(params);\n    }\n\n    async updateOSD(params: any) {\n        const client = await this.getClient();\n        this.console.log('Updating OSD with params:', JSON.stringify(params, null, 2));\n        await client.updateOSD(params);\n    }\n\n    async updateVideoInputChannel(name: string) {\n        const client = await this.getClient();\n        this.console.log(`Updating video input channel name to: ${name}`);\n        await client.updateVideoInputChannel(name);\n    }\n\n    async updatePTZPreset(id: string, name: string) {\n        const client = await this.getClient();\n        this.console.log(`Updating PTZ preset ${id} with name: ${name}`);\n        await client.updatePTZPreset(id, name);\n    }\n\n    async deletePTZPreset(id: string) {\n        const client = await this.getClient();\n        this.console.log(`Deleting PTZ preset ${id}`);\n        await client.deletePTZPreset(id);\n    }\n\n    async gotoPTZPreset(id: string) {\n        const client = await this.getClient();\n        this.console.log(`Going to PTZ preset ${id}`);\n        await client.gotoPTZPreset(id);\n    }\n\n    async updateMotionDetection({ enabled, motionSensitivity }: Partial<MotionDetectionUpdateParams>) {\n        const client = await this.getClient();\n\n        const props: MotionDetectionUpdateParams = {\n            enabled,\n            motionSensitivity,\n        }\n        this.console.log('Updating motion detection with params:', props);\n        await client.updateMotionDetection(props);\n    }\n\n    async updateMotionEventTrigger({ centerNotificationEnabled }: { centerNotificationEnabled?: boolean }) {\n        const client = await this.getClient();\n\n        this.console.log('Updating motion event trigger with params:', { centerNotificationEnabled });\n        await client.updateMotionEventTrigger({ centerNotificationEnabled });\n    }\n\n    async release() {\n        this.killed = true;\n    }\n\n    async getDeviceProperties() {\n        const deviceSettings = await this.mixinDevice.getSettings();\n\n        const deviceSettingsMap = keyBy(deviceSettings, setting => setting.key);\n        const username = deviceSettingsMap['username']?.value;\n        const password = deviceSettingsMap['password']?.value;\n        const host = deviceSettingsMap['ip']?.value;\n        const httpPort = deviceSettingsMap['httpPort']?.value || 80;\n        const channel = deviceSettingsMap['rtspChannel']?.value ?? '101';\n        const httpAddress = `${host}:${httpPort}`;\n\n        return { username, password, httpAddress, channel, host }\n    }\n\n    async getClient() {\n        if (!this.client) {\n            const { channel, httpAddress, username, password } = await this.getDeviceProperties();\n            this.client = new HikvisionCameraAPI(\n                httpAddress,\n                username,\n                password,\n                channel,\n                this.console\n            );\n        }\n        return this.client;\n    }\n\n    async refreshSettings() {\n        const dynamicSettings: StorageSetting[] = [];\n\n        const infoSettings = this.generateInfoSettings();\n        dynamicSettings.push(...infoSettings);\n\n        const motionSettings = this.generateMotionSettings();\n        dynamicSettings.push(...motionSettings);\n\n        const streamSettings = this.generateStreamSettings(this.streamCaps);\n        dynamicSettings.push(...streamSettings);\n\n        const audioSettings = this.generateAudioSettings();\n        dynamicSettings.push(...audioSettings);\n\n        const timeSettings = this.generateTimeSettings();\n        dynamicSettings.push(...timeSettings);\n\n        const osdSettings = this.generateOSDSettings();\n        dynamicSettings.push(...osdSettings);\n\n        const ptzSettings = this.generatePTZSettings();\n        dynamicSettings.push(...ptzSettings);\n\n        this.storageSettings = await convertSettingsToStorageSettings({\n            device: this,\n            dynamicSettings,\n            initStorage: this.initStorage\n        });\n\n        // Set values after settings are created\n        this.setMotionSettingsValues();\n        this.setStreamSettingsValues(this.streamCaps);\n        this.setAudioSettingsValues();\n        this.setTimeSettingsValues();\n        this.setOSDSettingsValues();\n        this.setPTZSettingsValues();\n        this.setInfoSettingsValues();\n    }\n\n    async getMixinSettings(): Promise<Setting[]> {\n        try {\n            return this.storageSettings.getSettings();\n        } catch (e) {\n            this.console.error('Error in getMixinSettings', e);\n            return [];\n        }\n    }\n\n    async putSetting(key: string, value: SettingValue): Promise<void> {\n        const [group, ...rest] = key.split(':');\n        if (group === this.settingsGroupKey) {\n            this.storageSettings.putSetting(rest.join(':'), value);\n        } else {\n            super.putSetting(key, value);\n        }\n    }\n\n    async putMixinSetting(key: string, value: string) {\n        this.storageSettings.putSetting(key, value);\n    }\n}","import { AuthFetchCredentialState, HttpFetchOptions, authHttpFetch } from '@scrypted/common/src/http-auth-fetch';\nimport { Readable } from 'stream';\nimport xml2js from 'xml2js';\nimport { Destroyable } from '../../scrypted/plugins/rtsp/src/rtsp';\nimport { DynamicCapRoot, MotionDetectionRoot, StreamingChannelListRoot } from './types';\nimport { MotionDetectionUpdateParams, StreamingChannelUpdateParams, formatFrameRate, formatKeyFrameInterval } from './utils';\n\nexport class HikvisionCameraAPI {\n    credential: AuthFetchCredentialState;\n    deviceModel: Promise<string>;\n    listenerPromise: Promise<Destroyable>;\n    channel = '101';\n\n    constructor(public ip: string, username: string, password: string, channel: string, public console: Console) {\n        this.credential = {\n            username,\n            password,\n        };\n        if (channel) {\n            this.channel = channel;\n        }\n    }\n\n    async request(urlOrOptions: string | URL | HttpFetchOptions<Readable>, body?: Readable) {\n        const response = await authHttpFetch({\n            ...typeof urlOrOptions !== 'string' && !(urlOrOptions instanceof URL) ? urlOrOptions : {\n                url: urlOrOptions,\n            },\n            rejectUnauthorized: false,\n            credential: this.credential,\n            body: typeof urlOrOptions !== 'string' && !(urlOrOptions instanceof URL) ? urlOrOptions?.body : body,\n        });\n        return response;\n    }\n\n    async getMotionCapabilities() {\n        const channelId = String(this.channel?.[0] ?? 1);\n        const response = await this.request({\n            method: 'GET',\n            url: `http://${this.ip}//ISAPI/System/Video/inputs/channels/${channelId}/motionDetection/capabilities`,\n            responseType: 'text',\n            headers: {\n                'Content-Type': 'application/xml',\n            },\n        });\n        const json = await xml2js.parseStringPromise(response.body) as MotionDetectionRoot;\n\n        const data = json.MotionDetection;\n        const enabled = data.enabled[0]?._ === 'true';\n        const sensitivtyData = data.MotionDetectionLayout[0]?.sensitivityLevel[0];\n        const min = Number(sensitivtyData?.$?.min ?? \"0\");\n        const max = Number(sensitivtyData?.$?.max ?? \"100\");\n        const step = Number(sensitivtyData?.$?.step ?? \"20\");\n        const sensitivityOptions = [String(min)];\n        for (let i = min + step; i <= max; i += step) {\n            sensitivityOptions.push(String(i));\n        }\n        const sensitivityLevel = Number(sensitivtyData?._ ?? \"0\");\n        return { xml: response.body, enabled, sensitivityLevel, sensitivityOptions };\n    }\n\n    async updateMotionDetection(props: MotionDetectionUpdateParams) {\n        const { enabled, motionSensitivity } = props;\n        const channelId = String(this.channel?.[0] ?? 1);\n        let { xml } = await this.getMotionCapabilities();\n\n        if (enabled !== undefined) {\n            xml = xml.replace(/<enabled[^>]*>.*?<\\/enabled>/s, `<enabled>${enabled}</enabled>`);\n        }\n\n        if (motionSensitivity !== undefined) {\n            xml = xml.replace(/<sensitivityLevel[^>]*>.*?<\\/sensitivityLevel>/s, `<sensitivityLevel>${motionSensitivity}</sensitivityLevel>`);\n        }\n\n        const response = await this.request({\n            method: 'PUT',\n            url: `http://${this.ip}/ISAPI/System/Video/inputs/channels/${channelId}/motionDetection`,\n            responseType: 'text',\n            headers: {\n                'Content-Type': 'application/xml',\n            },\n            body: xml,\n        });\n\n        return response;\n    }\n\n    async getStreamingChannels() {\n        const response = await this.request({\n            method: 'GET',\n            url: `http://${this.ip}/ISAPI/Streaming/channels`,\n            responseType: 'text',\n            headers: {\n                'Content-Type': 'application/xml',\n            },\n        });\n        const json = await xml2js.parseStringPromise(response.body, {\n            explicitArray: true,\n            mergeAttrs: false,\n            attrkey: '$',\n            charkey: '_'\n        }) as StreamingChannelListRoot;\n\n        // Extract channel configurations\n        const channels = json.StreamingChannelList?.StreamingChannel?.map(channel => {\n            const video = channel.Video?.[0];\n            \n            // Helper to extract value with attributes\n            const getBitrateValue = (field: string | { _: string; $: { min: string; max: string } } | undefined) => {\n                if (!field) return { value: 0, min: 32, max: 16384 };\n                if (typeof field === 'string') return { value: Number(field), min: 32, max: 16384 };\n                return {\n                    value: Number(field._ || 0),\n                    min: Number(field.$.min || 32),\n                    max: Number(field.$.max || 16384)\n                };\n            };\n\n            const constantBitRateData = getBitrateValue(video?.constantBitRate?.[0]);\n            const vbrUpperCapData = getBitrateValue(video?.vbrUpperCap?.[0]);\n            \n            // Helper to extract GovLength with attributes\n            const getGovLengthValue = (field: string | { _: string; $: { min: string; max: string } } | undefined) => {\n                if (!field) return { value: 0, min: 1, max: 400 };\n                if (typeof field === 'string') return { value: Number(field), min: 1, max: 400 };\n                return {\n                    value: Number(field._ || 0),\n                    min: Number(field.$.min || 1),\n                    max: Number(field.$.max || 400)\n                };\n            };\n            \n            // Use GovLength (frame-based GOP)\n            const govLength = video?.GovLength?.[0];\n            const govLengthData = getGovLengthValue(govLength);\n            \n            // Extract audio settings\n            const audio = channel.Audio?.[0];\n            \n            return {\n                id: channel.id?.[0],\n                channelName: channel.channelName?.[0],\n                enabled: channel.enabled?.[0] === 'true',\n                audio: {\n                    enabled: audio?.enabled?.[0] === 'true',\n                    audioInputChannelID: Number(audio?.audioInputChannelID?.[0]),\n                    audioCompressionType: audio?.audioCompressionType?.[0],\n                },\n                video: {\n                    enabled: video?.enabled?.[0] === 'true',\n                    videoCodecType: video?.videoCodecType?.[0],\n                    videoResolutionWidth: Number(video?.videoResolutionWidth?.[0]),\n                    videoResolutionHeight: Number(video?.videoResolutionHeight?.[0]),\n                    maxFrameRate: Number(video?.maxFrameRate?.[0]),\n                    maxFrameRateUI: formatFrameRate(Number(video?.maxFrameRate?.[0])),\n                    videoQualityControlType: video?.videoQualityControlType?.[0] as 'VBR' | 'CBR',\n                    constantBitRate: constantBitRateData.value,\n                    constantBitRateMin: constantBitRateData.min,\n                    constantBitRateMax: constantBitRateData.max,\n                    vbrUpperCap: vbrUpperCapData.value,\n                    vbrUpperCapMin: vbrUpperCapData.min,\n                    vbrUpperCapMax: vbrUpperCapData.max,\n                    fixedQuality: Number(video?.fixedQuality?.[0]),\n                    govLength: govLengthData.value,\n                    govLengthMin: govLengthData.min,\n                    govLengthMax: govLengthData.max,\n                    govLengthUI: formatKeyFrameInterval(\n                        govLengthData.value,\n                        Number(video?.maxFrameRate?.[0])\n                    ),\n                    smoothing: Number(video?.smoothing?.[0]),\n                    H264Profile: video?.H264Profile?.[0],\n                    H265Profile: video?.H265Profile?.[0],\n                    smartCodecEnabled: video?.SmartCodec?.[0]?.enabled?.[0] === 'true',\n                }\n            };\n        }) || [];\n\n        return { xml: response.body, json, channels };\n    }\n\n    async updateStreamingChannel(params: StreamingChannelUpdateParams) {\n        const { \n            channelId,\n            videoCodecType, \n            videoResolutionWidth, \n            videoResolutionHeight, \n            maxFrameRate, \n            vbrUpperCap, \n            constantBitRate,\n            govLength,\n            fixedQuality,\n            videoQualityControlType,\n            smoothing,\n            H264Profile,\n            H265Profile,\n            audioEnabled,\n            smartCodecEnabled\n        } = params;\n        let { xml } = await this.getStreamingChannels();\n\n        // Use channelId from params or fallback to this.channel\n        const targetChannel = channelId || this.channel;\n\n        // Find the specific channel section in the XML\n        const channelRegex = new RegExp(`(<StreamingChannel[^>]*>[\\\\s\\\\S]*?<id>${targetChannel}<\\\\/id>[\\\\s\\\\S]*?<\\\\/StreamingChannel>)`, 'g');\n        \n        xml = xml.replace(channelRegex, (match) => {\n            let updatedChannel = match;\n\n            if (videoCodecType !== undefined) {\n                updatedChannel = updatedChannel.replace(/<videoCodecType[^>]*>.*?<\\/videoCodecType>/s, `<videoCodecType>${videoCodecType}</videoCodecType>`);\n            }\n\n            if (videoResolutionWidth !== undefined) {\n                updatedChannel = updatedChannel.replace(/<videoResolutionWidth[^>]*>.*?<\\/videoResolutionWidth>/s, `<videoResolutionWidth>${videoResolutionWidth}</videoResolutionWidth>`);\n            }\n\n            if (videoResolutionHeight !== undefined) {\n                updatedChannel = updatedChannel.replace(/<videoResolutionHeight[^>]*>.*?<\\/videoResolutionHeight>/s, `<videoResolutionHeight>${videoResolutionHeight}</videoResolutionHeight>`);\n            }\n\n            if (maxFrameRate !== undefined) {\n                updatedChannel = updatedChannel.replace(/<maxFrameRate[^>]*>.*?<\\/maxFrameRate>/s, `<maxFrameRate>${maxFrameRate}</maxFrameRate>`);\n            }\n\n            if (vbrUpperCap !== undefined) {\n                updatedChannel = updatedChannel.replace(/<vbrUpperCap[^>]*>.*?<\\/vbrUpperCap>/s, `<vbrUpperCap>${vbrUpperCap}</vbrUpperCap>`);\n            }\n\n            if (constantBitRate !== undefined) {\n                updatedChannel = updatedChannel.replace(/<constantBitRate[^>]*>.*?<\\/constantBitRate>/s, `<constantBitRate>${constantBitRate}</constantBitRate>`);\n            }\n\n            if (govLength !== undefined) {\n                updatedChannel = updatedChannel.replace(\n                    /<GovLength(\\s+[^>]*)?>.*?<\\/GovLength>/s,\n                    (fullMatch, attributes) => {\n                        const attrs = attributes || '';\n                        return `<GovLength${attrs}>${govLength}</GovLength>`;\n                    }\n                );\n            }\n\n            if (fixedQuality !== undefined) {\n                updatedChannel = updatedChannel.replace(/<fixedQuality[^>]*>.*?<\\/fixedQuality>/s, `<fixedQuality>${fixedQuality}</fixedQuality>`);\n            }\n\n            if (videoQualityControlType !== undefined) {\n                updatedChannel = updatedChannel.replace(/<videoQualityControlType[^>]*>.*?<\\/videoQualityControlType>/s, `<videoQualityControlType>${videoQualityControlType}</videoQualityControlType>`);\n            }\n\n            if (smoothing !== undefined) {\n                updatedChannel = updatedChannel.replace(/<smoothing[^>]*>.*?<\\/smoothing>/s, `<smoothing>${smoothing}</smoothing>`);\n            }\n\n            if (H264Profile !== undefined) {\n                updatedChannel = updatedChannel.replace(/<H264Profile[^>]*>.*?<\\/H264Profile>/s, `<H264Profile>${H264Profile}</H264Profile>`);\n            }\n\n            if (H265Profile !== undefined) {\n                updatedChannel = updatedChannel.replace(/<H265Profile[^>]*>.*?<\\/H265Profile>/s, `<H265Profile>${H265Profile}</H265Profile>`);\n            }\n\n            if (audioEnabled !== undefined) {\n                updatedChannel = updatedChannel.replace(\n                    /<Audio[^>]*>([\\s\\S]*?)<enabled[^>]*>.*?<\\/enabled>([\\s\\S]*?)<\\/Audio>/s,\n                    (fullMatch, before, after) => {\n                        return `<Audio${before.match(/^[^>]*/)?.[0] || ''}>${before.replace(/^[^>]*/, '')}<enabled>${audioEnabled}</enabled>${after}</Audio>`;\n                    }\n                );\n            }\n\n            if (smartCodecEnabled !== undefined) {\n                updatedChannel = updatedChannel.replace(\n                    /<SmartCodec[^>]*>([\\s\\S]*?)<enabled[^>]*>.*?<\\/enabled>([\\s\\S]*?)<\\/SmartCodec>/s,\n                    (fullMatch, before, after) => {\n                        return `<SmartCodec${before.match(/^[^>]*/)?.[0] || ''}>${before.replace(/^[^>]*/, '')}<enabled>${smartCodecEnabled}</enabled>${after}</SmartCodec>`;\n                    }\n                );\n            }\n\n            return updatedChannel;\n        });\n\n        const response = await this.request({\n            method: 'PUT',\n            url: `http://${this.ip}/ISAPI/Streaming/channels/${targetChannel}`,\n            responseType: 'text',\n            headers: {\n                'Content-Type': 'application/xml',\n            },\n            body: xml,\n        });\n\n        return response;\n    }\n\n    async getStreamingChannelCapabilities(channelId: string) {\n        const response = await this.request({\n            method: 'GET',\n            url: `http://${this.ip}/ISAPI/Streaming/channels/${channelId}/dynamicCap`,\n            responseType: 'text',\n            headers: {\n                'Content-Type': 'application/xml',\n            },\n        });\n        const json = await xml2js.parseStringPromise(response.body) as DynamicCapRoot;\n        const data = json.DynamicCap;\n\n        // Parse resolutions and frame rates\n        const resolutions = data.ResolutionAvailableDscriptorList?.[0]?.ResolutionAvailableDscriptor?.map(desc => ({\n            width: Number(desc.videoResolutionWidth?.[0]),\n            height: Number(desc.videoResolutionHeight?.[0]),\n            frameRates: desc.supportedFrameRate?.[0]?.split(',').map(fr => {\n                const value = Number(fr);\n                return {\n                    value,\n                    label: formatFrameRate(value)\n                };\n            }) || []\n        })) || [];\n\n        // Parse video codecs with detailed capabilities\n        const videoCodecs = data.CodecParamDscriptorList?.[0]?.CodecParamDscriptor?.map(codec => ({\n            type: codec.videoCodecType?.[0],\n            supportProfile: codec.isSupportProfile?.[0] === 'true',\n            supportSVC: codec.isSupportSVC?.[0] === 'true',\n            cbrSupported: codec.CBRCap?.[0]?.isSupportSmooth?.[0] === 'true',\n            vbrSupported: codec.VBRCap?.[0]?.isSupportSmooth?.[0] === 'true',\n            smartCodecCap: codec.SmartCodecCap?.[0] ? {\n                readOnlyParams: codec.SmartCodecCap[0].readOnlyParams?.[0]?.$?.opt?.split(',') || [],\n                constantBitrateSupport: codec.SmartCodecCap[0].BitrateType?.[0]?.Constant?.[0]?.support?.[0]?.$?.opt?.split(',') || [],\n                variableBitrateSupport: codec.SmartCodecCap[0].BitrateType?.[0]?.Variable?.[0]?.support?.[0]?.$?.opt?.split(',') || []\n            } : undefined\n        })) || [];\n\n        // Extract all available frame rates across all resolutions\n        const allFrameRates = [...new Set(\n            resolutions.flatMap(r => r.frameRates.map(fr => fr.value))\n        )].sort((a, b) => b - a).map(value => ({\n            value,\n            label: formatFrameRate(value)\n        }));\n\n        // Get quality control types from codec capabilities\n        const qualityControlTypes: ('VBR' | 'CBR')[] = [];\n        videoCodecs.forEach(codec => {\n            if (codec.vbrSupported && !qualityControlTypes.includes('VBR')) {\n                qualityControlTypes.push('VBR');\n            }\n            if (codec.cbrSupported && !qualityControlTypes.includes('CBR')) {\n                qualityControlTypes.push('CBR');\n            }\n        });\n\n        return {\n            resolutions,\n            videoCodecs,\n            allFrameRates,\n            qualityControlTypes,\n        };\n    }\n\n    async getStreamingCapabilities() {\n        const { channels } = await this.getStreamingChannels();\n        \n        // Get capabilities for each channel\n        const channelsWithCapabilities = await Promise.all(\n            channels.map(async (channel) => {\n                const capabilities = await this.getStreamingChannelCapabilities(channel.id);\n                return {\n                    ...channel,\n                    capabilities\n                };\n            })\n        );\n\n        return channelsWithCapabilities;\n    }\n\n    async getTwoWayAudioCapabilities() {\n        const response = await this.request({\n            method: 'GET',\n            url: `http://${this.ip}/ISAPI/System/TwoWayAudio/channels/1/capabilities`,\n            responseType: 'text',\n            headers: {\n                'Content-Type': 'application/xml',\n            },\n        });\n        const json = await xml2js.parseStringPromise(response.body, {\n            explicitArray: true,\n            mergeAttrs: false,\n            attrkey: '$',\n            charkey: '_'\n        });\n\n        const data = json.TwoWayAudioChannel;\n        \n        // Parse audio compression types\n        const audioCompressionType = data.audioCompressionType?.[0];\n        const audioCodecs = typeof audioCompressionType === 'object' \n            ? audioCompressionType.$.opt.split(',') \n            : [];\n\n        // Parse audio input types\n        const audioInputType = data.audioInputType?.[0];\n        const audioInputTypes = typeof audioInputType === 'object'\n            ? audioInputType.$.opt.split(',')\n            : [];\n\n        // Parse speaker volume range\n        const speakerVolume = data.speakerVolume?.[0];\n        const speakerVolumeMin = typeof speakerVolume === 'object' \n            ? Number(speakerVolume.$.min) \n            : 0;\n        const speakerVolumeMax = typeof speakerVolume === 'object'\n            ? Number(speakerVolume.$.max)\n            : 100;\n\n        return {\n            audioCodecs,\n            audioInputTypes,\n            speakerVolumeMin,\n            speakerVolumeMax,\n            supportsNoiseReduction: data.noisereduce?.[0]?.$.opt?.includes('true') || false,\n        };\n    }\n\n    async getTwoWayAudio() {\n        const response = await this.request({\n            method: 'GET',\n            url: `http://${this.ip}/ISAPI/System/TwoWayAudio/channels/1`,\n            responseType: 'text',\n            headers: {\n                'Content-Type': 'application/xml',\n            },\n        });\n        const json = await xml2js.parseStringPromise(response.body, {\n            explicitArray: true,\n            mergeAttrs: false,\n            attrkey: '$',\n            charkey: '_'\n        });\n\n        const data = json.TwoWayAudioChannel;\n\n        return {\n            xml: response.body,\n            enabled: data.enabled?.[0] === 'true',\n            audioCompressionType: data.audioCompressionType?.[0],\n            speakerVolume: Number(data.speakerVolume?.[0]),\n            noiseReduction: data.noisereduce?.[0] === 'true',\n            audioInputType: data.audioInputType?.[0],\n        };\n    }\n\n    async updateTwoWayAudio(params: {\n        audioCompressionType?: string;\n        speakerVolume?: number;\n        noiseReduction?: boolean;\n        audioInputType?: string;\n    }) {\n        let { xml } = await this.getTwoWayAudio();\n\n        if (params.audioCompressionType !== undefined) {\n            xml = xml.replace(/<audioCompressionType[^>]*>.*?<\\/audioCompressionType>/s, `<audioCompressionType>${params.audioCompressionType}</audioCompressionType>`);\n        }\n\n        if (params.speakerVolume !== undefined) {\n            xml = xml.replace(/<speakerVolume[^>]*>.*?<\\/speakerVolume>/s, `<speakerVolume>${params.speakerVolume}</speakerVolume>`);\n        }\n\n        if (params.noiseReduction !== undefined) {\n            xml = xml.replace(/<noisereduce[^>]*>.*?<\\/noisereduce>/s, `<noisereduce>${params.noiseReduction}</noisereduce>`);\n        }\n\n        if (params.audioInputType !== undefined) {\n            xml = xml.replace(/<audioInputType[^>]*>.*?<\\/audioInputType>/s, `<audioInputType>${params.audioInputType}</audioInputType>`);\n        }\n\n        const response = await this.request({\n            method: 'PUT',\n            url: `http://${this.ip}/ISAPI/System/TwoWayAudio/channels/1`,\n            responseType: 'text',\n            headers: {\n                'Content-Type': 'application/xml',\n            },\n            body: xml,\n        });\n\n        return response;\n    }\n\n    async getTimeCapabilities() {\n        const response = await this.request({\n            method: 'GET',\n            url: `http://${this.ip}/ISAPI/System/time/capabilities`,\n            responseType: 'text',\n            headers: {\n                'Content-Type': 'application/xml',\n            },\n        });\n        const json = await xml2js.parseStringPromise(response.body, {\n            explicitArray: true,\n            mergeAttrs: false,\n            attrkey: '$',\n            charkey: '_'\n        });\n\n        const data = json.Time;\n        \n        // Parse time mode options\n        const timeMode = data.timeMode?.[0];\n        const timeModes = typeof timeMode === 'object' \n            ? timeMode.$.opt.split(',') \n            : [];\n\n        return {\n            timeModes,\n        };\n    }\n\n    async getTime() {\n        const response = await this.request({\n            method: 'GET',\n            url: `http://${this.ip}/ISAPI/System/time`,\n            responseType: 'text',\n            headers: {\n                'Content-Type': 'application/xml',\n            },\n        });\n        const json = await xml2js.parseStringPromise(response.body, {\n            explicitArray: true,\n            mergeAttrs: false,\n            attrkey: '$',\n            charkey: '_'\n        });\n\n        const data = json.Time;\n\n        return {\n            xml: response.body,\n            timeMode: data.timeMode?.[0],\n            localTime: data.localTime?.[0],\n            timeZone: data.timeZone?.[0],\n        };\n    }\n\n    async getNTPServer() {\n        const response = await this.request({\n            method: 'GET',\n            url: `http://${this.ip}/ISAPI/System/time/ntpServers/1`,\n            responseType: 'text',\n            headers: {\n                'Content-Type': 'application/xml',\n            },\n        });\n        const json = await xml2js.parseStringPromise(response.body, {\n            explicitArray: true,\n            mergeAttrs: false,\n            attrkey: '$',\n            charkey: '_'\n        });\n\n        const data = json.NTPServer;\n\n        return {\n            xml: response.body,\n            ipAddress: data.ipAddress?.[0],\n            portNo: Number(data.portNo?.[0]),\n            synchronizeInterval: Number(data.synchronizeInterval?.[0]),\n        };\n    }\n\n    async updateTime(params: {\n        timeMode?: string;\n        localTime?: string;\n        timeZone?: string;\n    }) {\n        let { xml } = await this.getTime();\n\n        if (params.timeMode !== undefined) {\n            xml = xml.replace(/<timeMode[^>]*>.*?<\\/timeMode>/s, `<timeMode>${params.timeMode}</timeMode>`);\n        }\n\n        if (params.localTime !== undefined) {\n            // Remove existing localTime tag if present\n            xml = xml.replace(/<localTime[^>]*>.*?<\\/localTime>\\s*/s, '');\n            // Add new localTime after timeMode\n            xml = xml.replace(/(<timeMode>[^<]*<\\/timeMode>)/s, `$1\\n    <localTime>${params.localTime}</localTime>`);\n        }\n\n        if (params.timeZone !== undefined) {\n            xml = xml.replace(/<timeZone[^>]*>.*?<\\/timeZone>/s, `<timeZone>${params.timeZone}</timeZone>`);\n        }\n\n        const response = await this.request({\n            method: 'PUT',\n            url: `http://${this.ip}/ISAPI/System/time`,\n            responseType: 'text',\n            headers: {\n                'Content-Type': 'application/xml',\n            },\n            body: xml,\n        });\n\n        return response;\n    }\n\n    async updateNTPServer(params: {\n        ipAddress?: string;\n        portNo?: number;\n        synchronizeInterval?: number;\n    }) {\n        let { xml } = await this.getNTPServer();\n\n        if (params.ipAddress !== undefined) {\n            xml = xml.replace(/<ipAddress[^>]*>.*?<\\/ipAddress>/s, `<ipAddress>${params.ipAddress}</ipAddress>`);\n        }\n\n        if (params.portNo !== undefined) {\n            xml = xml.replace(/<portNo[^>]*>.*?<\\/portNo>/s, `<portNo>${params.portNo}</portNo>`);\n        }\n\n        if (params.synchronizeInterval !== undefined) {\n            xml = xml.replace(/<synchronizeInterval[^>]*>.*?<\\/synchronizeInterval>/s, `<synchronizeInterval>${params.synchronizeInterval}</synchronizeInterval>`);\n        }\n\n        const response = await this.request({\n            method: 'PUT',\n            url: `http://${this.ip}/ISAPI/System/time/ntpServers/1`,\n            responseType: 'text',\n            headers: {\n                'Content-Type': 'application/xml',\n            },\n            body: xml,\n        });\n\n        return response;\n    }\n\n    async getMotionEventTrigger() {\n        const response = await this.request({\n            method: 'GET',\n            url: `http://${this.ip}/ISAPI/Event/triggers/VMD-1`,\n            responseType: 'text',\n            headers: {\n                'Content-Type': 'application/xml',\n            },\n        });\n        const json = await xml2js.parseStringPromise(response.body, {\n            explicitArray: true,\n            mergeAttrs: false,\n            attrkey: '$',\n            charkey: '_'\n        });\n\n        const data = json.EventTrigger;\n        const notificationList = data.EventTriggerNotificationList?.[0]?.EventTriggerNotification || [];\n        \n        // Check if center notification exists\n        const hasCenterNotification = notificationList.some((notification: any) => \n            notification.notificationMethod?.[0] === 'center'\n        );\n\n        return {\n            xml: response.body,\n            centerNotificationEnabled: hasCenterNotification,\n        };\n    }\n\n    async updateMotionEventTrigger(params: {\n        centerNotificationEnabled?: boolean;\n    }) {\n        let { xml } = await this.getMotionEventTrigger();\n\n        if (params.centerNotificationEnabled !== undefined) {\n            // Parse the XML to manipulate the notification list\n            const json = await xml2js.parseStringPromise(xml, {\n                explicitArray: true,\n                mergeAttrs: false,\n                attrkey: '$',\n                charkey: '_'\n            });\n\n            const notificationList = json.EventTrigger.EventTriggerNotificationList?.[0]?.EventTriggerNotification || [];\n            \n            // Filter out center notification\n            const filteredList = notificationList.filter((notification: any) => \n                notification.notificationMethod?.[0] !== 'center'\n            );\n\n            // Add center notification if enabled\n            if (params.centerNotificationEnabled) {\n                filteredList.push({\n                    id: ['center'],\n                    notificationMethod: ['center'],\n                });\n            }\n\n            // Update the notification list\n            if (!json.EventTrigger.EventTriggerNotificationList) {\n                json.EventTrigger.EventTriggerNotificationList = [{}];\n            }\n            json.EventTrigger.EventTriggerNotificationList[0].EventTriggerNotification = filteredList;\n\n            // Remove unwanted fields\n            delete json.EventTrigger.$.version;\n            delete json.EventTrigger.$.xmlns;\n            delete json.EventTrigger.eventDescription;\n            delete json.EventTrigger.dynVideoInputChannelID;\n            \n            // Remove notificationRecurrence from all notifications\n            filteredList.forEach((notification: any) => {\n                delete notification.notificationRecurrence;\n            });\n\n            // Build XML back\n            const builder = new xml2js.Builder({\n                headless: false,\n                renderOpts: { pretty: false }\n            });\n            xml = builder.buildObject(json);\n        }\n\n        const response = await this.request({\n            method: 'PUT',\n            url: `http://${this.ip}/ISAPI/Event/triggers/VMD-1`,\n            responseType: 'text',\n            headers: {\n                'Content-Type': 'application/xml',\n            },\n            body: xml,\n        });\n\n        return response;\n    }\n\n    async getOSDCapabilities() {\n        const response = await this.request({\n            method: 'GET',\n            url: `http://${this.ip}/ISAPI/System/Video/inputs/channels/1/overlays/capabilities`,\n            responseType: 'text',\n            headers: {\n                'Content-Type': 'application/xml',\n            },\n        });\n        const json = await xml2js.parseStringPromise(response.body, {\n            explicitArray: true,\n            mergeAttrs: false,\n            attrkey: '$',\n            charkey: '_'\n        });\n\n        const data = json.VideoOverlay;\n\n        return {\n            xml: response.body,\n            textOverlayListSize: Number(data.TextOverlayList?.[0]?.$?.size || 0),\n            dateTimeOverlay: data.DateTimeOverlay?.[0],\n            channelNameOverlay: data.channelNameOverlay?.[0],\n        };\n    }\n\n    async getOSD() {\n        const response = await this.request({\n            method: 'GET',\n            url: `http://${this.ip}/ISAPI/System/Video/inputs/channels/1/overlays`,\n            responseType: 'text',\n            headers: {\n                'Content-Type': 'application/xml',\n            },\n        });\n        const json = await xml2js.parseStringPromise(response.body, {\n            explicitArray: true,\n            mergeAttrs: false,\n            attrkey: '$',\n            charkey: '_'\n        });\n\n        const data = json.VideoOverlay;\n\n        return {\n            xml: response.body,\n            normalizedScreenWidth: Number(data.normalizedScreenSize?.[0]?.normalizedScreenWidth?.[0] || 704),\n            normalizedScreenHeight: Number(data.normalizedScreenSize?.[0]?.normalizedScreenHeight?.[0] || 576),\n            textOverlayList: data.TextOverlayList?.[0]?.TextOverlay || [],\n            dateTimeOverlay: data.DateTimeOverlay?.[0],\n            channelNameOverlay: data.channelNameOverlay?.[0],\n        };\n    }\n\n    async updateOSD(params: {\n        dateTimeOverlay?: {\n            enabled?: boolean;\n            dateStyle?: string;\n            timeStyle?: string;\n            displayWeek?: boolean;\n            positionX?: number;\n            positionY?: number;\n        };\n        channelNameOverlay?: {\n            enabled?: boolean;\n            positionX?: number;\n            positionY?: number;\n        };\n        textOverlays?: {\n            id: string;\n            enabled?: boolean;\n            displayText?: string;\n            positionX?: number;\n            positionY?: number;\n        }[];\n    }) {\n        const response = await this.request({\n            method: 'GET',\n            url: `http://${this.ip}/ISAPI/System/Video/inputs/channels/1/overlays`,\n            responseType: 'text',\n            headers: {\n                'Content-Type': 'application/xml',\n            },\n        });\n        \n        const json = await xml2js.parseStringPromise(response.body, {\n            explicitArray: true,\n            mergeAttrs: false,\n            attrkey: '$',\n            charkey: '_'\n        });\n\n        const videoOverlay = json.VideoOverlay;\n\n        if (params.dateTimeOverlay) {\n            const dto = videoOverlay.DateTimeOverlay?.[0];\n            if (dto) {\n                if (params.dateTimeOverlay.enabled !== undefined) dto.enabled = [String(params.dateTimeOverlay.enabled)];\n                if (params.dateTimeOverlay.dateStyle !== undefined) dto.dateStyle = [params.dateTimeOverlay.dateStyle];\n                if (params.dateTimeOverlay.timeStyle !== undefined) dto.timeStyle = [params.dateTimeOverlay.timeStyle];\n                if (params.dateTimeOverlay.displayWeek !== undefined) dto.displayWeek = [String(params.dateTimeOverlay.displayWeek)];\n                if (params.dateTimeOverlay.positionX !== undefined) dto.positionX = [String(params.dateTimeOverlay.positionX)];\n                if (params.dateTimeOverlay.positionY !== undefined) dto.positionY = [String(params.dateTimeOverlay.positionY)];\n            }\n        }\n\n        if (params.channelNameOverlay) {\n            const cno = videoOverlay.channelNameOverlay?.[0];\n            if (cno) {\n                if (params.channelNameOverlay.enabled !== undefined) cno.enabled = [String(params.channelNameOverlay.enabled)];\n                if (params.channelNameOverlay.positionX !== undefined) cno.positionX = [String(params.channelNameOverlay.positionX)];\n                if (params.channelNameOverlay.positionY !== undefined) cno.positionY = [String(params.channelNameOverlay.positionY)];\n            }\n        }\n\n        if (params.textOverlays) {\n            const textList = videoOverlay.TextOverlayList?.[0]?.TextOverlay || [];\n            \n            for (const update of params.textOverlays) {\n                let overlay = textList.find((t: any) => t.id?.[0] === update.id);\n                \n                if (!overlay) {\n                    overlay = {\n                        id: [update.id],\n                        enabled: ['false'],\n                        positionX: ['0'],\n                        positionY: ['0'],\n                        displayText: [''],\n                        isPersistentText: ['true']\n                    };\n                    textList.push(overlay);\n                }\n\n                if (update.enabled !== undefined) overlay.enabled = [String(update.enabled)];\n                if (update.displayText !== undefined) overlay.displayText = [update.displayText];\n                if (update.positionX !== undefined) overlay.positionX = [String(update.positionX)];\n                if (update.positionY !== undefined) overlay.positionY = [String(update.positionY)];\n            }\n            \n            if (!videoOverlay.TextOverlayList) {\n                videoOverlay.TextOverlayList = [{ $: { size: '8' }, TextOverlay: textList }];\n            } else {\n                videoOverlay.TextOverlayList[0].TextOverlay = textList;\n            }\n        }\n\n        delete videoOverlay.$.version;\n        delete videoOverlay.$.xmlns;\n\n        const builder = new xml2js.Builder({\n            headless: false,\n            renderOpts: { pretty: false }\n        });\n        const newXml = builder.buildObject(json);\n\n        return await this.request({\n            method: 'PUT',\n            url: `http://${this.ip}/ISAPI/System/Video/inputs/channels/1/overlays`,\n            responseType: 'text',\n            headers: {\n                'Content-Type': 'application/xml',\n            },\n            body: newXml,\n        });\n    }\n\n    async getPTZCapabilities() {\n        const response = await this.request({\n            method: 'GET',\n            url: `http://${this.ip}/ISAPI/PTZCtrl/channels/1/capabilities`,\n            responseType: 'text',\n            headers: {\n                'Content-Type': 'application/xml',\n            },\n        });\n        const json = await xml2js.parseStringPromise(response.body, {\n            explicitArray: true,\n            mergeAttrs: false,\n            attrkey: '$',\n            charkey: '_'\n        });\n\n        const data = json.PTZChanelCap;\n        const specialNoOpt = data.PresetNameCap?.[0]?.specialNo?.[0]?.$?.opt || '';\n        const specialNos = specialNoOpt.split(',').map(Number);\n\n        return {\n            xml: response.body,\n            maxPresetNum: Number(data.maxPresetNum?.[0] || 0),\n            specialNos,\n        };\n    }\n\n    async getPTZPresets() {\n        const response = await this.request({\n            method: 'GET',\n            url: `http://${this.ip}/ISAPI/PTZCtrl/channels/1/presets`,\n            responseType: 'text',\n            headers: {\n                'Content-Type': 'application/xml',\n            },\n        });\n        const json = await xml2js.parseStringPromise(response.body, {\n            explicitArray: true,\n            mergeAttrs: false,\n            attrkey: '$',\n            charkey: '_'\n        });\n\n        const data = json.PTZPresetList;\n        return data.PTZPreset || [];\n    }\n\n    async updatePTZPreset(id: string, name: string) {\n        const xml = `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<PTZPreset xmlns=\"http://www.isapi.org/ver20/XMLSchema\" version=\"2.0\">\n    <id>${id}</id>\n    <presetName>${name}</presetName>\n</PTZPreset>`;\n\n        return await this.request({\n            method: 'PUT',\n            url: `http://${this.ip}/ISAPI/PTZCtrl/channels/1/presets/${id}`,\n            responseType: 'text',\n            headers: {\n                'Content-Type': 'application/xml',\n            },\n            body: xml,\n        });\n    }\n\n    async deletePTZPreset(id: string) {\n        return await this.request({\n            method: 'DELETE',\n            url: `http://${this.ip}/ISAPI/PTZCtrl/channels/1/presets/${id}`,\n            responseType: 'text',\n            headers: {\n                'Content-Type': 'application/xml',\n            },\n        });\n    }\n\n    async gotoPTZPreset(id: string) {\n        return await this.request({\n            method: 'PUT',\n            url: `http://${this.ip}/ISAPI/PTZCtrl/channels/1/presets/${id}/goto`,\n            responseType: 'text',\n            headers: {\n                'Content-Type': 'application/xml',\n            },\n        });\n    }\n\n    async getDeviceInfo() {\n        const response = await this.request({\n            method: 'GET',\n            url: `http://${this.ip}/ISAPI/System/deviceInfo`,\n            responseType: 'text',\n            headers: {\n                'Content-Type': 'application/xml',\n            },\n        });\n        const json = await xml2js.parseStringPromise(response.body, {\n            explicitArray: true,\n            mergeAttrs: false,\n            attrkey: '$',\n            charkey: '_'\n        });\n\n        const info = json.DeviceInfo || {};\n        return {\n            xml: response.body,\n            deviceName: info.deviceName?.[0],\n            model: info.model?.[0],\n            serialNumber: info.serialNumber?.[0],\n            macAddress: info.macAddress?.[0],\n            firmwareVersion: info.firmwareVersion?.[0],\n            firmwareReleasedDate: info.firmwareReleasedDate?.[0],\n            deviceType: info.deviceType?.[0],\n        };\n    }\n\n    async getVideoInputChannel() {\n        const channelId = String(this.channel?.[0] ?? 1);\n        const response = await this.request({\n            method: 'GET',\n            url: `http://${this.ip}/ISAPI/System/Video/inputs/channels/${channelId}`,\n            responseType: 'text',\n            headers: {\n                'Content-Type': 'application/xml',\n            },\n        });\n        const json = await xml2js.parseStringPromise(response.body, {\n            explicitArray: true,\n            mergeAttrs: false,\n            attrkey: '$',\n            charkey: '_'\n        });\n\n        return {\n            xml: response.body,\n            id: json.VideoInputChannel?.id?.[0],\n            name: json.VideoInputChannel?.name?.[0],\n            videoFormat: json.VideoInputChannel?.videoFormat?.[0],\n        };\n    }\n\n    async updateVideoInputChannel(name: string) {\n        const { xml } = await this.getVideoInputChannel();\n        \n        // Use regex to replace name to preserve all other fields and structure\n        let newXml = xml;\n        if (newXml.includes('<name>')) {\n            newXml = newXml.replace(/<name>.*?<\\/name>/, `<name>${name}</name>`);\n        } else {\n            newXml = newXml.replace('</VideoInputChannel>', `  <name>${name}</name>\\n</VideoInputChannel>`);\n        }\n\n        const channelId = String(this.channel?.[0] ?? 1);\n        return await this.request({\n            method: 'PUT',\n            url: `http://${this.ip}/ISAPI/System/Video/inputs/channels/${channelId}`,\n            responseType: 'text',\n            headers: {\n                'Content-Type': 'application/xml',\n            },\n            body: newXml,\n        });\n    }\n\n    async updateDeviceInfo(deviceName: string) {\n        let { xml } = await this.getDeviceInfo();\n        \n        // Use regex to replace deviceName to preserve all other fields and structure\n        // This avoids issues with \"unusual parameters\" or complex XML structures\n        if (xml.includes('<deviceName>')) {\n            xml = xml.replace(/<deviceName>.*?<\\/deviceName>/, `<deviceName>${deviceName}</deviceName>`);\n        } else {\n            // Fallback if tag doesn't exist (unlikely for valid XML)\n            xml = xml.replace('</DeviceInfo>', `  <deviceName>${deviceName}</deviceName>\\n</DeviceInfo>`);\n        }\n\n        return await this.request({\n            method: 'PUT',\n            url: `http://${this.ip}/ISAPI/System/deviceInfo`,\n            responseType: 'text',\n            headers: {\n                'Content-Type': 'application/xml',\n            },\n            body: xml,\n        });\n    }\n}","import { DeviceBase, MixinProvider, ScryptedDeviceBase, ScryptedDeviceType, ScryptedInterface, Setting, SettingValue, WritableDeviceState } from \"@scrypted/sdk\";\nimport { StorageSettings } from \"@scrypted/sdk/storage-settings\";\nimport HikvisionUtilitiesMixin from \"./cameraMixin\";\nimport { HIKVISION_UTILITIES_INTERFACE } from \"./utils\";\n\nexport default class HikvisionUtilitiesProvider extends ScryptedDeviceBase implements MixinProvider {\n    storageSettings = new StorageSettings(this, {\n    });\n    public mixinsMap: Record<string, HikvisionUtilitiesMixin> = {};\n\n    constructor(nativeId: string) {\n        super(nativeId);\n\n        this.init().catch(this.console.log);\n    }\n\n    async init() {\n    }\n\n    async getSettings() {\n        const settings: Setting[] = await this.storageSettings.getSettings();\n\n        return settings;\n    }\n\n    putSetting(key: string, value: SettingValue): Promise<void> {\n        return this.storageSettings.putSetting(key, value);\n    }\n\n\n    async canMixin(type: ScryptedDeviceType, interfaces: string[]): Promise<string[]> {\n        return [\n            ScryptedInterface.Camera,\n            ScryptedInterface.VideoCamera,\n        ].some(int => interfaces.includes(int)) ?\n            [\n                HIKVISION_UTILITIES_INTERFACE,\n                ScryptedInterface.Settings,\n            ] :\n            undefined;\n    }\n\n    async getMixin(mixinDevice: DeviceBase, mixinDeviceInterfaces: ScryptedInterface[], mixinDeviceState: WritableDeviceState): Promise<any> {\n        return new HikvisionUtilitiesMixin(\n            {\n                mixinDevice,\n                mixinDeviceInterfaces,\n                mixinDeviceState,\n                mixinProviderNativeId: this.nativeId,\n                group: 'Hikvision utilities',\n                groupKey: 'hikvisionUtilities',\n            },\n            this);\n    }\n\n    async releaseMixin(id: string, mixinDevice: any): Promise<void> {\n        await mixinDevice.release();\n    }\n}","import sdk, { EventListenerRegister, HumiditySensor, ObjectsDetected, ScryptedDeviceBase, ScryptedInterface, Setting, Thermometer } from \"@scrypted/sdk\";\nimport { StorageSetting, StorageSettings, StorageSettingsDevice, StorageSettingsDict } from \"@scrypted/sdk/storage-settings\";\nimport { MotionDetection } from \"./types\";\n\nexport const HIKVISION_UTILITIES_INTERFACE = `HIKVISION_UTILITIES`;\n\nexport interface MotionDetectionUpdateParams {\n    enabled: boolean;\n    motionSensitivity: string;\n}\n\nexport interface StreamingChannelUpdateParams {\n    channelId?: string;\n    videoCodecType?: string;\n    videoResolutionWidth?: number;\n    videoResolutionHeight?: number;\n    maxFrameRate?: number;\n    vbrUpperCap?: number;\n    constantBitRate?: number;\n    audioCompressionType?: string;\n    govLength?: number;\n    fixedQuality?: number;\n    videoQualityControlType?: 'VBR' | 'CBR';\n    smoothing?: number;\n    H264Profile?: string;\n    H265Profile?: string;\n    audioEnabled?: boolean;\n    smartCodecEnabled?: boolean;\n}\n\n/**\n * Converts frame rate from centesimal format (e.g., 2500 = 25fps) to human-readable format\n * @param frameRate Frame rate in centesimal format (e.g., 2500, 1000, 50, 6)\n * @returns Human-readable string (e.g., \"25\", \"10\", \"1/2\", \"1/16\")\n */\nexport function formatFrameRate(frameRate: number): string {\n    if (frameRate >= 100) {\n        // Standard fps (100+ = 1fps or more)\n        return String(frameRate / 100);\n    } else {\n        // Fractional fps (less than 1fps)\n        const denominator = Math.round(100 / frameRate);\n        return `1/${denominator}`;\n    }\n}\n\n/**\n * Converts human-readable frame rate back to centesimal format\n * @param formattedFps Human-readable frame rate (e.g., \"25\", \"10\", \"1/2\", \"1/16\")\n * @returns Frame rate in centesimal format\n */\nexport function parseFrameRate(formattedFps: string): number {\n    if (formattedFps.includes('/')) {\n        // Fractional format like \"1/2\"\n        const [numerator, denominator] = formattedFps.split('/').map(Number);\n        return Math.round((numerator / denominator) * 100);\n    } else {\n        // Standard format like \"25\"\n        return Number(formattedFps) * 100;\n    }\n}\n\n/**\n * Converts GOP length (in frames) to seconds based on frame rate\n * @param govLength GOP length in frames (e.g., 100 frames)\n * @param maxFrameRate Frame rate in centesimal format (e.g., 2500 = 25fps)\n * @returns GOP length in seconds for UI display (e.g., 4 seconds)\n */\nexport function formatKeyFrameInterval(govLength: number, maxFrameRate: number): number {\n    // Convert frame rate from centesimal to fps\n    const fps = maxFrameRate / 100;\n    \n    // Calculate seconds: govLength frames / fps\n    return Math.round(govLength / fps);\n}\n\n/**\n * Converts GOP length from UI format (seconds) back to API format (frames)\n * @param uiValue GOP length from UI in seconds (e.g., 4)\n * @param maxFrameRate Frame rate in centesimal format (e.g., 2500 = 25fps)\n * @returns GOP length in frames (e.g., 100)\n */\nexport function parseKeyFrameInterval(uiValue: number, maxFrameRate: number): number {\n    // Convert frame rate from centesimal to fps\n    const fps = maxFrameRate / 100;\n    \n    // Calculate frames: seconds * fps\n    return Math.round(uiValue * fps);\n}\n\nexport const generateBitrateChoices = (min: number, max: number): string[] => {\n    const choices: string[] = [];\n\n    // Standard bitrate values (powers of 2 and multiples)\n    const standardValues = [\n        32, 64, 128, 256, 512, 768, 1024, 1536, 2048, 3072, 4096,\n        6144, 8192, 12288, 16384, 20480, 24576, 32768\n    ];\n\n    // Filter values within min/max range\n    for (const value of standardValues) {\n        if (value >= min && value <= max) {\n            choices.push(String(value));\n        }\n    }\n\n    // Ensure min is included if not in standard values\n    if (!choices.includes(String(min))) {\n        choices.unshift(String(min));\n    }\n\n    // Ensure max is included if not in standard values\n    if (!choices.includes(String(max))) {\n        choices.push(String(max));\n    }\n\n    return choices;\n}\n\nexport const convertSettingsToStorageSettings = async (props: {\n    device: StorageSettingsDevice,\n    dynamicSettings: StorageSetting[],\n    initStorage: StorageSettingsDict<string>,\n}) => {\n    const { device, dynamicSettings, initStorage } = props;\n\n    const onPutToRestore: Record<string, any> = {};\n    Object.entries(initStorage).forEach(([key, setting]) => {\n        if (setting.onPut) {\n            onPutToRestore[key] = setting.onPut;\n        }\n    });\n\n    const settings: StorageSetting[] = await new StorageSettings(device, initStorage).getSettings();\n\n    settings.push(...dynamicSettings);\n\n    const deviceSettings: StorageSettingsDict<string> = {};\n\n    for (const setting of settings) {\n        const { value, key, onPut, ...rest } = setting;\n        deviceSettings[key] = {\n            ...rest,\n            value: rest.type === 'html' ? value : undefined\n        };\n        if (setting.onPut) {\n            deviceSettings[key].onPut = setting.onPut.bind(device)\n        }\n    }\n\n    const updateStorageSettings = new StorageSettings(device, deviceSettings);\n\n    Object.entries(onPutToRestore).forEach(([key, onPut]) => {\n        updateStorageSettings.settings[key].onPut = onPut;\n    });\n\n    return updateStorageSettings;\n}","import { httpFetch, httpFetchParseIncomingMessage } from '../../server/src/fetch/http-fetch';\nimport type { IncomingMessage } from 'http';\nimport type { Readable } from 'stream';\nimport { createAuthFetch } from '../../packages/auth-fetch/src/auth-fetch';\n\nexport type { HttpFetchOptions, HttpFetchResponseType } from '../../server/src/fetch/http-fetch';\nexport type { AuthFetchCredentialState, AuthFetchOptions } from '../../packages/auth-fetch/src/auth-fetch';\n\nexport const authHttpFetch = createAuthFetch<Readable, IncomingMessage>(httpFetch, httpFetchParseIncomingMessage);\n\nfunction ensureType<T>(v: T) {\n}\n\nasync function test() {\n    const a = await authHttpFetch({\n        credential: undefined,\n        url: 'http://example.com',\n    });\n\n    ensureType<Buffer>(a.body);\n\n    const b = await authHttpFetch({\n        credential: undefined,\n        url: 'http://example.com',\n        responseType: 'json',\n    });\n    ensureType<any>(b.body);\n\n    const c = await authHttpFetch({\n        credential: undefined,\n        url: 'http://example.com',\n        responseType: 'readable',\n    });\n    ensureType<IncomingMessage>(c.body);\n\n    const d = await authHttpFetch({\n        credential: undefined,\n        url: 'http://example.com',\n        responseType: 'buffer',\n    });\n    ensureType<Buffer>(d.body);\n\n    const e = await authHttpFetch({\n        credential: undefined,\n        url: 'http://example.com',\n        responseType: 'text',\n    });\n    ensureType<string>(e.body);\n}\n\n","import { HttpFetchOptions, HttpFetchResponseType, checkStatus, createHeadersArray, fetcher, getFetchMethod, hasHeader, setDefaultHttpFetchAccept, setHeader } from '../../../server/src/fetch';\n\nexport interface AuthFetchCredentialState {\n    username: string;\n    password: string;\n}\n\nexport interface AuthFetchOptions {\n    credential?: AuthFetchCredentialState;\n}\n\nasync function getAuth(options: AuthFetchOptions, url: string | URL, method: string) {\n    if (!options.credential)\n        return;\n\n    const { BASIC, DIGEST, parseWWWAuthenticateHeader } = await import('http-auth-utils');\n\n    const credential = options.credential as AuthFetchCredentialState & {\n        count?: number;\n        digest?: ReturnType<typeof parseWWWAuthenticateHeader<typeof DIGEST>>;\n        basic?: ReturnType<typeof parseWWWAuthenticateHeader<typeof BASIC>>;\n    };\n    const { digest, basic } = credential;\n\n    if (digest) {\n        credential.count ||= 0;\n        ++credential.count;\n        const nc = ('00000000' + credential.count).slice(-8);\n        const cnonce = [...Array(24)].map(() => Math.floor(Math.random() * 16).toString(16)).join('');\n        const parsedURL = new URL(url);\n        const uri = parsedURL.pathname + parsedURL.search;\n\n        const { DIGEST, buildAuthorizationHeader } = await import('http-auth-utils');\n\n        const response = DIGEST.computeHash({\n            username: options.credential.username,\n            password: options.credential.password,\n            method,\n            uri,\n            nc,\n            cnonce,\n            algorithm: 'MD5',\n            qop: digest.data.qop!,\n            ...digest.data,\n        });\n\n        const header = buildAuthorizationHeader(DIGEST, {\n            username: options.credential.username,\n            uri,\n            nc,\n            cnonce,\n            algorithm: digest.data.algorithm!,\n            qop: digest.data.qop!,\n            response,\n            ...digest.data,\n        });\n\n        return header;\n    }\n    else if (basic) {\n        const { BASIC, buildAuthorizationHeader } = await import('http-auth-utils');\n\n        const header = buildAuthorizationHeader(BASIC, {\n            username: options.credential.username,\n            password: options.credential.password,\n        });\n\n        return header;\n    }\n}\n\nexport function createAuthFetch<B, M>(\n    h: fetcher<B, M>,\n    parser: (body: M, responseType: HttpFetchResponseType | undefined) => Promise<any>\n) {\n    const authHttpFetch = async <T extends HttpFetchOptions<B>>(options: T & AuthFetchOptions): ReturnType<typeof h<T>> => {\n        const method = getFetchMethod(options);\n        const headers = createHeadersArray(options.headers);\n        options.headers = headers;\n        setDefaultHttpFetchAccept(headers, options.responseType);\n\n        const initialHeader = await getAuth(options, options.url, method);\n        // try to provide an authorization if a session exists, but don't override Authorization if provided already.\n        // 401 will trigger a proper auth.\n        if (initialHeader && !hasHeader(headers, 'Authorization'))\n            setHeader(headers, 'Authorization', initialHeader);\n\n\n        const controller = new AbortController();\n        options.signal?.addEventListener('abort', () => controller.abort(options.signal?.reason));\n\n        const initialResponse = await h({\n            ...options,\n            signal: controller.signal,\n            // need to intercept the status code to check for 401.\n            // all other status codes will be handled according to the initial request options.\n            checkStatusCode(statusCode) {\n                // can handle a 401 if an credential is provided.\n                // however, not providing a credential is also valid, and should\n                // fall through to the normal response handling which may be interested\n                // in the 401 response.\n                if (statusCode === 401 && options.credential)\n                    return true;\n                if (options?.checkStatusCode === undefined || options?.checkStatusCode) {\n                    const checker = typeof options?.checkStatusCode === 'function' ? options.checkStatusCode : checkStatus;\n                    return checker(statusCode);\n                }\n                return true;\n            },\n            responseType: 'readable',\n        });\n\n        // if it's not a 401, just return the response.\n        if (initialResponse.statusCode !== 401) {\n            return {\n                ...initialResponse,\n                body: await parser(initialResponse.body, options.responseType),\n            };\n        }\n\n        let authenticateHeaders: string | string[] | null = initialResponse.headers.get('www-authenticate');\n        if (!authenticateHeaders)\n            throw new Error('Did not find WWW-Authenticate header.');\n\n\n        if (typeof authenticateHeaders === 'string')\n            authenticateHeaders = [authenticateHeaders];\n\n        const { BASIC, DIGEST, parseWWWAuthenticateHeader } = await import('http-auth-utils');\n        const parsedHeaders = authenticateHeaders.map(h => parseWWWAuthenticateHeader(h));\n\n        const digest = parsedHeaders.find(p => p.type === 'Digest') as ReturnType<typeof parseWWWAuthenticateHeader<typeof DIGEST>>;\n        const basic = parsedHeaders.find(p => p.type === 'Basic') as ReturnType<typeof parseWWWAuthenticateHeader<typeof BASIC>>;\n        const credential = options.credential as AuthFetchCredentialState & {\n            count?: number;\n            digest?: ReturnType<typeof parseWWWAuthenticateHeader<typeof DIGEST>>;\n            basic?: ReturnType<typeof parseWWWAuthenticateHeader<typeof BASIC>>;\n        };\n\n        credential.digest = digest;\n        credential.basic = basic;\n\n        if (!digest && !basic)\n            throw new Error(`Unknown WWW-Authenticate type: ${parsedHeaders[0]?.type}`);\n\n        const header = await getAuth(options, options.url, method);\n        if (header)\n            setHeader(headers, 'Authorization', header);\n\n        return h(options);\n    }\n\n    return authHttpFetch;\n}\n","import type events from 'events';\nimport type followRedirects from 'follow-redirects';\nimport type { IncomingMessage } from 'http';\nimport type stream from 'stream';\nimport type { Readable } from 'stream';\nimport { HttpFetchBufferOptions, HttpFetchJsonOptions, HttpFetchOptions, HttpFetchReadableOptions, HttpFetchResponse, HttpFetchResponseType, HttpFetchTextOptions, checkStatus, createHeadersArray, createStringOrBufferBody, getFetchMethod, setDefaultHttpFetchAccept } from '.';\nexport type { HttpFetchBufferOptions, HttpFetchJsonOptions, HttpFetchOptions, HttpFetchReadableOptions, HttpFetchResponse, HttpFetchResponseType, HttpFetchTextOptions, checkStatus, setDefaultHttpFetchAccept } from '.';\n\nasync function readMessageBuffer(response: IncomingMessage) {\n    const buffers: Buffer[] = [];\n    response.on('data', buffer => buffers.push(buffer));\n    const { once } = require('events') as typeof events;\n    await once(response, 'end');\n    return Buffer.concat(buffers);\n}\n\nexport interface FetchParser<T> {\n    parse(message: IncomingMessage): Promise<T>;\n}\n\nconst TextParser: FetchParser<string> = {\n    async parse(message: IncomingMessage) {\n        return (await readMessageBuffer(message)).toString();\n    }\n}\nconst JSONParser: FetchParser<any> = {\n    async parse(message: IncomingMessage) {\n        return JSON.parse((await readMessageBuffer(message)).toString());\n    }\n}\n\nconst BufferParser: FetchParser<Buffer> = {\n    async parse(message: IncomingMessage) {\n        return readMessageBuffer(message);\n    }\n}\n\nconst StreamParser: FetchParser<IncomingMessage> = {\n    async parse(message: IncomingMessage) {\n        return message;\n    }\n}\n\nexport function getHttpFetchParser(responseType: HttpFetchResponseType | undefined) {\n    switch (responseType) {\n        case 'json':\n            return JSONParser;\n        case 'text':\n            return TextParser;\n        case 'readable':\n            return StreamParser;\n    }\n    return BufferParser;\n}\n\nexport function httpFetchParseIncomingMessage(readable: IncomingMessage, responseType: HttpFetchResponseType | undefined) {\n    return getHttpFetchParser(responseType).parse(readable);\n}\n\nexport async function httpFetch<T extends HttpFetchOptions<Readable>>(options: T): Promise<HttpFetchResponse<\n    // first one serves as default.\n    T extends HttpFetchBufferOptions<Readable> ? Buffer\n    : T extends HttpFetchTextOptions<Readable> ? string\n    : T extends HttpFetchReadableOptions<Readable> ? IncomingMessage\n    : T extends HttpFetchJsonOptions<Readable> ? any : Buffer\n>> {\n    const headers = createHeadersArray(options.headers);\n    setDefaultHttpFetchAccept(headers, options.responseType);\n\n    const { once } = require('events') as typeof events;\n    const { PassThrough, Readable } = require('stream') as typeof stream;\n    const { http, https } = require('follow-redirects') as typeof followRedirects;\n\n    const { url } = options;\n    const isSecure = url.toString().startsWith('https:');\n    const proto = isSecure ? https : http;\n\n    let { body } = options;\n    if (body && !(body instanceof Readable)) {\n        const newBody = new PassThrough();\n        newBody.write(Buffer.from(createStringOrBufferBody(headers, body)));\n        newBody.end();\n        body = newBody;\n    }\n\n    let controller: AbortController | undefined;\n    let timeout: NodeJS.Timeout;\n    if (options.timeout) {\n        controller = new AbortController();\n        timeout = setTimeout(() => controller!.abort(), options.timeout);\n\n        options.signal?.addEventListener('abort', () => controller!.abort(options.signal?.reason));\n    }\n\n    const signal = controller?.signal || options.signal;\n    signal?.addEventListener('abort', () => request.destroy(new Error(options.signal?.reason || 'abort')));\n\n    const nodeHeaders: Record<string, string[]> = {};\n    for (const [k, v] of headers) {\n        if (nodeHeaders[k]) {\n            nodeHeaders[k].push(v);\n        }\n        else {\n            nodeHeaders[k] = [v];\n        }\n    }\n\n    const request = proto.request(url, {\n        method: getFetchMethod(options),\n        rejectUnauthorized: options.rejectUnauthorized,\n        family: options.family,\n        headers: nodeHeaders,\n        signal,\n        timeout: options.timeout,\n    });\n\n    if (body)\n        body.pipe(request);\n    else\n        request.end();\n\n    try {\n        const [response] = await once(request, 'response') as [IncomingMessage];\n\n\n        if (options?.checkStatusCode === undefined || options?.checkStatusCode) {\n            try {\n                const checker = typeof options?.checkStatusCode === 'function' ? options.checkStatusCode : checkStatus;\n                if (!response.statusCode || !checker(response.statusCode))\n                    throw new Error(`http response statusCode ${response.statusCode}`);\n            }\n            catch (e) {\n                readMessageBuffer(response).catch(() => { });\n                throw e;\n            }\n        }\n\n        const incomingHeaders = new Headers();\n        for (const [k, v] of Object.entries(response.headers)) {\n            for (const vv of (typeof v === 'string' ? [v] : v!)) {\n                incomingHeaders.append(k, vv)\n            }\n        }\n\n        return {\n            statusCode: response.statusCode!,\n            headers: incomingHeaders,\n            body: await httpFetchParseIncomingMessage(response, options.responseType),\n        };\n    }\n    finally {\n        clearTimeout(timeout!);\n    }\n}\n\n","export type HttpFetchResponseType = 'json' | 'text' | 'buffer' | 'readable';\nexport interface HttpFetchOptionsBase<B> {\n    url: string | URL;\n    family?: 4 | 6;\n    method?: string;\n    headers?: HeadersInit;\n    signal?: AbortSignal,\n    timeout?: number;\n    rejectUnauthorized?: boolean;\n    /**\n     * Checks the status code. Defaults to true.\n     */\n    checkStatusCode?: boolean | ((statusCode: number) => boolean);\n    body?: B | string | ArrayBufferView | any;\n    withCredentials?: boolean;\n}\n\nexport interface HttpFetchJsonOptions<B> extends HttpFetchOptionsBase<B> {\n    responseType: 'json';\n}\n\nexport interface HttpFetchBufferOptions<B> extends HttpFetchOptionsBase<B> {\n    responseType: 'buffer';\n}\n\nexport interface HttpFetchDefaultOptions<B> extends HttpFetchOptionsBase<B> {\n    responseType?: undefined;\n}\n\nexport interface HttpFetchTextOptions<B> extends HttpFetchOptionsBase<B> {\n    responseType: 'text';\n}\nexport interface HttpFetchReadableOptions<B> extends HttpFetchOptionsBase<B> {\n    responseType: 'readable';\n}\n\nexport type HttpFetchOptions<B> = HttpFetchJsonOptions<B> | HttpFetchBufferOptions<B> | HttpFetchDefaultOptions<B> | HttpFetchTextOptions<B> | HttpFetchReadableOptions<B>;\n\nexport function fetchStatusCodeOk(statusCode: number) {\n    return statusCode >= 200 && statusCode <= 299;\n}\n\nexport function checkStatus(statusCode: number) {\n    if (!fetchStatusCodeOk(statusCode))\n        throw new Error(`http response statusCode ${statusCode}`);\n    return true;\n}\n\nexport function getFetchMethod(options: HttpFetchOptions<any>) {\n    const method = options.method || (options.body ? 'POST' : 'GET');\n    return method;\n}\n\nexport interface HttpFetchResponse<T> {\n    statusCode: number;\n    headers: Headers;\n    body: T;\n}\n\nexport type fetcher<B, M> = <T extends HttpFetchOptions<B>>(options: T) => Promise<HttpFetchResponse<\n    // first one serves as default.\n    T extends HttpFetchBufferOptions<B> ? Buffer\n    : T extends HttpFetchTextOptions<B> ? string\n    : T extends HttpFetchReadableOptions<B> ? M\n    : T extends HttpFetchJsonOptions<B> ? any : Buffer\n>>;\n\n\nexport function getHttpFetchAccept(responseType: HttpFetchResponseType | undefined) {\n    switch (responseType) {\n        case 'json':\n            return 'application/json';\n        case 'text':\n            return 'text/plain';\n    }\n    return;\n}\n\nexport function hasHeader(headers: [string, string][], key: string) {\n    key = key.toLowerCase();\n    return headers.find(([k]) => k.toLowerCase() === key);\n}\n\nexport function removeHeader(headers: [string, string][], key: string) {\n    key = key.toLowerCase();\n    const filteredHeaders = headers.filter(([headerKey, _]) => headerKey.toLowerCase() !== key);\n    headers.length = 0;\n    filteredHeaders.forEach(header => headers.push(header));\n}\n\nexport function setHeader(headers: [string, string][], key: string, value: string) {\n    removeHeader(headers, key);\n    headers.push([key, value]);\n}\n\nexport function setDefaultHttpFetchAccept(headers: [string, string][], responseType: HttpFetchResponseType | undefined) {\n    if (hasHeader(headers, 'Accept'))\n        return;\n    const accept = getHttpFetchAccept(responseType);\n    if (accept)\n        setHeader(headers, 'Accept', accept);\n}\n\nexport function createHeadersArray(headers: HeadersInit | undefined): [string, string][] {\n    const headersArray: [string, string][] = [];\n    if (!headers)\n        return headersArray;\n    if (headers instanceof Headers) {\n        for (const [k, v] of headers.entries()) {\n            headersArray.push([k, v]);\n        }\n        return headersArray;\n    }\n\n    if (headers instanceof Array) {\n        for (const [k, v] of headers) {\n            headersArray.push([k, v]);\n        }\n        return headersArray;\n    }\n\n    for (const k of Object.keys(headers)) {\n        const v = headers[k];\n        headersArray.push([k, v]);\n    }\n\n    return headersArray;\n}\n\n/**\n *\n * @param headers\n * @param body\n * @returns Returns the body and Content-Type header that was set.\n */\nexport function createStringOrBufferBody(headers: [string, string][], body: any) {\n    let contentType: string | undefined;\n    if (typeof body === 'object') {\n        body = JSON.stringify(body);\n        contentType = 'application/json';\n    }\n    else if (typeof body === 'string') {\n        contentType = 'text/plain';\n    }\n\n    if (contentType && !hasHeader(headers, 'Content-Type'))\n        setHeader(headers, 'Content-Type', contentType);\n\n    if (!hasHeader(headers, 'Content-Length')) {\n        body = Buffer.from(body);\n        setHeader(headers, 'Content-Length', body.length.toString());\n    }\n    return body;\n}\n\nexport async function domFetchParseIncomingMessage(response: Response, responseType: HttpFetchResponseType | undefined) {\n    switch (responseType) {\n        case 'json':\n            return response.json();\n        case 'text':\n            return response.text();\n        case 'readable':\n            return response;\n    }\n    return new Uint8Array(await response.arrayBuffer());\n}\n\nexport async function domFetch<T extends HttpFetchOptions<BodyInit>>(options: T): Promise<HttpFetchResponse<\n    // first one serves as default.\n    T extends HttpFetchBufferOptions<BodyInit> ? Buffer\n    : T extends HttpFetchTextOptions<BodyInit> ? string\n    : T extends HttpFetchReadableOptions<BodyInit> ? Response\n    : T extends HttpFetchJsonOptions<BodyInit> ? any : Buffer\n>> {\n    const headers = createHeadersArray(options.headers);\n    setDefaultHttpFetchAccept(headers, options.responseType);\n\n    let { body } = options;\n    if (body && !(body instanceof ReadableStream)) {\n        body = createStringOrBufferBody(headers, body);\n    }\n\n    let controller: AbortController | undefined;\n    let timeout: NodeJS.Timeout;\n    if (options.timeout) {\n        controller = new AbortController();\n        timeout = setTimeout(() => controller!.abort(), options.timeout);\n\n        options.signal?.addEventListener('abort', () => controller!.abort(options.signal?.reason));\n    }\n\n    try {\n        const { url } = options;\n        const response = await fetch(url, {\n            method: getFetchMethod(options),\n            credentials: options.withCredentials ? 'include' : undefined,\n            headers,\n            signal: controller?.signal || options.signal,\n            body,\n        });\n\n        if (options?.checkStatusCode === undefined || options?.checkStatusCode) {\n            try {\n                const checker = typeof options?.checkStatusCode === 'function' ? options.checkStatusCode : checkStatus;\n                if (!checker(response.status))\n                    throw new Error(`http response statusCode ${response.status}`);\n            }\n            catch (e) {\n                response.arrayBuffer().catch(() => { });\n                throw e;\n            }\n        }\n\n        return {\n            statusCode: response.status,\n            headers: response.headers,\n            body: await domFetchParseIncomingMessage(response, options.responseType),\n        };\n    }\n    finally {\n        clearTimeout(timeout!);\n    }\n}\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  \"use strict\";\n  exports.stripBOM = function(str) {\n    if (str[0] === '\\uFEFF') {\n      return str.substring(1);\n    } else {\n      return str;\n    }\n  };\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  \"use strict\";\n  var builder, defaults, escapeCDATA, requiresCDATA, wrapCDATA,\n    hasProp = {}.hasOwnProperty;\n\n  builder = require('xmlbuilder');\n\n  defaults = require('./defaults').defaults;\n\n  requiresCDATA = function(entry) {\n    return typeof entry === \"string\" && (entry.indexOf('&') >= 0 || entry.indexOf('>') >= 0 || entry.indexOf('<') >= 0);\n  };\n\n  wrapCDATA = function(entry) {\n    return \"<![CDATA[\" + (escapeCDATA(entry)) + \"]]>\";\n  };\n\n  escapeCDATA = function(entry) {\n    return entry.replace(']]>', ']]]]><![CDATA[>');\n  };\n\n  exports.Builder = (function() {\n    function Builder(opts) {\n      var key, ref, value;\n      this.options = {};\n      ref = defaults[\"0.2\"];\n      for (key in ref) {\n        if (!hasProp.call(ref, key)) continue;\n        value = ref[key];\n        this.options[key] = value;\n      }\n      for (key in opts) {\n        if (!hasProp.call(opts, key)) continue;\n        value = opts[key];\n        this.options[key] = value;\n      }\n    }\n\n    Builder.prototype.buildObject = function(rootObj) {\n      var attrkey, charkey, render, rootElement, rootName;\n      attrkey = this.options.attrkey;\n      charkey = this.options.charkey;\n      if ((Object.keys(rootObj).length === 1) && (this.options.rootName === defaults['0.2'].rootName)) {\n        rootName = Object.keys(rootObj)[0];\n        rootObj = rootObj[rootName];\n      } else {\n        rootName = this.options.rootName;\n      }\n      render = (function(_this) {\n        return function(element, obj) {\n          var attr, child, entry, index, key, value;\n          if (typeof obj !== 'object') {\n            if (_this.options.cdata && requiresCDATA(obj)) {\n              element.raw(wrapCDATA(obj));\n            } else {\n              element.txt(obj);\n            }\n          } else if (Array.isArray(obj)) {\n            for (index in obj) {\n              if (!hasProp.call(obj, index)) continue;\n              child = obj[index];\n              for (key in child) {\n                entry = child[key];\n                element = render(element.ele(key), entry).up();\n              }\n            }\n          } else {\n            for (key in obj) {\n              if (!hasProp.call(obj, key)) continue;\n              child = obj[key];\n              if (key === attrkey) {\n                if (typeof child === \"object\") {\n                  for (attr in child) {\n                    value = child[attr];\n                    element = element.att(attr, value);\n                  }\n                }\n              } else if (key === charkey) {\n                if (_this.options.cdata && requiresCDATA(child)) {\n                  element = element.raw(wrapCDATA(child));\n                } else {\n                  element = element.txt(child);\n                }\n              } else if (Array.isArray(child)) {\n                for (index in child) {\n                  if (!hasProp.call(child, index)) continue;\n                  entry = child[index];\n                  if (typeof entry === 'string') {\n                    if (_this.options.cdata && requiresCDATA(entry)) {\n                      element = element.ele(key).raw(wrapCDATA(entry)).up();\n                    } else {\n                      element = element.ele(key, entry).up();\n                    }\n                  } else {\n                    element = render(element.ele(key), entry).up();\n                  }\n                }\n              } else if (typeof child === \"object\") {\n                element = render(element.ele(key), child).up();\n              } else {\n                if (typeof child === 'string' && _this.options.cdata && requiresCDATA(child)) {\n                  element = element.ele(key).raw(wrapCDATA(child)).up();\n                } else {\n                  if (child == null) {\n                    child = '';\n                  }\n                  element = element.ele(key, child.toString()).up();\n                }\n              }\n            }\n          }\n          return element;\n        };\n      })(this);\n      rootElement = builder.create(rootName, this.options.xmldec, this.options.doctype, {\n        headless: this.options.headless,\n        allowSurrogateChars: this.options.allowSurrogateChars\n      });\n      return render(rootElement, rootObj).end(this.options.renderOpts);\n    };\n\n    return Builder;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  exports.defaults = {\n    \"0.1\": {\n      explicitCharkey: false,\n      trim: true,\n      normalize: true,\n      normalizeTags: false,\n      attrkey: \"@\",\n      charkey: \"#\",\n      explicitArray: false,\n      ignoreAttrs: false,\n      mergeAttrs: false,\n      explicitRoot: false,\n      validator: null,\n      xmlns: false,\n      explicitChildren: false,\n      childkey: '@@',\n      charsAsChildren: false,\n      includeWhiteChars: false,\n      async: false,\n      strict: true,\n      attrNameProcessors: null,\n      attrValueProcessors: null,\n      tagNameProcessors: null,\n      valueProcessors: null,\n      emptyTag: ''\n    },\n    \"0.2\": {\n      explicitCharkey: false,\n      trim: false,\n      normalize: false,\n      normalizeTags: false,\n      attrkey: \"$\",\n      charkey: \"_\",\n      explicitArray: true,\n      ignoreAttrs: false,\n      mergeAttrs: false,\n      explicitRoot: true,\n      validator: null,\n      xmlns: false,\n      explicitChildren: false,\n      preserveChildrenOrder: false,\n      childkey: '$$',\n      charsAsChildren: false,\n      includeWhiteChars: false,\n      async: false,\n      strict: true,\n      attrNameProcessors: null,\n      attrValueProcessors: null,\n      tagNameProcessors: null,\n      valueProcessors: null,\n      rootName: 'root',\n      xmldec: {\n        'version': '1.0',\n        'encoding': 'UTF-8',\n        'standalone': true\n      },\n      doctype: null,\n      renderOpts: {\n        'pretty': true,\n        'indent': '  ',\n        'newline': '\\n'\n      },\n      headless: false,\n      chunkSize: 10000,\n      emptyTag: '',\n      cdata: false\n    }\n  };\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  \"use strict\";\n  var bom, defaults, defineProperty, events, isEmpty, processItem, processors, sax, setImmediate,\n    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  sax = require('sax');\n\n  events = require('events');\n\n  bom = require('./bom');\n\n  processors = require('./processors');\n\n  setImmediate = require('timers').setImmediate;\n\n  defaults = require('./defaults').defaults;\n\n  isEmpty = function(thing) {\n    return typeof thing === \"object\" && (thing != null) && Object.keys(thing).length === 0;\n  };\n\n  processItem = function(processors, item, key) {\n    var i, len, process;\n    for (i = 0, len = processors.length; i < len; i++) {\n      process = processors[i];\n      item = process(item, key);\n    }\n    return item;\n  };\n\n  defineProperty = function(obj, key, value) {\n    var descriptor;\n    descriptor = Object.create(null);\n    descriptor.value = value;\n    descriptor.writable = true;\n    descriptor.enumerable = true;\n    descriptor.configurable = true;\n    return Object.defineProperty(obj, key, descriptor);\n  };\n\n  exports.Parser = (function(superClass) {\n    extend(Parser, superClass);\n\n    function Parser(opts) {\n      this.parseStringPromise = bind(this.parseStringPromise, this);\n      this.parseString = bind(this.parseString, this);\n      this.reset = bind(this.reset, this);\n      this.assignOrPush = bind(this.assignOrPush, this);\n      this.processAsync = bind(this.processAsync, this);\n      var key, ref, value;\n      if (!(this instanceof exports.Parser)) {\n        return new exports.Parser(opts);\n      }\n      this.options = {};\n      ref = defaults[\"0.2\"];\n      for (key in ref) {\n        if (!hasProp.call(ref, key)) continue;\n        value = ref[key];\n        this.options[key] = value;\n      }\n      for (key in opts) {\n        if (!hasProp.call(opts, key)) continue;\n        value = opts[key];\n        this.options[key] = value;\n      }\n      if (this.options.xmlns) {\n        this.options.xmlnskey = this.options.attrkey + \"ns\";\n      }\n      if (this.options.normalizeTags) {\n        if (!this.options.tagNameProcessors) {\n          this.options.tagNameProcessors = [];\n        }\n        this.options.tagNameProcessors.unshift(processors.normalize);\n      }\n      this.reset();\n    }\n\n    Parser.prototype.processAsync = function() {\n      var chunk, err;\n      try {\n        if (this.remaining.length <= this.options.chunkSize) {\n          chunk = this.remaining;\n          this.remaining = '';\n          this.saxParser = this.saxParser.write(chunk);\n          return this.saxParser.close();\n        } else {\n          chunk = this.remaining.substr(0, this.options.chunkSize);\n          this.remaining = this.remaining.substr(this.options.chunkSize, this.remaining.length);\n          this.saxParser = this.saxParser.write(chunk);\n          return setImmediate(this.processAsync);\n        }\n      } catch (error1) {\n        err = error1;\n        if (!this.saxParser.errThrown) {\n          this.saxParser.errThrown = true;\n          return this.emit(err);\n        }\n      }\n    };\n\n    Parser.prototype.assignOrPush = function(obj, key, newValue) {\n      if (!(key in obj)) {\n        if (!this.options.explicitArray) {\n          return defineProperty(obj, key, newValue);\n        } else {\n          return defineProperty(obj, key, [newValue]);\n        }\n      } else {\n        if (!(obj[key] instanceof Array)) {\n          defineProperty(obj, key, [obj[key]]);\n        }\n        return obj[key].push(newValue);\n      }\n    };\n\n    Parser.prototype.reset = function() {\n      var attrkey, charkey, ontext, stack;\n      this.removeAllListeners();\n      this.saxParser = sax.parser(this.options.strict, {\n        trim: false,\n        normalize: false,\n        xmlns: this.options.xmlns\n      });\n      this.saxParser.errThrown = false;\n      this.saxParser.onerror = (function(_this) {\n        return function(error) {\n          _this.saxParser.resume();\n          if (!_this.saxParser.errThrown) {\n            _this.saxParser.errThrown = true;\n            return _this.emit(\"error\", error);\n          }\n        };\n      })(this);\n      this.saxParser.onend = (function(_this) {\n        return function() {\n          if (!_this.saxParser.ended) {\n            _this.saxParser.ended = true;\n            return _this.emit(\"end\", _this.resultObject);\n          }\n        };\n      })(this);\n      this.saxParser.ended = false;\n      this.EXPLICIT_CHARKEY = this.options.explicitCharkey;\n      this.resultObject = null;\n      stack = [];\n      attrkey = this.options.attrkey;\n      charkey = this.options.charkey;\n      this.saxParser.onopentag = (function(_this) {\n        return function(node) {\n          var key, newValue, obj, processedKey, ref;\n          obj = {};\n          obj[charkey] = \"\";\n          if (!_this.options.ignoreAttrs) {\n            ref = node.attributes;\n            for (key in ref) {\n              if (!hasProp.call(ref, key)) continue;\n              if (!(attrkey in obj) && !_this.options.mergeAttrs) {\n                obj[attrkey] = {};\n              }\n              newValue = _this.options.attrValueProcessors ? processItem(_this.options.attrValueProcessors, node.attributes[key], key) : node.attributes[key];\n              processedKey = _this.options.attrNameProcessors ? processItem(_this.options.attrNameProcessors, key) : key;\n              if (_this.options.mergeAttrs) {\n                _this.assignOrPush(obj, processedKey, newValue);\n              } else {\n                defineProperty(obj[attrkey], processedKey, newValue);\n              }\n            }\n          }\n          obj[\"#name\"] = _this.options.tagNameProcessors ? processItem(_this.options.tagNameProcessors, node.name) : node.name;\n          if (_this.options.xmlns) {\n            obj[_this.options.xmlnskey] = {\n              uri: node.uri,\n              local: node.local\n            };\n          }\n          return stack.push(obj);\n        };\n      })(this);\n      this.saxParser.onclosetag = (function(_this) {\n        return function() {\n          var cdata, emptyStr, key, node, nodeName, obj, objClone, old, s, xpath;\n          obj = stack.pop();\n          nodeName = obj[\"#name\"];\n          if (!_this.options.explicitChildren || !_this.options.preserveChildrenOrder) {\n            delete obj[\"#name\"];\n          }\n          if (obj.cdata === true) {\n            cdata = obj.cdata;\n            delete obj.cdata;\n          }\n          s = stack[stack.length - 1];\n          if (obj[charkey].match(/^\\s*$/) && !cdata) {\n            emptyStr = obj[charkey];\n            delete obj[charkey];\n          } else {\n            if (_this.options.trim) {\n              obj[charkey] = obj[charkey].trim();\n            }\n            if (_this.options.normalize) {\n              obj[charkey] = obj[charkey].replace(/\\s{2,}/g, \" \").trim();\n            }\n            obj[charkey] = _this.options.valueProcessors ? processItem(_this.options.valueProcessors, obj[charkey], nodeName) : obj[charkey];\n            if (Object.keys(obj).length === 1 && charkey in obj && !_this.EXPLICIT_CHARKEY) {\n              obj = obj[charkey];\n            }\n          }\n          if (isEmpty(obj)) {\n            if (typeof _this.options.emptyTag === 'function') {\n              obj = _this.options.emptyTag();\n            } else {\n              obj = _this.options.emptyTag !== '' ? _this.options.emptyTag : emptyStr;\n            }\n          }\n          if (_this.options.validator != null) {\n            xpath = \"/\" + ((function() {\n              var i, len, results;\n              results = [];\n              for (i = 0, len = stack.length; i < len; i++) {\n                node = stack[i];\n                results.push(node[\"#name\"]);\n              }\n              return results;\n            })()).concat(nodeName).join(\"/\");\n            (function() {\n              var err;\n              try {\n                return obj = _this.options.validator(xpath, s && s[nodeName], obj);\n              } catch (error1) {\n                err = error1;\n                return _this.emit(\"error\", err);\n              }\n            })();\n          }\n          if (_this.options.explicitChildren && !_this.options.mergeAttrs && typeof obj === 'object') {\n            if (!_this.options.preserveChildrenOrder) {\n              node = {};\n              if (_this.options.attrkey in obj) {\n                node[_this.options.attrkey] = obj[_this.options.attrkey];\n                delete obj[_this.options.attrkey];\n              }\n              if (!_this.options.charsAsChildren && _this.options.charkey in obj) {\n                node[_this.options.charkey] = obj[_this.options.charkey];\n                delete obj[_this.options.charkey];\n              }\n              if (Object.getOwnPropertyNames(obj).length > 0) {\n                node[_this.options.childkey] = obj;\n              }\n              obj = node;\n            } else if (s) {\n              s[_this.options.childkey] = s[_this.options.childkey] || [];\n              objClone = {};\n              for (key in obj) {\n                if (!hasProp.call(obj, key)) continue;\n                defineProperty(objClone, key, obj[key]);\n              }\n              s[_this.options.childkey].push(objClone);\n              delete obj[\"#name\"];\n              if (Object.keys(obj).length === 1 && charkey in obj && !_this.EXPLICIT_CHARKEY) {\n                obj = obj[charkey];\n              }\n            }\n          }\n          if (stack.length > 0) {\n            return _this.assignOrPush(s, nodeName, obj);\n          } else {\n            if (_this.options.explicitRoot) {\n              old = obj;\n              obj = {};\n              defineProperty(obj, nodeName, old);\n            }\n            _this.resultObject = obj;\n            _this.saxParser.ended = true;\n            return _this.emit(\"end\", _this.resultObject);\n          }\n        };\n      })(this);\n      ontext = (function(_this) {\n        return function(text) {\n          var charChild, s;\n          s = stack[stack.length - 1];\n          if (s) {\n            s[charkey] += text;\n            if (_this.options.explicitChildren && _this.options.preserveChildrenOrder && _this.options.charsAsChildren && (_this.options.includeWhiteChars || text.replace(/\\\\n/g, '').trim() !== '')) {\n              s[_this.options.childkey] = s[_this.options.childkey] || [];\n              charChild = {\n                '#name': '__text__'\n              };\n              charChild[charkey] = text;\n              if (_this.options.normalize) {\n                charChild[charkey] = charChild[charkey].replace(/\\s{2,}/g, \" \").trim();\n              }\n              s[_this.options.childkey].push(charChild);\n            }\n            return s;\n          }\n        };\n      })(this);\n      this.saxParser.ontext = ontext;\n      return this.saxParser.oncdata = (function(_this) {\n        return function(text) {\n          var s;\n          s = ontext(text);\n          if (s) {\n            return s.cdata = true;\n          }\n        };\n      })(this);\n    };\n\n    Parser.prototype.parseString = function(str, cb) {\n      var err;\n      if ((cb != null) && typeof cb === \"function\") {\n        this.on(\"end\", function(result) {\n          this.reset();\n          return cb(null, result);\n        });\n        this.on(\"error\", function(err) {\n          this.reset();\n          return cb(err);\n        });\n      }\n      try {\n        str = str.toString();\n        if (str.trim() === '') {\n          this.emit(\"end\", null);\n          return true;\n        }\n        str = bom.stripBOM(str);\n        if (this.options.async) {\n          this.remaining = str;\n          setImmediate(this.processAsync);\n          return this.saxParser;\n        }\n        return this.saxParser.write(str).close();\n      } catch (error1) {\n        err = error1;\n        if (!(this.saxParser.errThrown || this.saxParser.ended)) {\n          this.emit('error', err);\n          return this.saxParser.errThrown = true;\n        } else if (this.saxParser.ended) {\n          throw err;\n        }\n      }\n    };\n\n    Parser.prototype.parseStringPromise = function(str) {\n      return new Promise((function(_this) {\n        return function(resolve, reject) {\n          return _this.parseString(str, function(err, value) {\n            if (err) {\n              return reject(err);\n            } else {\n              return resolve(value);\n            }\n          });\n        };\n      })(this));\n    };\n\n    return Parser;\n\n  })(events);\n\n  exports.parseString = function(str, a, b) {\n    var cb, options, parser;\n    if (b != null) {\n      if (typeof b === 'function') {\n        cb = b;\n      }\n      if (typeof a === 'object') {\n        options = a;\n      }\n    } else {\n      if (typeof a === 'function') {\n        cb = a;\n      }\n      options = {};\n    }\n    parser = new exports.Parser(options);\n    return parser.parseString(str, cb);\n  };\n\n  exports.parseStringPromise = function(str, a) {\n    var options, parser;\n    if (typeof a === 'object') {\n      options = a;\n    }\n    parser = new exports.Parser(options);\n    return parser.parseStringPromise(str);\n  };\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  \"use strict\";\n  var prefixMatch;\n\n  prefixMatch = new RegExp(/(?!xmlns)^.*:/);\n\n  exports.normalize = function(str) {\n    return str.toLowerCase();\n  };\n\n  exports.firstCharLowerCase = function(str) {\n    return str.charAt(0).toLowerCase() + str.slice(1);\n  };\n\n  exports.stripPrefix = function(str) {\n    return str.replace(prefixMatch, '');\n  };\n\n  exports.parseNumbers = function(str) {\n    if (!isNaN(str)) {\n      str = str % 1 === 0 ? parseInt(str, 10) : parseFloat(str);\n    }\n    return str;\n  };\n\n  exports.parseBooleans = function(str) {\n    if (/^(?:true|false)$/i.test(str)) {\n      str = str.toLowerCase() === 'true';\n    }\n    return str;\n  };\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  \"use strict\";\n  var builder, defaults, parser, processors,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  defaults = require('./defaults');\n\n  builder = require('./builder');\n\n  parser = require('./parser');\n\n  processors = require('./processors');\n\n  exports.defaults = defaults.defaults;\n\n  exports.processors = processors;\n\n  exports.ValidationError = (function(superClass) {\n    extend(ValidationError, superClass);\n\n    function ValidationError(message) {\n      this.message = message;\n    }\n\n    return ValidationError;\n\n  })(Error);\n\n  exports.Builder = builder.Builder;\n\n  exports.Parser = parser.Parser;\n\n  exports.parseString = parser.parseString;\n\n  exports.parseStringPromise = parser.parseStringPromise;\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  module.exports = {\n    Disconnected: 1,\n    Preceding: 2,\n    Following: 4,\n    Contains: 8,\n    ContainedBy: 16,\n    ImplementationSpecific: 32\n  };\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  module.exports = {\n    Element: 1,\n    Attribute: 2,\n    Text: 3,\n    CData: 4,\n    EntityReference: 5,\n    EntityDeclaration: 6,\n    ProcessingInstruction: 7,\n    Comment: 8,\n    Document: 9,\n    DocType: 10,\n    DocumentFragment: 11,\n    NotationDeclaration: 12,\n    Declaration: 201,\n    Raw: 202,\n    AttributeDeclaration: 203,\n    ElementDeclaration: 204,\n    Dummy: 205\n  };\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var assign, getValue, isArray, isEmpty, isFunction, isObject, isPlainObject,\n    slice = [].slice,\n    hasProp = {}.hasOwnProperty;\n\n  assign = function() {\n    var i, key, len, source, sources, target;\n    target = arguments[0], sources = 2 <= arguments.length ? slice.call(arguments, 1) : [];\n    if (isFunction(Object.assign)) {\n      Object.assign.apply(null, arguments);\n    } else {\n      for (i = 0, len = sources.length; i < len; i++) {\n        source = sources[i];\n        if (source != null) {\n          for (key in source) {\n            if (!hasProp.call(source, key)) continue;\n            target[key] = source[key];\n          }\n        }\n      }\n    }\n    return target;\n  };\n\n  isFunction = function(val) {\n    return !!val && Object.prototype.toString.call(val) === '[object Function]';\n  };\n\n  isObject = function(val) {\n    var ref;\n    return !!val && ((ref = typeof val) === 'function' || ref === 'object');\n  };\n\n  isArray = function(val) {\n    if (isFunction(Array.isArray)) {\n      return Array.isArray(val);\n    } else {\n      return Object.prototype.toString.call(val) === '[object Array]';\n    }\n  };\n\n  isEmpty = function(val) {\n    var key;\n    if (isArray(val)) {\n      return !val.length;\n    } else {\n      for (key in val) {\n        if (!hasProp.call(val, key)) continue;\n        return false;\n      }\n      return true;\n    }\n  };\n\n  isPlainObject = function(val) {\n    var ctor, proto;\n    return isObject(val) && (proto = Object.getPrototypeOf(val)) && (ctor = proto.constructor) && (typeof ctor === 'function') && (ctor instanceof ctor) && (Function.prototype.toString.call(ctor) === Function.prototype.toString.call(Object));\n  };\n\n  getValue = function(obj) {\n    if (isFunction(obj.valueOf)) {\n      return obj.valueOf();\n    } else {\n      return obj;\n    }\n  };\n\n  module.exports.assign = assign;\n\n  module.exports.isFunction = isFunction;\n\n  module.exports.isObject = isObject;\n\n  module.exports.isArray = isArray;\n\n  module.exports.isEmpty = isEmpty;\n\n  module.exports.isPlainObject = isPlainObject;\n\n  module.exports.getValue = getValue;\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  module.exports = {\n    None: 0,\n    OpenTag: 1,\n    InsideTag: 2,\n    CloseTag: 3\n  };\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLAttribute, XMLNode;\n\n  NodeType = require('./NodeType');\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLAttribute = (function() {\n    function XMLAttribute(parent, name, value) {\n      this.parent = parent;\n      if (this.parent) {\n        this.options = this.parent.options;\n        this.stringify = this.parent.stringify;\n      }\n      if (name == null) {\n        throw new Error(\"Missing attribute name. \" + this.debugInfo(name));\n      }\n      this.name = this.stringify.name(name);\n      this.value = this.stringify.attValue(value);\n      this.type = NodeType.Attribute;\n      this.isId = false;\n      this.schemaTypeInfo = null;\n    }\n\n    Object.defineProperty(XMLAttribute.prototype, 'nodeType', {\n      get: function() {\n        return this.type;\n      }\n    });\n\n    Object.defineProperty(XMLAttribute.prototype, 'ownerElement', {\n      get: function() {\n        return this.parent;\n      }\n    });\n\n    Object.defineProperty(XMLAttribute.prototype, 'textContent', {\n      get: function() {\n        return this.value;\n      },\n      set: function(value) {\n        return this.value = value || '';\n      }\n    });\n\n    Object.defineProperty(XMLAttribute.prototype, 'namespaceURI', {\n      get: function() {\n        return '';\n      }\n    });\n\n    Object.defineProperty(XMLAttribute.prototype, 'prefix', {\n      get: function() {\n        return '';\n      }\n    });\n\n    Object.defineProperty(XMLAttribute.prototype, 'localName', {\n      get: function() {\n        return this.name;\n      }\n    });\n\n    Object.defineProperty(XMLAttribute.prototype, 'specified', {\n      get: function() {\n        return true;\n      }\n    });\n\n    XMLAttribute.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLAttribute.prototype.toString = function(options) {\n      return this.options.writer.attribute(this, this.options.writer.filterOptions(options));\n    };\n\n    XMLAttribute.prototype.debugInfo = function(name) {\n      name = name || this.name;\n      if (name == null) {\n        return \"parent: <\" + this.parent.name + \">\";\n      } else {\n        return \"attribute: {\" + name + \"}, parent: <\" + this.parent.name + \">\";\n      }\n    };\n\n    XMLAttribute.prototype.isEqualNode = function(node) {\n      if (node.namespaceURI !== this.namespaceURI) {\n        return false;\n      }\n      if (node.prefix !== this.prefix) {\n        return false;\n      }\n      if (node.localName !== this.localName) {\n        return false;\n      }\n      if (node.value !== this.value) {\n        return false;\n      }\n      return true;\n    };\n\n    return XMLAttribute;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLCData, XMLCharacterData,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  NodeType = require('./NodeType');\n\n  XMLCharacterData = require('./XMLCharacterData');\n\n  module.exports = XMLCData = (function(superClass) {\n    extend(XMLCData, superClass);\n\n    function XMLCData(parent, text) {\n      XMLCData.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing CDATA text. \" + this.debugInfo());\n      }\n      this.name = \"#cdata-section\";\n      this.type = NodeType.CData;\n      this.value = this.stringify.cdata(text);\n    }\n\n    XMLCData.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLCData.prototype.toString = function(options) {\n      return this.options.writer.cdata(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLCData;\n\n  })(XMLCharacterData);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLCharacterData, XMLNode,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLCharacterData = (function(superClass) {\n    extend(XMLCharacterData, superClass);\n\n    function XMLCharacterData(parent) {\n      XMLCharacterData.__super__.constructor.call(this, parent);\n      this.value = '';\n    }\n\n    Object.defineProperty(XMLCharacterData.prototype, 'data', {\n      get: function() {\n        return this.value;\n      },\n      set: function(value) {\n        return this.value = value || '';\n      }\n    });\n\n    Object.defineProperty(XMLCharacterData.prototype, 'length', {\n      get: function() {\n        return this.value.length;\n      }\n    });\n\n    Object.defineProperty(XMLCharacterData.prototype, 'textContent', {\n      get: function() {\n        return this.value;\n      },\n      set: function(value) {\n        return this.value = value || '';\n      }\n    });\n\n    XMLCharacterData.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLCharacterData.prototype.substringData = function(offset, count) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLCharacterData.prototype.appendData = function(arg) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLCharacterData.prototype.insertData = function(offset, arg) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLCharacterData.prototype.deleteData = function(offset, count) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLCharacterData.prototype.replaceData = function(offset, count, arg) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLCharacterData.prototype.isEqualNode = function(node) {\n      if (!XMLCharacterData.__super__.isEqualNode.apply(this, arguments).isEqualNode(node)) {\n        return false;\n      }\n      if (node.data !== this.data) {\n        return false;\n      }\n      return true;\n    };\n\n    return XMLCharacterData;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLCharacterData, XMLComment,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  NodeType = require('./NodeType');\n\n  XMLCharacterData = require('./XMLCharacterData');\n\n  module.exports = XMLComment = (function(superClass) {\n    extend(XMLComment, superClass);\n\n    function XMLComment(parent, text) {\n      XMLComment.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing comment text. \" + this.debugInfo());\n      }\n      this.name = \"#comment\";\n      this.type = NodeType.Comment;\n      this.value = this.stringify.comment(text);\n    }\n\n    XMLComment.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLComment.prototype.toString = function(options) {\n      return this.options.writer.comment(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLComment;\n\n  })(XMLCharacterData);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLDOMConfiguration, XMLDOMErrorHandler, XMLDOMStringList;\n\n  XMLDOMErrorHandler = require('./XMLDOMErrorHandler');\n\n  XMLDOMStringList = require('./XMLDOMStringList');\n\n  module.exports = XMLDOMConfiguration = (function() {\n    function XMLDOMConfiguration() {\n      var clonedSelf;\n      this.defaultParams = {\n        \"canonical-form\": false,\n        \"cdata-sections\": false,\n        \"comments\": false,\n        \"datatype-normalization\": false,\n        \"element-content-whitespace\": true,\n        \"entities\": true,\n        \"error-handler\": new XMLDOMErrorHandler(),\n        \"infoset\": true,\n        \"validate-if-schema\": false,\n        \"namespaces\": true,\n        \"namespace-declarations\": true,\n        \"normalize-characters\": false,\n        \"schema-location\": '',\n        \"schema-type\": '',\n        \"split-cdata-sections\": true,\n        \"validate\": false,\n        \"well-formed\": true\n      };\n      this.params = clonedSelf = Object.create(this.defaultParams);\n    }\n\n    Object.defineProperty(XMLDOMConfiguration.prototype, 'parameterNames', {\n      get: function() {\n        return new XMLDOMStringList(Object.keys(this.defaultParams));\n      }\n    });\n\n    XMLDOMConfiguration.prototype.getParameter = function(name) {\n      if (this.params.hasOwnProperty(name)) {\n        return this.params[name];\n      } else {\n        return null;\n      }\n    };\n\n    XMLDOMConfiguration.prototype.canSetParameter = function(name, value) {\n      return true;\n    };\n\n    XMLDOMConfiguration.prototype.setParameter = function(name, value) {\n      if (value != null) {\n        return this.params[name] = value;\n      } else {\n        return delete this.params[name];\n      }\n    };\n\n    return XMLDOMConfiguration;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLDOMErrorHandler;\n\n  module.exports = XMLDOMErrorHandler = (function() {\n    function XMLDOMErrorHandler() {}\n\n    XMLDOMErrorHandler.prototype.handleError = function(error) {\n      throw new Error(error);\n    };\n\n    return XMLDOMErrorHandler;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLDOMImplementation;\n\n  module.exports = XMLDOMImplementation = (function() {\n    function XMLDOMImplementation() {}\n\n    XMLDOMImplementation.prototype.hasFeature = function(feature, version) {\n      return true;\n    };\n\n    XMLDOMImplementation.prototype.createDocumentType = function(qualifiedName, publicId, systemId) {\n      throw new Error(\"This DOM method is not implemented.\");\n    };\n\n    XMLDOMImplementation.prototype.createDocument = function(namespaceURI, qualifiedName, doctype) {\n      throw new Error(\"This DOM method is not implemented.\");\n    };\n\n    XMLDOMImplementation.prototype.createHTMLDocument = function(title) {\n      throw new Error(\"This DOM method is not implemented.\");\n    };\n\n    XMLDOMImplementation.prototype.getFeature = function(feature, version) {\n      throw new Error(\"This DOM method is not implemented.\");\n    };\n\n    return XMLDOMImplementation;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLDOMStringList;\n\n  module.exports = XMLDOMStringList = (function() {\n    function XMLDOMStringList(arr) {\n      this.arr = arr || [];\n    }\n\n    Object.defineProperty(XMLDOMStringList.prototype, 'length', {\n      get: function() {\n        return this.arr.length;\n      }\n    });\n\n    XMLDOMStringList.prototype.item = function(index) {\n      return this.arr[index] || null;\n    };\n\n    XMLDOMStringList.prototype.contains = function(str) {\n      return this.arr.indexOf(str) !== -1;\n    };\n\n    return XMLDOMStringList;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDTDAttList, XMLNode,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  module.exports = XMLDTDAttList = (function(superClass) {\n    extend(XMLDTDAttList, superClass);\n\n    function XMLDTDAttList(parent, elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      XMLDTDAttList.__super__.constructor.call(this, parent);\n      if (elementName == null) {\n        throw new Error(\"Missing DTD element name. \" + this.debugInfo());\n      }\n      if (attributeName == null) {\n        throw new Error(\"Missing DTD attribute name. \" + this.debugInfo(elementName));\n      }\n      if (!attributeType) {\n        throw new Error(\"Missing DTD attribute type. \" + this.debugInfo(elementName));\n      }\n      if (!defaultValueType) {\n        throw new Error(\"Missing DTD attribute default. \" + this.debugInfo(elementName));\n      }\n      if (defaultValueType.indexOf('#') !== 0) {\n        defaultValueType = '#' + defaultValueType;\n      }\n      if (!defaultValueType.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/)) {\n        throw new Error(\"Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. \" + this.debugInfo(elementName));\n      }\n      if (defaultValue && !defaultValueType.match(/^(#FIXED|#DEFAULT)$/)) {\n        throw new Error(\"Default value only applies to #FIXED or #DEFAULT. \" + this.debugInfo(elementName));\n      }\n      this.elementName = this.stringify.name(elementName);\n      this.type = NodeType.AttributeDeclaration;\n      this.attributeName = this.stringify.name(attributeName);\n      this.attributeType = this.stringify.dtdAttType(attributeType);\n      if (defaultValue) {\n        this.defaultValue = this.stringify.dtdAttDefault(defaultValue);\n      }\n      this.defaultValueType = defaultValueType;\n    }\n\n    XMLDTDAttList.prototype.toString = function(options) {\n      return this.options.writer.dtdAttList(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLDTDAttList;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDTDElement, XMLNode,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  module.exports = XMLDTDElement = (function(superClass) {\n    extend(XMLDTDElement, superClass);\n\n    function XMLDTDElement(parent, name, value) {\n      XMLDTDElement.__super__.constructor.call(this, parent);\n      if (name == null) {\n        throw new Error(\"Missing DTD element name. \" + this.debugInfo());\n      }\n      if (!value) {\n        value = '(#PCDATA)';\n      }\n      if (Array.isArray(value)) {\n        value = '(' + value.join(',') + ')';\n      }\n      this.name = this.stringify.name(name);\n      this.type = NodeType.ElementDeclaration;\n      this.value = this.stringify.dtdElementValue(value);\n    }\n\n    XMLDTDElement.prototype.toString = function(options) {\n      return this.options.writer.dtdElement(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLDTDElement;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDTDEntity, XMLNode, isObject,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  isObject = require('./Utility').isObject;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  module.exports = XMLDTDEntity = (function(superClass) {\n    extend(XMLDTDEntity, superClass);\n\n    function XMLDTDEntity(parent, pe, name, value) {\n      XMLDTDEntity.__super__.constructor.call(this, parent);\n      if (name == null) {\n        throw new Error(\"Missing DTD entity name. \" + this.debugInfo(name));\n      }\n      if (value == null) {\n        throw new Error(\"Missing DTD entity value. \" + this.debugInfo(name));\n      }\n      this.pe = !!pe;\n      this.name = this.stringify.name(name);\n      this.type = NodeType.EntityDeclaration;\n      if (!isObject(value)) {\n        this.value = this.stringify.dtdEntityValue(value);\n        this.internal = true;\n      } else {\n        if (!value.pubID && !value.sysID) {\n          throw new Error(\"Public and/or system identifiers are required for an external entity. \" + this.debugInfo(name));\n        }\n        if (value.pubID && !value.sysID) {\n          throw new Error(\"System identifier is required for a public external entity. \" + this.debugInfo(name));\n        }\n        this.internal = false;\n        if (value.pubID != null) {\n          this.pubID = this.stringify.dtdPubID(value.pubID);\n        }\n        if (value.sysID != null) {\n          this.sysID = this.stringify.dtdSysID(value.sysID);\n        }\n        if (value.nData != null) {\n          this.nData = this.stringify.dtdNData(value.nData);\n        }\n        if (this.pe && this.nData) {\n          throw new Error(\"Notation declaration is not allowed in a parameter entity. \" + this.debugInfo(name));\n        }\n      }\n    }\n\n    Object.defineProperty(XMLDTDEntity.prototype, 'publicId', {\n      get: function() {\n        return this.pubID;\n      }\n    });\n\n    Object.defineProperty(XMLDTDEntity.prototype, 'systemId', {\n      get: function() {\n        return this.sysID;\n      }\n    });\n\n    Object.defineProperty(XMLDTDEntity.prototype, 'notationName', {\n      get: function() {\n        return this.nData || null;\n      }\n    });\n\n    Object.defineProperty(XMLDTDEntity.prototype, 'inputEncoding', {\n      get: function() {\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDTDEntity.prototype, 'xmlEncoding', {\n      get: function() {\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDTDEntity.prototype, 'xmlVersion', {\n      get: function() {\n        return null;\n      }\n    });\n\n    XMLDTDEntity.prototype.toString = function(options) {\n      return this.options.writer.dtdEntity(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLDTDEntity;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDTDNotation, XMLNode,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  module.exports = XMLDTDNotation = (function(superClass) {\n    extend(XMLDTDNotation, superClass);\n\n    function XMLDTDNotation(parent, name, value) {\n      XMLDTDNotation.__super__.constructor.call(this, parent);\n      if (name == null) {\n        throw new Error(\"Missing DTD notation name. \" + this.debugInfo(name));\n      }\n      if (!value.pubID && !value.sysID) {\n        throw new Error(\"Public or system identifiers are required for an external entity. \" + this.debugInfo(name));\n      }\n      this.name = this.stringify.name(name);\n      this.type = NodeType.NotationDeclaration;\n      if (value.pubID != null) {\n        this.pubID = this.stringify.dtdPubID(value.pubID);\n      }\n      if (value.sysID != null) {\n        this.sysID = this.stringify.dtdSysID(value.sysID);\n      }\n    }\n\n    Object.defineProperty(XMLDTDNotation.prototype, 'publicId', {\n      get: function() {\n        return this.pubID;\n      }\n    });\n\n    Object.defineProperty(XMLDTDNotation.prototype, 'systemId', {\n      get: function() {\n        return this.sysID;\n      }\n    });\n\n    XMLDTDNotation.prototype.toString = function(options) {\n      return this.options.writer.dtdNotation(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLDTDNotation;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDeclaration, XMLNode, isObject,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  isObject = require('./Utility').isObject;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  module.exports = XMLDeclaration = (function(superClass) {\n    extend(XMLDeclaration, superClass);\n\n    function XMLDeclaration(parent, version, encoding, standalone) {\n      var ref;\n      XMLDeclaration.__super__.constructor.call(this, parent);\n      if (isObject(version)) {\n        ref = version, version = ref.version, encoding = ref.encoding, standalone = ref.standalone;\n      }\n      if (!version) {\n        version = '1.0';\n      }\n      this.type = NodeType.Declaration;\n      this.version = this.stringify.xmlVersion(version);\n      if (encoding != null) {\n        this.encoding = this.stringify.xmlEncoding(encoding);\n      }\n      if (standalone != null) {\n        this.standalone = this.stringify.xmlStandalone(standalone);\n      }\n    }\n\n    XMLDeclaration.prototype.toString = function(options) {\n      return this.options.writer.declaration(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLDeclaration;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDTDAttList, XMLDTDElement, XMLDTDEntity, XMLDTDNotation, XMLDocType, XMLNamedNodeMap, XMLNode, isObject,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  isObject = require('./Utility').isObject;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  XMLDTDAttList = require('./XMLDTDAttList');\n\n  XMLDTDEntity = require('./XMLDTDEntity');\n\n  XMLDTDElement = require('./XMLDTDElement');\n\n  XMLDTDNotation = require('./XMLDTDNotation');\n\n  XMLNamedNodeMap = require('./XMLNamedNodeMap');\n\n  module.exports = XMLDocType = (function(superClass) {\n    extend(XMLDocType, superClass);\n\n    function XMLDocType(parent, pubID, sysID) {\n      var child, i, len, ref, ref1, ref2;\n      XMLDocType.__super__.constructor.call(this, parent);\n      this.type = NodeType.DocType;\n      if (parent.children) {\n        ref = parent.children;\n        for (i = 0, len = ref.length; i < len; i++) {\n          child = ref[i];\n          if (child.type === NodeType.Element) {\n            this.name = child.name;\n            break;\n          }\n        }\n      }\n      this.documentObject = parent;\n      if (isObject(pubID)) {\n        ref1 = pubID, pubID = ref1.pubID, sysID = ref1.sysID;\n      }\n      if (sysID == null) {\n        ref2 = [pubID, sysID], sysID = ref2[0], pubID = ref2[1];\n      }\n      if (pubID != null) {\n        this.pubID = this.stringify.dtdPubID(pubID);\n      }\n      if (sysID != null) {\n        this.sysID = this.stringify.dtdSysID(sysID);\n      }\n    }\n\n    Object.defineProperty(XMLDocType.prototype, 'entities', {\n      get: function() {\n        var child, i, len, nodes, ref;\n        nodes = {};\n        ref = this.children;\n        for (i = 0, len = ref.length; i < len; i++) {\n          child = ref[i];\n          if ((child.type === NodeType.EntityDeclaration) && !child.pe) {\n            nodes[child.name] = child;\n          }\n        }\n        return new XMLNamedNodeMap(nodes);\n      }\n    });\n\n    Object.defineProperty(XMLDocType.prototype, 'notations', {\n      get: function() {\n        var child, i, len, nodes, ref;\n        nodes = {};\n        ref = this.children;\n        for (i = 0, len = ref.length; i < len; i++) {\n          child = ref[i];\n          if (child.type === NodeType.NotationDeclaration) {\n            nodes[child.name] = child;\n          }\n        }\n        return new XMLNamedNodeMap(nodes);\n      }\n    });\n\n    Object.defineProperty(XMLDocType.prototype, 'publicId', {\n      get: function() {\n        return this.pubID;\n      }\n    });\n\n    Object.defineProperty(XMLDocType.prototype, 'systemId', {\n      get: function() {\n        return this.sysID;\n      }\n    });\n\n    Object.defineProperty(XMLDocType.prototype, 'internalSubset', {\n      get: function() {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n    });\n\n    XMLDocType.prototype.element = function(name, value) {\n      var child;\n      child = new XMLDTDElement(this, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.attList = function(elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      var child;\n      child = new XMLDTDAttList(this, elementName, attributeName, attributeType, defaultValueType, defaultValue);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.entity = function(name, value) {\n      var child;\n      child = new XMLDTDEntity(this, false, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.pEntity = function(name, value) {\n      var child;\n      child = new XMLDTDEntity(this, true, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.notation = function(name, value) {\n      var child;\n      child = new XMLDTDNotation(this, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.toString = function(options) {\n      return this.options.writer.docType(this, this.options.writer.filterOptions(options));\n    };\n\n    XMLDocType.prototype.ele = function(name, value) {\n      return this.element(name, value);\n    };\n\n    XMLDocType.prototype.att = function(elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      return this.attList(elementName, attributeName, attributeType, defaultValueType, defaultValue);\n    };\n\n    XMLDocType.prototype.ent = function(name, value) {\n      return this.entity(name, value);\n    };\n\n    XMLDocType.prototype.pent = function(name, value) {\n      return this.pEntity(name, value);\n    };\n\n    XMLDocType.prototype.not = function(name, value) {\n      return this.notation(name, value);\n    };\n\n    XMLDocType.prototype.up = function() {\n      return this.root() || this.documentObject;\n    };\n\n    XMLDocType.prototype.isEqualNode = function(node) {\n      if (!XMLDocType.__super__.isEqualNode.apply(this, arguments).isEqualNode(node)) {\n        return false;\n      }\n      if (node.name !== this.name) {\n        return false;\n      }\n      if (node.publicId !== this.publicId) {\n        return false;\n      }\n      if (node.systemId !== this.systemId) {\n        return false;\n      }\n      return true;\n    };\n\n    return XMLDocType;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDOMConfiguration, XMLDOMImplementation, XMLDocument, XMLNode, XMLStringWriter, XMLStringifier, isPlainObject,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  isPlainObject = require('./Utility').isPlainObject;\n\n  XMLDOMImplementation = require('./XMLDOMImplementation');\n\n  XMLDOMConfiguration = require('./XMLDOMConfiguration');\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  XMLStringifier = require('./XMLStringifier');\n\n  XMLStringWriter = require('./XMLStringWriter');\n\n  module.exports = XMLDocument = (function(superClass) {\n    extend(XMLDocument, superClass);\n\n    function XMLDocument(options) {\n      XMLDocument.__super__.constructor.call(this, null);\n      this.name = \"#document\";\n      this.type = NodeType.Document;\n      this.documentURI = null;\n      this.domConfig = new XMLDOMConfiguration();\n      options || (options = {});\n      if (!options.writer) {\n        options.writer = new XMLStringWriter();\n      }\n      this.options = options;\n      this.stringify = new XMLStringifier(options);\n    }\n\n    Object.defineProperty(XMLDocument.prototype, 'implementation', {\n      value: new XMLDOMImplementation()\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'doctype', {\n      get: function() {\n        var child, i, len, ref;\n        ref = this.children;\n        for (i = 0, len = ref.length; i < len; i++) {\n          child = ref[i];\n          if (child.type === NodeType.DocType) {\n            return child;\n          }\n        }\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'documentElement', {\n      get: function() {\n        return this.rootObject || null;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'inputEncoding', {\n      get: function() {\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'strictErrorChecking', {\n      get: function() {\n        return false;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'xmlEncoding', {\n      get: function() {\n        if (this.children.length !== 0 && this.children[0].type === NodeType.Declaration) {\n          return this.children[0].encoding;\n        } else {\n          return null;\n        }\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'xmlStandalone', {\n      get: function() {\n        if (this.children.length !== 0 && this.children[0].type === NodeType.Declaration) {\n          return this.children[0].standalone === 'yes';\n        } else {\n          return false;\n        }\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'xmlVersion', {\n      get: function() {\n        if (this.children.length !== 0 && this.children[0].type === NodeType.Declaration) {\n          return this.children[0].version;\n        } else {\n          return \"1.0\";\n        }\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'URL', {\n      get: function() {\n        return this.documentURI;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'origin', {\n      get: function() {\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'compatMode', {\n      get: function() {\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'characterSet', {\n      get: function() {\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'contentType', {\n      get: function() {\n        return null;\n      }\n    });\n\n    XMLDocument.prototype.end = function(writer) {\n      var writerOptions;\n      writerOptions = {};\n      if (!writer) {\n        writer = this.options.writer;\n      } else if (isPlainObject(writer)) {\n        writerOptions = writer;\n        writer = this.options.writer;\n      }\n      return writer.document(this, writer.filterOptions(writerOptions));\n    };\n\n    XMLDocument.prototype.toString = function(options) {\n      return this.options.writer.document(this, this.options.writer.filterOptions(options));\n    };\n\n    XMLDocument.prototype.createElement = function(tagName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createDocumentFragment = function() {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createTextNode = function(data) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createComment = function(data) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createCDATASection = function(data) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createProcessingInstruction = function(target, data) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createAttribute = function(name) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createEntityReference = function(name) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.getElementsByTagName = function(tagname) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.importNode = function(importedNode, deep) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createElementNS = function(namespaceURI, qualifiedName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createAttributeNS = function(namespaceURI, qualifiedName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.getElementsByTagNameNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.getElementById = function(elementId) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.adoptNode = function(source) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.normalizeDocument = function() {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.renameNode = function(node, namespaceURI, qualifiedName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.getElementsByClassName = function(classNames) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createEvent = function(eventInterface) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createRange = function() {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createNodeIterator = function(root, whatToShow, filter) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createTreeWalker = function(root, whatToShow, filter) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    return XMLDocument;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, WriterState, XMLAttribute, XMLCData, XMLComment, XMLDTDAttList, XMLDTDElement, XMLDTDEntity, XMLDTDNotation, XMLDeclaration, XMLDocType, XMLDocument, XMLDocumentCB, XMLElement, XMLProcessingInstruction, XMLRaw, XMLStringWriter, XMLStringifier, XMLText, getValue, isFunction, isObject, isPlainObject, ref,\n    hasProp = {}.hasOwnProperty;\n\n  ref = require('./Utility'), isObject = ref.isObject, isFunction = ref.isFunction, isPlainObject = ref.isPlainObject, getValue = ref.getValue;\n\n  NodeType = require('./NodeType');\n\n  XMLDocument = require('./XMLDocument');\n\n  XMLElement = require('./XMLElement');\n\n  XMLCData = require('./XMLCData');\n\n  XMLComment = require('./XMLComment');\n\n  XMLRaw = require('./XMLRaw');\n\n  XMLText = require('./XMLText');\n\n  XMLProcessingInstruction = require('./XMLProcessingInstruction');\n\n  XMLDeclaration = require('./XMLDeclaration');\n\n  XMLDocType = require('./XMLDocType');\n\n  XMLDTDAttList = require('./XMLDTDAttList');\n\n  XMLDTDEntity = require('./XMLDTDEntity');\n\n  XMLDTDElement = require('./XMLDTDElement');\n\n  XMLDTDNotation = require('./XMLDTDNotation');\n\n  XMLAttribute = require('./XMLAttribute');\n\n  XMLStringifier = require('./XMLStringifier');\n\n  XMLStringWriter = require('./XMLStringWriter');\n\n  WriterState = require('./WriterState');\n\n  module.exports = XMLDocumentCB = (function() {\n    function XMLDocumentCB(options, onData, onEnd) {\n      var writerOptions;\n      this.name = \"?xml\";\n      this.type = NodeType.Document;\n      options || (options = {});\n      writerOptions = {};\n      if (!options.writer) {\n        options.writer = new XMLStringWriter();\n      } else if (isPlainObject(options.writer)) {\n        writerOptions = options.writer;\n        options.writer = new XMLStringWriter();\n      }\n      this.options = options;\n      this.writer = options.writer;\n      this.writerOptions = this.writer.filterOptions(writerOptions);\n      this.stringify = new XMLStringifier(options);\n      this.onDataCallback = onData || function() {};\n      this.onEndCallback = onEnd || function() {};\n      this.currentNode = null;\n      this.currentLevel = -1;\n      this.openTags = {};\n      this.documentStarted = false;\n      this.documentCompleted = false;\n      this.root = null;\n    }\n\n    XMLDocumentCB.prototype.createChildNode = function(node) {\n      var att, attName, attributes, child, i, len, ref1, ref2;\n      switch (node.type) {\n        case NodeType.CData:\n          this.cdata(node.value);\n          break;\n        case NodeType.Comment:\n          this.comment(node.value);\n          break;\n        case NodeType.Element:\n          attributes = {};\n          ref1 = node.attribs;\n          for (attName in ref1) {\n            if (!hasProp.call(ref1, attName)) continue;\n            att = ref1[attName];\n            attributes[attName] = att.value;\n          }\n          this.node(node.name, attributes);\n          break;\n        case NodeType.Dummy:\n          this.dummy();\n          break;\n        case NodeType.Raw:\n          this.raw(node.value);\n          break;\n        case NodeType.Text:\n          this.text(node.value);\n          break;\n        case NodeType.ProcessingInstruction:\n          this.instruction(node.target, node.value);\n          break;\n        default:\n          throw new Error(\"This XML node type is not supported in a JS object: \" + node.constructor.name);\n      }\n      ref2 = node.children;\n      for (i = 0, len = ref2.length; i < len; i++) {\n        child = ref2[i];\n        this.createChildNode(child);\n        if (child.type === NodeType.Element) {\n          this.up();\n        }\n      }\n      return this;\n    };\n\n    XMLDocumentCB.prototype.dummy = function() {\n      return this;\n    };\n\n    XMLDocumentCB.prototype.node = function(name, attributes, text) {\n      var ref1;\n      if (name == null) {\n        throw new Error(\"Missing node name.\");\n      }\n      if (this.root && this.currentLevel === -1) {\n        throw new Error(\"Document can only have one root node. \" + this.debugInfo(name));\n      }\n      this.openCurrent();\n      name = getValue(name);\n      if (attributes == null) {\n        attributes = {};\n      }\n      attributes = getValue(attributes);\n      if (!isObject(attributes)) {\n        ref1 = [attributes, text], text = ref1[0], attributes = ref1[1];\n      }\n      this.currentNode = new XMLElement(this, name, attributes);\n      this.currentNode.children = false;\n      this.currentLevel++;\n      this.openTags[this.currentLevel] = this.currentNode;\n      if (text != null) {\n        this.text(text);\n      }\n      return this;\n    };\n\n    XMLDocumentCB.prototype.element = function(name, attributes, text) {\n      var child, i, len, oldValidationFlag, ref1, root;\n      if (this.currentNode && this.currentNode.type === NodeType.DocType) {\n        this.dtdElement.apply(this, arguments);\n      } else {\n        if (Array.isArray(name) || isObject(name) || isFunction(name)) {\n          oldValidationFlag = this.options.noValidation;\n          this.options.noValidation = true;\n          root = new XMLDocument(this.options).element('TEMP_ROOT');\n          root.element(name);\n          this.options.noValidation = oldValidationFlag;\n          ref1 = root.children;\n          for (i = 0, len = ref1.length; i < len; i++) {\n            child = ref1[i];\n            this.createChildNode(child);\n            if (child.type === NodeType.Element) {\n              this.up();\n            }\n          }\n        } else {\n          this.node(name, attributes, text);\n        }\n      }\n      return this;\n    };\n\n    XMLDocumentCB.prototype.attribute = function(name, value) {\n      var attName, attValue;\n      if (!this.currentNode || this.currentNode.children) {\n        throw new Error(\"att() can only be used immediately after an ele() call in callback mode. \" + this.debugInfo(name));\n      }\n      if (name != null) {\n        name = getValue(name);\n      }\n      if (isObject(name)) {\n        for (attName in name) {\n          if (!hasProp.call(name, attName)) continue;\n          attValue = name[attName];\n          this.attribute(attName, attValue);\n        }\n      } else {\n        if (isFunction(value)) {\n          value = value.apply();\n        }\n        if (this.options.keepNullAttributes && (value == null)) {\n          this.currentNode.attribs[name] = new XMLAttribute(this, name, \"\");\n        } else if (value != null) {\n          this.currentNode.attribs[name] = new XMLAttribute(this, name, value);\n        }\n      }\n      return this;\n    };\n\n    XMLDocumentCB.prototype.text = function(value) {\n      var node;\n      this.openCurrent();\n      node = new XMLText(this, value);\n      this.onData(this.writer.text(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.cdata = function(value) {\n      var node;\n      this.openCurrent();\n      node = new XMLCData(this, value);\n      this.onData(this.writer.cdata(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.comment = function(value) {\n      var node;\n      this.openCurrent();\n      node = new XMLComment(this, value);\n      this.onData(this.writer.comment(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.raw = function(value) {\n      var node;\n      this.openCurrent();\n      node = new XMLRaw(this, value);\n      this.onData(this.writer.raw(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.instruction = function(target, value) {\n      var i, insTarget, insValue, len, node;\n      this.openCurrent();\n      if (target != null) {\n        target = getValue(target);\n      }\n      if (value != null) {\n        value = getValue(value);\n      }\n      if (Array.isArray(target)) {\n        for (i = 0, len = target.length; i < len; i++) {\n          insTarget = target[i];\n          this.instruction(insTarget);\n        }\n      } else if (isObject(target)) {\n        for (insTarget in target) {\n          if (!hasProp.call(target, insTarget)) continue;\n          insValue = target[insTarget];\n          this.instruction(insTarget, insValue);\n        }\n      } else {\n        if (isFunction(value)) {\n          value = value.apply();\n        }\n        node = new XMLProcessingInstruction(this, target, value);\n        this.onData(this.writer.processingInstruction(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      }\n      return this;\n    };\n\n    XMLDocumentCB.prototype.declaration = function(version, encoding, standalone) {\n      var node;\n      this.openCurrent();\n      if (this.documentStarted) {\n        throw new Error(\"declaration() must be the first node.\");\n      }\n      node = new XMLDeclaration(this, version, encoding, standalone);\n      this.onData(this.writer.declaration(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.doctype = function(root, pubID, sysID) {\n      this.openCurrent();\n      if (root == null) {\n        throw new Error(\"Missing root node name.\");\n      }\n      if (this.root) {\n        throw new Error(\"dtd() must come before the root node.\");\n      }\n      this.currentNode = new XMLDocType(this, pubID, sysID);\n      this.currentNode.rootNodeName = root;\n      this.currentNode.children = false;\n      this.currentLevel++;\n      this.openTags[this.currentLevel] = this.currentNode;\n      return this;\n    };\n\n    XMLDocumentCB.prototype.dtdElement = function(name, value) {\n      var node;\n      this.openCurrent();\n      node = new XMLDTDElement(this, name, value);\n      this.onData(this.writer.dtdElement(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.attList = function(elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      var node;\n      this.openCurrent();\n      node = new XMLDTDAttList(this, elementName, attributeName, attributeType, defaultValueType, defaultValue);\n      this.onData(this.writer.dtdAttList(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.entity = function(name, value) {\n      var node;\n      this.openCurrent();\n      node = new XMLDTDEntity(this, false, name, value);\n      this.onData(this.writer.dtdEntity(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.pEntity = function(name, value) {\n      var node;\n      this.openCurrent();\n      node = new XMLDTDEntity(this, true, name, value);\n      this.onData(this.writer.dtdEntity(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.notation = function(name, value) {\n      var node;\n      this.openCurrent();\n      node = new XMLDTDNotation(this, name, value);\n      this.onData(this.writer.dtdNotation(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.up = function() {\n      if (this.currentLevel < 0) {\n        throw new Error(\"The document node has no parent.\");\n      }\n      if (this.currentNode) {\n        if (this.currentNode.children) {\n          this.closeNode(this.currentNode);\n        } else {\n          this.openNode(this.currentNode);\n        }\n        this.currentNode = null;\n      } else {\n        this.closeNode(this.openTags[this.currentLevel]);\n      }\n      delete this.openTags[this.currentLevel];\n      this.currentLevel--;\n      return this;\n    };\n\n    XMLDocumentCB.prototype.end = function() {\n      while (this.currentLevel >= 0) {\n        this.up();\n      }\n      return this.onEnd();\n    };\n\n    XMLDocumentCB.prototype.openCurrent = function() {\n      if (this.currentNode) {\n        this.currentNode.children = true;\n        return this.openNode(this.currentNode);\n      }\n    };\n\n    XMLDocumentCB.prototype.openNode = function(node) {\n      var att, chunk, name, ref1;\n      if (!node.isOpen) {\n        if (!this.root && this.currentLevel === 0 && node.type === NodeType.Element) {\n          this.root = node;\n        }\n        chunk = '';\n        if (node.type === NodeType.Element) {\n          this.writerOptions.state = WriterState.OpenTag;\n          chunk = this.writer.indent(node, this.writerOptions, this.currentLevel) + '<' + node.name;\n          ref1 = node.attribs;\n          for (name in ref1) {\n            if (!hasProp.call(ref1, name)) continue;\n            att = ref1[name];\n            chunk += this.writer.attribute(att, this.writerOptions, this.currentLevel);\n          }\n          chunk += (node.children ? '>' : '/>') + this.writer.endline(node, this.writerOptions, this.currentLevel);\n          this.writerOptions.state = WriterState.InsideTag;\n        } else {\n          this.writerOptions.state = WriterState.OpenTag;\n          chunk = this.writer.indent(node, this.writerOptions, this.currentLevel) + '<!DOCTYPE ' + node.rootNodeName;\n          if (node.pubID && node.sysID) {\n            chunk += ' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"';\n          } else if (node.sysID) {\n            chunk += ' SYSTEM \"' + node.sysID + '\"';\n          }\n          if (node.children) {\n            chunk += ' [';\n            this.writerOptions.state = WriterState.InsideTag;\n          } else {\n            this.writerOptions.state = WriterState.CloseTag;\n            chunk += '>';\n          }\n          chunk += this.writer.endline(node, this.writerOptions, this.currentLevel);\n        }\n        this.onData(chunk, this.currentLevel);\n        return node.isOpen = true;\n      }\n    };\n\n    XMLDocumentCB.prototype.closeNode = function(node) {\n      var chunk;\n      if (!node.isClosed) {\n        chunk = '';\n        this.writerOptions.state = WriterState.CloseTag;\n        if (node.type === NodeType.Element) {\n          chunk = this.writer.indent(node, this.writerOptions, this.currentLevel) + '</' + node.name + '>' + this.writer.endline(node, this.writerOptions, this.currentLevel);\n        } else {\n          chunk = this.writer.indent(node, this.writerOptions, this.currentLevel) + ']>' + this.writer.endline(node, this.writerOptions, this.currentLevel);\n        }\n        this.writerOptions.state = WriterState.None;\n        this.onData(chunk, this.currentLevel);\n        return node.isClosed = true;\n      }\n    };\n\n    XMLDocumentCB.prototype.onData = function(chunk, level) {\n      this.documentStarted = true;\n      return this.onDataCallback(chunk, level + 1);\n    };\n\n    XMLDocumentCB.prototype.onEnd = function() {\n      this.documentCompleted = true;\n      return this.onEndCallback();\n    };\n\n    XMLDocumentCB.prototype.debugInfo = function(name) {\n      if (name == null) {\n        return \"\";\n      } else {\n        return \"node: <\" + name + \">\";\n      }\n    };\n\n    XMLDocumentCB.prototype.ele = function() {\n      return this.element.apply(this, arguments);\n    };\n\n    XMLDocumentCB.prototype.nod = function(name, attributes, text) {\n      return this.node(name, attributes, text);\n    };\n\n    XMLDocumentCB.prototype.txt = function(value) {\n      return this.text(value);\n    };\n\n    XMLDocumentCB.prototype.dat = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLDocumentCB.prototype.com = function(value) {\n      return this.comment(value);\n    };\n\n    XMLDocumentCB.prototype.ins = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    XMLDocumentCB.prototype.dec = function(version, encoding, standalone) {\n      return this.declaration(version, encoding, standalone);\n    };\n\n    XMLDocumentCB.prototype.dtd = function(root, pubID, sysID) {\n      return this.doctype(root, pubID, sysID);\n    };\n\n    XMLDocumentCB.prototype.e = function(name, attributes, text) {\n      return this.element(name, attributes, text);\n    };\n\n    XMLDocumentCB.prototype.n = function(name, attributes, text) {\n      return this.node(name, attributes, text);\n    };\n\n    XMLDocumentCB.prototype.t = function(value) {\n      return this.text(value);\n    };\n\n    XMLDocumentCB.prototype.d = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLDocumentCB.prototype.c = function(value) {\n      return this.comment(value);\n    };\n\n    XMLDocumentCB.prototype.r = function(value) {\n      return this.raw(value);\n    };\n\n    XMLDocumentCB.prototype.i = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    XMLDocumentCB.prototype.att = function() {\n      if (this.currentNode && this.currentNode.type === NodeType.DocType) {\n        return this.attList.apply(this, arguments);\n      } else {\n        return this.attribute.apply(this, arguments);\n      }\n    };\n\n    XMLDocumentCB.prototype.a = function() {\n      if (this.currentNode && this.currentNode.type === NodeType.DocType) {\n        return this.attList.apply(this, arguments);\n      } else {\n        return this.attribute.apply(this, arguments);\n      }\n    };\n\n    XMLDocumentCB.prototype.ent = function(name, value) {\n      return this.entity(name, value);\n    };\n\n    XMLDocumentCB.prototype.pent = function(name, value) {\n      return this.pEntity(name, value);\n    };\n\n    XMLDocumentCB.prototype.not = function(name, value) {\n      return this.notation(name, value);\n    };\n\n    return XMLDocumentCB;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDummy, XMLNode,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  module.exports = XMLDummy = (function(superClass) {\n    extend(XMLDummy, superClass);\n\n    function XMLDummy(parent) {\n      XMLDummy.__super__.constructor.call(this, parent);\n      this.type = NodeType.Dummy;\n    }\n\n    XMLDummy.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLDummy.prototype.toString = function(options) {\n      return '';\n    };\n\n    return XMLDummy;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLAttribute, XMLElement, XMLNamedNodeMap, XMLNode, getValue, isFunction, isObject, ref,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  ref = require('./Utility'), isObject = ref.isObject, isFunction = ref.isFunction, getValue = ref.getValue;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  XMLAttribute = require('./XMLAttribute');\n\n  XMLNamedNodeMap = require('./XMLNamedNodeMap');\n\n  module.exports = XMLElement = (function(superClass) {\n    extend(XMLElement, superClass);\n\n    function XMLElement(parent, name, attributes) {\n      var child, j, len, ref1;\n      XMLElement.__super__.constructor.call(this, parent);\n      if (name == null) {\n        throw new Error(\"Missing element name. \" + this.debugInfo());\n      }\n      this.name = this.stringify.name(name);\n      this.type = NodeType.Element;\n      this.attribs = {};\n      this.schemaTypeInfo = null;\n      if (attributes != null) {\n        this.attribute(attributes);\n      }\n      if (parent.type === NodeType.Document) {\n        this.isRoot = true;\n        this.documentObject = parent;\n        parent.rootObject = this;\n        if (parent.children) {\n          ref1 = parent.children;\n          for (j = 0, len = ref1.length; j < len; j++) {\n            child = ref1[j];\n            if (child.type === NodeType.DocType) {\n              child.name = this.name;\n              break;\n            }\n          }\n        }\n      }\n    }\n\n    Object.defineProperty(XMLElement.prototype, 'tagName', {\n      get: function() {\n        return this.name;\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'namespaceURI', {\n      get: function() {\n        return '';\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'prefix', {\n      get: function() {\n        return '';\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'localName', {\n      get: function() {\n        return this.name;\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'id', {\n      get: function() {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'className', {\n      get: function() {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'classList', {\n      get: function() {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'attributes', {\n      get: function() {\n        if (!this.attributeMap || !this.attributeMap.nodes) {\n          this.attributeMap = new XMLNamedNodeMap(this.attribs);\n        }\n        return this.attributeMap;\n      }\n    });\n\n    XMLElement.prototype.clone = function() {\n      var att, attName, clonedSelf, ref1;\n      clonedSelf = Object.create(this);\n      if (clonedSelf.isRoot) {\n        clonedSelf.documentObject = null;\n      }\n      clonedSelf.attribs = {};\n      ref1 = this.attribs;\n      for (attName in ref1) {\n        if (!hasProp.call(ref1, attName)) continue;\n        att = ref1[attName];\n        clonedSelf.attribs[attName] = att.clone();\n      }\n      clonedSelf.children = [];\n      this.children.forEach(function(child) {\n        var clonedChild;\n        clonedChild = child.clone();\n        clonedChild.parent = clonedSelf;\n        return clonedSelf.children.push(clonedChild);\n      });\n      return clonedSelf;\n    };\n\n    XMLElement.prototype.attribute = function(name, value) {\n      var attName, attValue;\n      if (name != null) {\n        name = getValue(name);\n      }\n      if (isObject(name)) {\n        for (attName in name) {\n          if (!hasProp.call(name, attName)) continue;\n          attValue = name[attName];\n          this.attribute(attName, attValue);\n        }\n      } else {\n        if (isFunction(value)) {\n          value = value.apply();\n        }\n        if (this.options.keepNullAttributes && (value == null)) {\n          this.attribs[name] = new XMLAttribute(this, name, \"\");\n        } else if (value != null) {\n          this.attribs[name] = new XMLAttribute(this, name, value);\n        }\n      }\n      return this;\n    };\n\n    XMLElement.prototype.removeAttribute = function(name) {\n      var attName, j, len;\n      if (name == null) {\n        throw new Error(\"Missing attribute name. \" + this.debugInfo());\n      }\n      name = getValue(name);\n      if (Array.isArray(name)) {\n        for (j = 0, len = name.length; j < len; j++) {\n          attName = name[j];\n          delete this.attribs[attName];\n        }\n      } else {\n        delete this.attribs[name];\n      }\n      return this;\n    };\n\n    XMLElement.prototype.toString = function(options) {\n      return this.options.writer.element(this, this.options.writer.filterOptions(options));\n    };\n\n    XMLElement.prototype.att = function(name, value) {\n      return this.attribute(name, value);\n    };\n\n    XMLElement.prototype.a = function(name, value) {\n      return this.attribute(name, value);\n    };\n\n    XMLElement.prototype.getAttribute = function(name) {\n      if (this.attribs.hasOwnProperty(name)) {\n        return this.attribs[name].value;\n      } else {\n        return null;\n      }\n    };\n\n    XMLElement.prototype.setAttribute = function(name, value) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getAttributeNode = function(name) {\n      if (this.attribs.hasOwnProperty(name)) {\n        return this.attribs[name];\n      } else {\n        return null;\n      }\n    };\n\n    XMLElement.prototype.setAttributeNode = function(newAttr) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.removeAttributeNode = function(oldAttr) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getElementsByTagName = function(name) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getAttributeNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.setAttributeNS = function(namespaceURI, qualifiedName, value) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.removeAttributeNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getAttributeNodeNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.setAttributeNodeNS = function(newAttr) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getElementsByTagNameNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.hasAttribute = function(name) {\n      return this.attribs.hasOwnProperty(name);\n    };\n\n    XMLElement.prototype.hasAttributeNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.setIdAttribute = function(name, isId) {\n      if (this.attribs.hasOwnProperty(name)) {\n        return this.attribs[name].isId;\n      } else {\n        return isId;\n      }\n    };\n\n    XMLElement.prototype.setIdAttributeNS = function(namespaceURI, localName, isId) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.setIdAttributeNode = function(idAttr, isId) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getElementsByTagName = function(tagname) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getElementsByTagNameNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getElementsByClassName = function(classNames) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.isEqualNode = function(node) {\n      var i, j, ref1;\n      if (!XMLElement.__super__.isEqualNode.apply(this, arguments).isEqualNode(node)) {\n        return false;\n      }\n      if (node.namespaceURI !== this.namespaceURI) {\n        return false;\n      }\n      if (node.prefix !== this.prefix) {\n        return false;\n      }\n      if (node.localName !== this.localName) {\n        return false;\n      }\n      if (node.attribs.length !== this.attribs.length) {\n        return false;\n      }\n      for (i = j = 0, ref1 = this.attribs.length - 1; 0 <= ref1 ? j <= ref1 : j >= ref1; i = 0 <= ref1 ? ++j : --j) {\n        if (!this.attribs[i].isEqualNode(node.attribs[i])) {\n          return false;\n        }\n      }\n      return true;\n    };\n\n    return XMLElement;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLNamedNodeMap;\n\n  module.exports = XMLNamedNodeMap = (function() {\n    function XMLNamedNodeMap(nodes) {\n      this.nodes = nodes;\n    }\n\n    Object.defineProperty(XMLNamedNodeMap.prototype, 'length', {\n      get: function() {\n        return Object.keys(this.nodes).length || 0;\n      }\n    });\n\n    XMLNamedNodeMap.prototype.clone = function() {\n      return this.nodes = null;\n    };\n\n    XMLNamedNodeMap.prototype.getNamedItem = function(name) {\n      return this.nodes[name];\n    };\n\n    XMLNamedNodeMap.prototype.setNamedItem = function(node) {\n      var oldNode;\n      oldNode = this.nodes[node.nodeName];\n      this.nodes[node.nodeName] = node;\n      return oldNode || null;\n    };\n\n    XMLNamedNodeMap.prototype.removeNamedItem = function(name) {\n      var oldNode;\n      oldNode = this.nodes[name];\n      delete this.nodes[name];\n      return oldNode || null;\n    };\n\n    XMLNamedNodeMap.prototype.item = function(index) {\n      return this.nodes[Object.keys(this.nodes)[index]] || null;\n    };\n\n    XMLNamedNodeMap.prototype.getNamedItemNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\");\n    };\n\n    XMLNamedNodeMap.prototype.setNamedItemNS = function(node) {\n      throw new Error(\"This DOM method is not implemented.\");\n    };\n\n    XMLNamedNodeMap.prototype.removeNamedItemNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\");\n    };\n\n    return XMLNamedNodeMap;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var DocumentPosition, NodeType, XMLCData, XMLComment, XMLDeclaration, XMLDocType, XMLDummy, XMLElement, XMLNamedNodeMap, XMLNode, XMLNodeList, XMLProcessingInstruction, XMLRaw, XMLText, getValue, isEmpty, isFunction, isObject, ref1,\n    hasProp = {}.hasOwnProperty;\n\n  ref1 = require('./Utility'), isObject = ref1.isObject, isFunction = ref1.isFunction, isEmpty = ref1.isEmpty, getValue = ref1.getValue;\n\n  XMLElement = null;\n\n  XMLCData = null;\n\n  XMLComment = null;\n\n  XMLDeclaration = null;\n\n  XMLDocType = null;\n\n  XMLRaw = null;\n\n  XMLText = null;\n\n  XMLProcessingInstruction = null;\n\n  XMLDummy = null;\n\n  NodeType = null;\n\n  XMLNodeList = null;\n\n  XMLNamedNodeMap = null;\n\n  DocumentPosition = null;\n\n  module.exports = XMLNode = (function() {\n    function XMLNode(parent1) {\n      this.parent = parent1;\n      if (this.parent) {\n        this.options = this.parent.options;\n        this.stringify = this.parent.stringify;\n      }\n      this.value = null;\n      this.children = [];\n      this.baseURI = null;\n      if (!XMLElement) {\n        XMLElement = require('./XMLElement');\n        XMLCData = require('./XMLCData');\n        XMLComment = require('./XMLComment');\n        XMLDeclaration = require('./XMLDeclaration');\n        XMLDocType = require('./XMLDocType');\n        XMLRaw = require('./XMLRaw');\n        XMLText = require('./XMLText');\n        XMLProcessingInstruction = require('./XMLProcessingInstruction');\n        XMLDummy = require('./XMLDummy');\n        NodeType = require('./NodeType');\n        XMLNodeList = require('./XMLNodeList');\n        XMLNamedNodeMap = require('./XMLNamedNodeMap');\n        DocumentPosition = require('./DocumentPosition');\n      }\n    }\n\n    Object.defineProperty(XMLNode.prototype, 'nodeName', {\n      get: function() {\n        return this.name;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'nodeType', {\n      get: function() {\n        return this.type;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'nodeValue', {\n      get: function() {\n        return this.value;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'parentNode', {\n      get: function() {\n        return this.parent;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'childNodes', {\n      get: function() {\n        if (!this.childNodeList || !this.childNodeList.nodes) {\n          this.childNodeList = new XMLNodeList(this.children);\n        }\n        return this.childNodeList;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'firstChild', {\n      get: function() {\n        return this.children[0] || null;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'lastChild', {\n      get: function() {\n        return this.children[this.children.length - 1] || null;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'previousSibling', {\n      get: function() {\n        var i;\n        i = this.parent.children.indexOf(this);\n        return this.parent.children[i - 1] || null;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'nextSibling', {\n      get: function() {\n        var i;\n        i = this.parent.children.indexOf(this);\n        return this.parent.children[i + 1] || null;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'ownerDocument', {\n      get: function() {\n        return this.document() || null;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'textContent', {\n      get: function() {\n        var child, j, len, ref2, str;\n        if (this.nodeType === NodeType.Element || this.nodeType === NodeType.DocumentFragment) {\n          str = '';\n          ref2 = this.children;\n          for (j = 0, len = ref2.length; j < len; j++) {\n            child = ref2[j];\n            if (child.textContent) {\n              str += child.textContent;\n            }\n          }\n          return str;\n        } else {\n          return null;\n        }\n      },\n      set: function(value) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n    });\n\n    XMLNode.prototype.setParent = function(parent) {\n      var child, j, len, ref2, results;\n      this.parent = parent;\n      if (parent) {\n        this.options = parent.options;\n        this.stringify = parent.stringify;\n      }\n      ref2 = this.children;\n      results = [];\n      for (j = 0, len = ref2.length; j < len; j++) {\n        child = ref2[j];\n        results.push(child.setParent(this));\n      }\n      return results;\n    };\n\n    XMLNode.prototype.element = function(name, attributes, text) {\n      var childNode, item, j, k, key, lastChild, len, len1, ref2, ref3, val;\n      lastChild = null;\n      if (attributes === null && (text == null)) {\n        ref2 = [{}, null], attributes = ref2[0], text = ref2[1];\n      }\n      if (attributes == null) {\n        attributes = {};\n      }\n      attributes = getValue(attributes);\n      if (!isObject(attributes)) {\n        ref3 = [attributes, text], text = ref3[0], attributes = ref3[1];\n      }\n      if (name != null) {\n        name = getValue(name);\n      }\n      if (Array.isArray(name)) {\n        for (j = 0, len = name.length; j < len; j++) {\n          item = name[j];\n          lastChild = this.element(item);\n        }\n      } else if (isFunction(name)) {\n        lastChild = this.element(name.apply());\n      } else if (isObject(name)) {\n        for (key in name) {\n          if (!hasProp.call(name, key)) continue;\n          val = name[key];\n          if (isFunction(val)) {\n            val = val.apply();\n          }\n          if (!this.options.ignoreDecorators && this.stringify.convertAttKey && key.indexOf(this.stringify.convertAttKey) === 0) {\n            lastChild = this.attribute(key.substr(this.stringify.convertAttKey.length), val);\n          } else if (!this.options.separateArrayItems && Array.isArray(val) && isEmpty(val)) {\n            lastChild = this.dummy();\n          } else if (isObject(val) && isEmpty(val)) {\n            lastChild = this.element(key);\n          } else if (!this.options.keepNullNodes && (val == null)) {\n            lastChild = this.dummy();\n          } else if (!this.options.separateArrayItems && Array.isArray(val)) {\n            for (k = 0, len1 = val.length; k < len1; k++) {\n              item = val[k];\n              childNode = {};\n              childNode[key] = item;\n              lastChild = this.element(childNode);\n            }\n          } else if (isObject(val)) {\n            if (!this.options.ignoreDecorators && this.stringify.convertTextKey && key.indexOf(this.stringify.convertTextKey) === 0) {\n              lastChild = this.element(val);\n            } else {\n              lastChild = this.element(key);\n              lastChild.element(val);\n            }\n          } else {\n            lastChild = this.element(key, val);\n          }\n        }\n      } else if (!this.options.keepNullNodes && text === null) {\n        lastChild = this.dummy();\n      } else {\n        if (!this.options.ignoreDecorators && this.stringify.convertTextKey && name.indexOf(this.stringify.convertTextKey) === 0) {\n          lastChild = this.text(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertCDataKey && name.indexOf(this.stringify.convertCDataKey) === 0) {\n          lastChild = this.cdata(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertCommentKey && name.indexOf(this.stringify.convertCommentKey) === 0) {\n          lastChild = this.comment(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertRawKey && name.indexOf(this.stringify.convertRawKey) === 0) {\n          lastChild = this.raw(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertPIKey && name.indexOf(this.stringify.convertPIKey) === 0) {\n          lastChild = this.instruction(name.substr(this.stringify.convertPIKey.length), text);\n        } else {\n          lastChild = this.node(name, attributes, text);\n        }\n      }\n      if (lastChild == null) {\n        throw new Error(\"Could not create any elements with: \" + name + \". \" + this.debugInfo());\n      }\n      return lastChild;\n    };\n\n    XMLNode.prototype.insertBefore = function(name, attributes, text) {\n      var child, i, newChild, refChild, removed;\n      if (name != null ? name.type : void 0) {\n        newChild = name;\n        refChild = attributes;\n        newChild.setParent(this);\n        if (refChild) {\n          i = children.indexOf(refChild);\n          removed = children.splice(i);\n          children.push(newChild);\n          Array.prototype.push.apply(children, removed);\n        } else {\n          children.push(newChild);\n        }\n        return newChild;\n      } else {\n        if (this.isRoot) {\n          throw new Error(\"Cannot insert elements at root level. \" + this.debugInfo(name));\n        }\n        i = this.parent.children.indexOf(this);\n        removed = this.parent.children.splice(i);\n        child = this.parent.element(name, attributes, text);\n        Array.prototype.push.apply(this.parent.children, removed);\n        return child;\n      }\n    };\n\n    XMLNode.prototype.insertAfter = function(name, attributes, text) {\n      var child, i, removed;\n      if (this.isRoot) {\n        throw new Error(\"Cannot insert elements at root level. \" + this.debugInfo(name));\n      }\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i + 1);\n      child = this.parent.element(name, attributes, text);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return child;\n    };\n\n    XMLNode.prototype.remove = function() {\n      var i, ref2;\n      if (this.isRoot) {\n        throw new Error(\"Cannot remove the root element. \" + this.debugInfo());\n      }\n      i = this.parent.children.indexOf(this);\n      [].splice.apply(this.parent.children, [i, i - i + 1].concat(ref2 = [])), ref2;\n      return this.parent;\n    };\n\n    XMLNode.prototype.node = function(name, attributes, text) {\n      var child, ref2;\n      if (name != null) {\n        name = getValue(name);\n      }\n      attributes || (attributes = {});\n      attributes = getValue(attributes);\n      if (!isObject(attributes)) {\n        ref2 = [attributes, text], text = ref2[0], attributes = ref2[1];\n      }\n      child = new XMLElement(this, name, attributes);\n      if (text != null) {\n        child.text(text);\n      }\n      this.children.push(child);\n      return child;\n    };\n\n    XMLNode.prototype.text = function(value) {\n      var child;\n      if (isObject(value)) {\n        this.element(value);\n      }\n      child = new XMLText(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.cdata = function(value) {\n      var child;\n      child = new XMLCData(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.comment = function(value) {\n      var child;\n      child = new XMLComment(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.commentBefore = function(value) {\n      var child, i, removed;\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i);\n      child = this.parent.comment(value);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return this;\n    };\n\n    XMLNode.prototype.commentAfter = function(value) {\n      var child, i, removed;\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i + 1);\n      child = this.parent.comment(value);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return this;\n    };\n\n    XMLNode.prototype.raw = function(value) {\n      var child;\n      child = new XMLRaw(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.dummy = function() {\n      var child;\n      child = new XMLDummy(this);\n      return child;\n    };\n\n    XMLNode.prototype.instruction = function(target, value) {\n      var insTarget, insValue, instruction, j, len;\n      if (target != null) {\n        target = getValue(target);\n      }\n      if (value != null) {\n        value = getValue(value);\n      }\n      if (Array.isArray(target)) {\n        for (j = 0, len = target.length; j < len; j++) {\n          insTarget = target[j];\n          this.instruction(insTarget);\n        }\n      } else if (isObject(target)) {\n        for (insTarget in target) {\n          if (!hasProp.call(target, insTarget)) continue;\n          insValue = target[insTarget];\n          this.instruction(insTarget, insValue);\n        }\n      } else {\n        if (isFunction(value)) {\n          value = value.apply();\n        }\n        instruction = new XMLProcessingInstruction(this, target, value);\n        this.children.push(instruction);\n      }\n      return this;\n    };\n\n    XMLNode.prototype.instructionBefore = function(target, value) {\n      var child, i, removed;\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i);\n      child = this.parent.instruction(target, value);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return this;\n    };\n\n    XMLNode.prototype.instructionAfter = function(target, value) {\n      var child, i, removed;\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i + 1);\n      child = this.parent.instruction(target, value);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return this;\n    };\n\n    XMLNode.prototype.declaration = function(version, encoding, standalone) {\n      var doc, xmldec;\n      doc = this.document();\n      xmldec = new XMLDeclaration(doc, version, encoding, standalone);\n      if (doc.children.length === 0) {\n        doc.children.unshift(xmldec);\n      } else if (doc.children[0].type === NodeType.Declaration) {\n        doc.children[0] = xmldec;\n      } else {\n        doc.children.unshift(xmldec);\n      }\n      return doc.root() || doc;\n    };\n\n    XMLNode.prototype.dtd = function(pubID, sysID) {\n      var child, doc, doctype, i, j, k, len, len1, ref2, ref3;\n      doc = this.document();\n      doctype = new XMLDocType(doc, pubID, sysID);\n      ref2 = doc.children;\n      for (i = j = 0, len = ref2.length; j < len; i = ++j) {\n        child = ref2[i];\n        if (child.type === NodeType.DocType) {\n          doc.children[i] = doctype;\n          return doctype;\n        }\n      }\n      ref3 = doc.children;\n      for (i = k = 0, len1 = ref3.length; k < len1; i = ++k) {\n        child = ref3[i];\n        if (child.isRoot) {\n          doc.children.splice(i, 0, doctype);\n          return doctype;\n        }\n      }\n      doc.children.push(doctype);\n      return doctype;\n    };\n\n    XMLNode.prototype.up = function() {\n      if (this.isRoot) {\n        throw new Error(\"The root node has no parent. Use doc() if you need to get the document object.\");\n      }\n      return this.parent;\n    };\n\n    XMLNode.prototype.root = function() {\n      var node;\n      node = this;\n      while (node) {\n        if (node.type === NodeType.Document) {\n          return node.rootObject;\n        } else if (node.isRoot) {\n          return node;\n        } else {\n          node = node.parent;\n        }\n      }\n    };\n\n    XMLNode.prototype.document = function() {\n      var node;\n      node = this;\n      while (node) {\n        if (node.type === NodeType.Document) {\n          return node;\n        } else {\n          node = node.parent;\n        }\n      }\n    };\n\n    XMLNode.prototype.end = function(options) {\n      return this.document().end(options);\n    };\n\n    XMLNode.prototype.prev = function() {\n      var i;\n      i = this.parent.children.indexOf(this);\n      if (i < 1) {\n        throw new Error(\"Already at the first node. \" + this.debugInfo());\n      }\n      return this.parent.children[i - 1];\n    };\n\n    XMLNode.prototype.next = function() {\n      var i;\n      i = this.parent.children.indexOf(this);\n      if (i === -1 || i === this.parent.children.length - 1) {\n        throw new Error(\"Already at the last node. \" + this.debugInfo());\n      }\n      return this.parent.children[i + 1];\n    };\n\n    XMLNode.prototype.importDocument = function(doc) {\n      var clonedRoot;\n      clonedRoot = doc.root().clone();\n      clonedRoot.parent = this;\n      clonedRoot.isRoot = false;\n      this.children.push(clonedRoot);\n      return this;\n    };\n\n    XMLNode.prototype.debugInfo = function(name) {\n      var ref2, ref3;\n      name = name || this.name;\n      if ((name == null) && !((ref2 = this.parent) != null ? ref2.name : void 0)) {\n        return \"\";\n      } else if (name == null) {\n        return \"parent: <\" + this.parent.name + \">\";\n      } else if (!((ref3 = this.parent) != null ? ref3.name : void 0)) {\n        return \"node: <\" + name + \">\";\n      } else {\n        return \"node: <\" + name + \">, parent: <\" + this.parent.name + \">\";\n      }\n    };\n\n    XMLNode.prototype.ele = function(name, attributes, text) {\n      return this.element(name, attributes, text);\n    };\n\n    XMLNode.prototype.nod = function(name, attributes, text) {\n      return this.node(name, attributes, text);\n    };\n\n    XMLNode.prototype.txt = function(value) {\n      return this.text(value);\n    };\n\n    XMLNode.prototype.dat = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLNode.prototype.com = function(value) {\n      return this.comment(value);\n    };\n\n    XMLNode.prototype.ins = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    XMLNode.prototype.doc = function() {\n      return this.document();\n    };\n\n    XMLNode.prototype.dec = function(version, encoding, standalone) {\n      return this.declaration(version, encoding, standalone);\n    };\n\n    XMLNode.prototype.e = function(name, attributes, text) {\n      return this.element(name, attributes, text);\n    };\n\n    XMLNode.prototype.n = function(name, attributes, text) {\n      return this.node(name, attributes, text);\n    };\n\n    XMLNode.prototype.t = function(value) {\n      return this.text(value);\n    };\n\n    XMLNode.prototype.d = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLNode.prototype.c = function(value) {\n      return this.comment(value);\n    };\n\n    XMLNode.prototype.r = function(value) {\n      return this.raw(value);\n    };\n\n    XMLNode.prototype.i = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    XMLNode.prototype.u = function() {\n      return this.up();\n    };\n\n    XMLNode.prototype.importXMLBuilder = function(doc) {\n      return this.importDocument(doc);\n    };\n\n    XMLNode.prototype.replaceChild = function(newChild, oldChild) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.removeChild = function(oldChild) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.appendChild = function(newChild) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.hasChildNodes = function() {\n      return this.children.length !== 0;\n    };\n\n    XMLNode.prototype.cloneNode = function(deep) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.normalize = function() {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.isSupported = function(feature, version) {\n      return true;\n    };\n\n    XMLNode.prototype.hasAttributes = function() {\n      return this.attribs.length !== 0;\n    };\n\n    XMLNode.prototype.compareDocumentPosition = function(other) {\n      var ref, res;\n      ref = this;\n      if (ref === other) {\n        return 0;\n      } else if (this.document() !== other.document()) {\n        res = DocumentPosition.Disconnected | DocumentPosition.ImplementationSpecific;\n        if (Math.random() < 0.5) {\n          res |= DocumentPosition.Preceding;\n        } else {\n          res |= DocumentPosition.Following;\n        }\n        return res;\n      } else if (ref.isAncestor(other)) {\n        return DocumentPosition.Contains | DocumentPosition.Preceding;\n      } else if (ref.isDescendant(other)) {\n        return DocumentPosition.Contains | DocumentPosition.Following;\n      } else if (ref.isPreceding(other)) {\n        return DocumentPosition.Preceding;\n      } else {\n        return DocumentPosition.Following;\n      }\n    };\n\n    XMLNode.prototype.isSameNode = function(other) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.lookupPrefix = function(namespaceURI) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.isDefaultNamespace = function(namespaceURI) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.lookupNamespaceURI = function(prefix) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.isEqualNode = function(node) {\n      var i, j, ref2;\n      if (node.nodeType !== this.nodeType) {\n        return false;\n      }\n      if (node.children.length !== this.children.length) {\n        return false;\n      }\n      for (i = j = 0, ref2 = this.children.length - 1; 0 <= ref2 ? j <= ref2 : j >= ref2; i = 0 <= ref2 ? ++j : --j) {\n        if (!this.children[i].isEqualNode(node.children[i])) {\n          return false;\n        }\n      }\n      return true;\n    };\n\n    XMLNode.prototype.getFeature = function(feature, version) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.setUserData = function(key, data, handler) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.getUserData = function(key) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.contains = function(other) {\n      if (!other) {\n        return false;\n      }\n      return other === this || this.isDescendant(other);\n    };\n\n    XMLNode.prototype.isDescendant = function(node) {\n      var child, isDescendantChild, j, len, ref2;\n      ref2 = this.children;\n      for (j = 0, len = ref2.length; j < len; j++) {\n        child = ref2[j];\n        if (node === child) {\n          return true;\n        }\n        isDescendantChild = child.isDescendant(node);\n        if (isDescendantChild) {\n          return true;\n        }\n      }\n      return false;\n    };\n\n    XMLNode.prototype.isAncestor = function(node) {\n      return node.isDescendant(this);\n    };\n\n    XMLNode.prototype.isPreceding = function(node) {\n      var nodePos, thisPos;\n      nodePos = this.treePosition(node);\n      thisPos = this.treePosition(this);\n      if (nodePos === -1 || thisPos === -1) {\n        return false;\n      } else {\n        return nodePos < thisPos;\n      }\n    };\n\n    XMLNode.prototype.isFollowing = function(node) {\n      var nodePos, thisPos;\n      nodePos = this.treePosition(node);\n      thisPos = this.treePosition(this);\n      if (nodePos === -1 || thisPos === -1) {\n        return false;\n      } else {\n        return nodePos > thisPos;\n      }\n    };\n\n    XMLNode.prototype.treePosition = function(node) {\n      var found, pos;\n      pos = 0;\n      found = false;\n      this.foreachTreeNode(this.document(), function(childNode) {\n        pos++;\n        if (!found && childNode === node) {\n          return found = true;\n        }\n      });\n      if (found) {\n        return pos;\n      } else {\n        return -1;\n      }\n    };\n\n    XMLNode.prototype.foreachTreeNode = function(node, func) {\n      var child, j, len, ref2, res;\n      node || (node = this.document());\n      ref2 = node.children;\n      for (j = 0, len = ref2.length; j < len; j++) {\n        child = ref2[j];\n        if (res = func(child)) {\n          return res;\n        } else {\n          res = this.foreachTreeNode(child, func);\n          if (res) {\n            return res;\n          }\n        }\n      }\n    };\n\n    return XMLNode;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLNodeList;\n\n  module.exports = XMLNodeList = (function() {\n    function XMLNodeList(nodes) {\n      this.nodes = nodes;\n    }\n\n    Object.defineProperty(XMLNodeList.prototype, 'length', {\n      get: function() {\n        return this.nodes.length || 0;\n      }\n    });\n\n    XMLNodeList.prototype.clone = function() {\n      return this.nodes = null;\n    };\n\n    XMLNodeList.prototype.item = function(index) {\n      return this.nodes[index] || null;\n    };\n\n    return XMLNodeList;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLCharacterData, XMLProcessingInstruction,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  NodeType = require('./NodeType');\n\n  XMLCharacterData = require('./XMLCharacterData');\n\n  module.exports = XMLProcessingInstruction = (function(superClass) {\n    extend(XMLProcessingInstruction, superClass);\n\n    function XMLProcessingInstruction(parent, target, value) {\n      XMLProcessingInstruction.__super__.constructor.call(this, parent);\n      if (target == null) {\n        throw new Error(\"Missing instruction target. \" + this.debugInfo());\n      }\n      this.type = NodeType.ProcessingInstruction;\n      this.target = this.stringify.insTarget(target);\n      this.name = this.target;\n      if (value) {\n        this.value = this.stringify.insValue(value);\n      }\n    }\n\n    XMLProcessingInstruction.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLProcessingInstruction.prototype.toString = function(options) {\n      return this.options.writer.processingInstruction(this, this.options.writer.filterOptions(options));\n    };\n\n    XMLProcessingInstruction.prototype.isEqualNode = function(node) {\n      if (!XMLProcessingInstruction.__super__.isEqualNode.apply(this, arguments).isEqualNode(node)) {\n        return false;\n      }\n      if (node.target !== this.target) {\n        return false;\n      }\n      return true;\n    };\n\n    return XMLProcessingInstruction;\n\n  })(XMLCharacterData);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLNode, XMLRaw,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  NodeType = require('./NodeType');\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLRaw = (function(superClass) {\n    extend(XMLRaw, superClass);\n\n    function XMLRaw(parent, text) {\n      XMLRaw.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing raw text. \" + this.debugInfo());\n      }\n      this.type = NodeType.Raw;\n      this.value = this.stringify.raw(text);\n    }\n\n    XMLRaw.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLRaw.prototype.toString = function(options) {\n      return this.options.writer.raw(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLRaw;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, WriterState, XMLStreamWriter, XMLWriterBase,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  NodeType = require('./NodeType');\n\n  XMLWriterBase = require('./XMLWriterBase');\n\n  WriterState = require('./WriterState');\n\n  module.exports = XMLStreamWriter = (function(superClass) {\n    extend(XMLStreamWriter, superClass);\n\n    function XMLStreamWriter(stream, options) {\n      this.stream = stream;\n      XMLStreamWriter.__super__.constructor.call(this, options);\n    }\n\n    XMLStreamWriter.prototype.endline = function(node, options, level) {\n      if (node.isLastRootNode && options.state === WriterState.CloseTag) {\n        return '';\n      } else {\n        return XMLStreamWriter.__super__.endline.call(this, node, options, level);\n      }\n    };\n\n    XMLStreamWriter.prototype.document = function(doc, options) {\n      var child, i, j, k, len, len1, ref, ref1, results;\n      ref = doc.children;\n      for (i = j = 0, len = ref.length; j < len; i = ++j) {\n        child = ref[i];\n        child.isLastRootNode = i === doc.children.length - 1;\n      }\n      options = this.filterOptions(options);\n      ref1 = doc.children;\n      results = [];\n      for (k = 0, len1 = ref1.length; k < len1; k++) {\n        child = ref1[k];\n        results.push(this.writeChildNode(child, options, 0));\n      }\n      return results;\n    };\n\n    XMLStreamWriter.prototype.attribute = function(att, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.attribute.call(this, att, options, level));\n    };\n\n    XMLStreamWriter.prototype.cdata = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.cdata.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.comment = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.comment.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.declaration = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.declaration.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.docType = function(node, options, level) {\n      var child, j, len, ref;\n      level || (level = 0);\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      this.stream.write(this.indent(node, options, level));\n      this.stream.write('<!DOCTYPE ' + node.root().name);\n      if (node.pubID && node.sysID) {\n        this.stream.write(' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"');\n      } else if (node.sysID) {\n        this.stream.write(' SYSTEM \"' + node.sysID + '\"');\n      }\n      if (node.children.length > 0) {\n        this.stream.write(' [');\n        this.stream.write(this.endline(node, options, level));\n        options.state = WriterState.InsideTag;\n        ref = node.children;\n        for (j = 0, len = ref.length; j < len; j++) {\n          child = ref[j];\n          this.writeChildNode(child, options, level + 1);\n        }\n        options.state = WriterState.CloseTag;\n        this.stream.write(']');\n      }\n      options.state = WriterState.CloseTag;\n      this.stream.write(options.spaceBeforeSlash + '>');\n      this.stream.write(this.endline(node, options, level));\n      options.state = WriterState.None;\n      return this.closeNode(node, options, level);\n    };\n\n    XMLStreamWriter.prototype.element = function(node, options, level) {\n      var att, child, childNodeCount, firstChildNode, j, len, name, prettySuppressed, ref, ref1;\n      level || (level = 0);\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      this.stream.write(this.indent(node, options, level) + '<' + node.name);\n      ref = node.attribs;\n      for (name in ref) {\n        if (!hasProp.call(ref, name)) continue;\n        att = ref[name];\n        this.attribute(att, options, level);\n      }\n      childNodeCount = node.children.length;\n      firstChildNode = childNodeCount === 0 ? null : node.children[0];\n      if (childNodeCount === 0 || node.children.every(function(e) {\n        return (e.type === NodeType.Text || e.type === NodeType.Raw) && e.value === '';\n      })) {\n        if (options.allowEmpty) {\n          this.stream.write('>');\n          options.state = WriterState.CloseTag;\n          this.stream.write('</' + node.name + '>');\n        } else {\n          options.state = WriterState.CloseTag;\n          this.stream.write(options.spaceBeforeSlash + '/>');\n        }\n      } else if (options.pretty && childNodeCount === 1 && (firstChildNode.type === NodeType.Text || firstChildNode.type === NodeType.Raw) && (firstChildNode.value != null)) {\n        this.stream.write('>');\n        options.state = WriterState.InsideTag;\n        options.suppressPrettyCount++;\n        prettySuppressed = true;\n        this.writeChildNode(firstChildNode, options, level + 1);\n        options.suppressPrettyCount--;\n        prettySuppressed = false;\n        options.state = WriterState.CloseTag;\n        this.stream.write('</' + node.name + '>');\n      } else {\n        this.stream.write('>' + this.endline(node, options, level));\n        options.state = WriterState.InsideTag;\n        ref1 = node.children;\n        for (j = 0, len = ref1.length; j < len; j++) {\n          child = ref1[j];\n          this.writeChildNode(child, options, level + 1);\n        }\n        options.state = WriterState.CloseTag;\n        this.stream.write(this.indent(node, options, level) + '</' + node.name + '>');\n      }\n      this.stream.write(this.endline(node, options, level));\n      options.state = WriterState.None;\n      return this.closeNode(node, options, level);\n    };\n\n    XMLStreamWriter.prototype.processingInstruction = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.processingInstruction.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.raw = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.raw.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.text = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.text.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.dtdAttList = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.dtdAttList.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.dtdElement = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.dtdElement.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.dtdEntity = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.dtdEntity.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.dtdNotation = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.dtdNotation.call(this, node, options, level));\n    };\n\n    return XMLStreamWriter;\n\n  })(XMLWriterBase);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLStringWriter, XMLWriterBase,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLWriterBase = require('./XMLWriterBase');\n\n  module.exports = XMLStringWriter = (function(superClass) {\n    extend(XMLStringWriter, superClass);\n\n    function XMLStringWriter(options) {\n      XMLStringWriter.__super__.constructor.call(this, options);\n    }\n\n    XMLStringWriter.prototype.document = function(doc, options) {\n      var child, i, len, r, ref;\n      options = this.filterOptions(options);\n      r = '';\n      ref = doc.children;\n      for (i = 0, len = ref.length; i < len; i++) {\n        child = ref[i];\n        r += this.writeChildNode(child, options, 0);\n      }\n      if (options.pretty && r.slice(-options.newline.length) === options.newline) {\n        r = r.slice(0, -options.newline.length);\n      }\n      return r;\n    };\n\n    return XMLStringWriter;\n\n  })(XMLWriterBase);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLStringifier,\n    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n    hasProp = {}.hasOwnProperty;\n\n  module.exports = XMLStringifier = (function() {\n    function XMLStringifier(options) {\n      this.assertLegalName = bind(this.assertLegalName, this);\n      this.assertLegalChar = bind(this.assertLegalChar, this);\n      var key, ref, value;\n      options || (options = {});\n      this.options = options;\n      if (!this.options.version) {\n        this.options.version = '1.0';\n      }\n      ref = options.stringify || {};\n      for (key in ref) {\n        if (!hasProp.call(ref, key)) continue;\n        value = ref[key];\n        this[key] = value;\n      }\n    }\n\n    XMLStringifier.prototype.name = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalName('' + val || '');\n    };\n\n    XMLStringifier.prototype.text = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar(this.textEscape('' + val || ''));\n    };\n\n    XMLStringifier.prototype.cdata = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      val = '' + val || '';\n      val = val.replace(']]>', ']]]]><![CDATA[>');\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.comment = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      val = '' + val || '';\n      if (val.match(/--/)) {\n        throw new Error(\"Comment text cannot contain double-hypen: \" + val);\n      }\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.raw = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.attValue = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar(this.attEscape(val = '' + val || ''));\n    };\n\n    XMLStringifier.prototype.insTarget = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.insValue = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      val = '' + val || '';\n      if (val.match(/\\?>/)) {\n        throw new Error(\"Invalid processing instruction value: \" + val);\n      }\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.xmlVersion = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      val = '' + val || '';\n      if (!val.match(/1\\.[0-9]+/)) {\n        throw new Error(\"Invalid version number: \" + val);\n      }\n      return val;\n    };\n\n    XMLStringifier.prototype.xmlEncoding = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      val = '' + val || '';\n      if (!val.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/)) {\n        throw new Error(\"Invalid encoding: \" + val);\n      }\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.xmlStandalone = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      if (val) {\n        return \"yes\";\n      } else {\n        return \"no\";\n      }\n    };\n\n    XMLStringifier.prototype.dtdPubID = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.dtdSysID = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.dtdElementValue = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.dtdAttType = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.dtdAttDefault = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.dtdEntityValue = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.dtdNData = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.convertAttKey = '@';\n\n    XMLStringifier.prototype.convertPIKey = '?';\n\n    XMLStringifier.prototype.convertTextKey = '#text';\n\n    XMLStringifier.prototype.convertCDataKey = '#cdata';\n\n    XMLStringifier.prototype.convertCommentKey = '#comment';\n\n    XMLStringifier.prototype.convertRawKey = '#raw';\n\n    XMLStringifier.prototype.assertLegalChar = function(str) {\n      var regex, res;\n      if (this.options.noValidation) {\n        return str;\n      }\n      regex = '';\n      if (this.options.version === '1.0') {\n        regex = /[\\0-\\x08\\x0B\\f\\x0E-\\x1F\\uFFFE\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]/;\n        if (res = str.match(regex)) {\n          throw new Error(\"Invalid character in string: \" + str + \" at index \" + res.index);\n        }\n      } else if (this.options.version === '1.1') {\n        regex = /[\\0\\uFFFE\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]/;\n        if (res = str.match(regex)) {\n          throw new Error(\"Invalid character in string: \" + str + \" at index \" + res.index);\n        }\n      }\n      return str;\n    };\n\n    XMLStringifier.prototype.assertLegalName = function(str) {\n      var regex;\n      if (this.options.noValidation) {\n        return str;\n      }\n      this.assertLegalChar(str);\n      regex = /^([:A-Z_a-z\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|[\\uD800-\\uDB7F][\\uDC00-\\uDFFF])([\\x2D\\.0-:A-Z_a-z\\xB7\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u037D\\u037F-\\u1FFF\\u200C\\u200D\\u203F\\u2040\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|[\\uD800-\\uDB7F][\\uDC00-\\uDFFF])*$/;\n      if (!str.match(regex)) {\n        throw new Error(\"Invalid character in name\");\n      }\n      return str;\n    };\n\n    XMLStringifier.prototype.textEscape = function(str) {\n      var ampregex;\n      if (this.options.noValidation) {\n        return str;\n      }\n      ampregex = this.options.noDoubleEncoding ? /(?!&\\S+;)&/g : /&/g;\n      return str.replace(ampregex, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\\r/g, '&#xD;');\n    };\n\n    XMLStringifier.prototype.attEscape = function(str) {\n      var ampregex;\n      if (this.options.noValidation) {\n        return str;\n      }\n      ampregex = this.options.noDoubleEncoding ? /(?!&\\S+;)&/g : /&/g;\n      return str.replace(ampregex, '&amp;').replace(/</g, '&lt;').replace(/\"/g, '&quot;').replace(/\\t/g, '&#x9;').replace(/\\n/g, '&#xA;').replace(/\\r/g, '&#xD;');\n    };\n\n    return XMLStringifier;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLCharacterData, XMLText,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  NodeType = require('./NodeType');\n\n  XMLCharacterData = require('./XMLCharacterData');\n\n  module.exports = XMLText = (function(superClass) {\n    extend(XMLText, superClass);\n\n    function XMLText(parent, text) {\n      XMLText.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing element text. \" + this.debugInfo());\n      }\n      this.name = \"#text\";\n      this.type = NodeType.Text;\n      this.value = this.stringify.text(text);\n    }\n\n    Object.defineProperty(XMLText.prototype, 'isElementContentWhitespace', {\n      get: function() {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n    });\n\n    Object.defineProperty(XMLText.prototype, 'wholeText', {\n      get: function() {\n        var next, prev, str;\n        str = '';\n        prev = this.previousSibling;\n        while (prev) {\n          str = prev.data + str;\n          prev = prev.previousSibling;\n        }\n        str += this.data;\n        next = this.nextSibling;\n        while (next) {\n          str = str + next.data;\n          next = next.nextSibling;\n        }\n        return str;\n      }\n    });\n\n    XMLText.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLText.prototype.toString = function(options) {\n      return this.options.writer.text(this, this.options.writer.filterOptions(options));\n    };\n\n    XMLText.prototype.splitText = function(offset) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLText.prototype.replaceWholeText = function(content) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    return XMLText;\n\n  })(XMLCharacterData);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, WriterState, XMLCData, XMLComment, XMLDTDAttList, XMLDTDElement, XMLDTDEntity, XMLDTDNotation, XMLDeclaration, XMLDocType, XMLDummy, XMLElement, XMLProcessingInstruction, XMLRaw, XMLText, XMLWriterBase, assign,\n    hasProp = {}.hasOwnProperty;\n\n  assign = require('./Utility').assign;\n\n  NodeType = require('./NodeType');\n\n  XMLDeclaration = require('./XMLDeclaration');\n\n  XMLDocType = require('./XMLDocType');\n\n  XMLCData = require('./XMLCData');\n\n  XMLComment = require('./XMLComment');\n\n  XMLElement = require('./XMLElement');\n\n  XMLRaw = require('./XMLRaw');\n\n  XMLText = require('./XMLText');\n\n  XMLProcessingInstruction = require('./XMLProcessingInstruction');\n\n  XMLDummy = require('./XMLDummy');\n\n  XMLDTDAttList = require('./XMLDTDAttList');\n\n  XMLDTDElement = require('./XMLDTDElement');\n\n  XMLDTDEntity = require('./XMLDTDEntity');\n\n  XMLDTDNotation = require('./XMLDTDNotation');\n\n  WriterState = require('./WriterState');\n\n  module.exports = XMLWriterBase = (function() {\n    function XMLWriterBase(options) {\n      var key, ref, value;\n      options || (options = {});\n      this.options = options;\n      ref = options.writer || {};\n      for (key in ref) {\n        if (!hasProp.call(ref, key)) continue;\n        value = ref[key];\n        this[\"_\" + key] = this[key];\n        this[key] = value;\n      }\n    }\n\n    XMLWriterBase.prototype.filterOptions = function(options) {\n      var filteredOptions, ref, ref1, ref2, ref3, ref4, ref5, ref6;\n      options || (options = {});\n      options = assign({}, this.options, options);\n      filteredOptions = {\n        writer: this\n      };\n      filteredOptions.pretty = options.pretty || false;\n      filteredOptions.allowEmpty = options.allowEmpty || false;\n      filteredOptions.indent = (ref = options.indent) != null ? ref : '  ';\n      filteredOptions.newline = (ref1 = options.newline) != null ? ref1 : '\\n';\n      filteredOptions.offset = (ref2 = options.offset) != null ? ref2 : 0;\n      filteredOptions.dontPrettyTextNodes = (ref3 = (ref4 = options.dontPrettyTextNodes) != null ? ref4 : options.dontprettytextnodes) != null ? ref3 : 0;\n      filteredOptions.spaceBeforeSlash = (ref5 = (ref6 = options.spaceBeforeSlash) != null ? ref6 : options.spacebeforeslash) != null ? ref5 : '';\n      if (filteredOptions.spaceBeforeSlash === true) {\n        filteredOptions.spaceBeforeSlash = ' ';\n      }\n      filteredOptions.suppressPrettyCount = 0;\n      filteredOptions.user = {};\n      filteredOptions.state = WriterState.None;\n      return filteredOptions;\n    };\n\n    XMLWriterBase.prototype.indent = function(node, options, level) {\n      var indentLevel;\n      if (!options.pretty || options.suppressPrettyCount) {\n        return '';\n      } else if (options.pretty) {\n        indentLevel = (level || 0) + options.offset + 1;\n        if (indentLevel > 0) {\n          return new Array(indentLevel).join(options.indent);\n        }\n      }\n      return '';\n    };\n\n    XMLWriterBase.prototype.endline = function(node, options, level) {\n      if (!options.pretty || options.suppressPrettyCount) {\n        return '';\n      } else {\n        return options.newline;\n      }\n    };\n\n    XMLWriterBase.prototype.attribute = function(att, options, level) {\n      var r;\n      this.openAttribute(att, options, level);\n      r = ' ' + att.name + '=\"' + att.value + '\"';\n      this.closeAttribute(att, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.cdata = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<![CDATA[';\n      options.state = WriterState.InsideTag;\n      r += node.value;\n      options.state = WriterState.CloseTag;\n      r += ']]>' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.comment = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<!-- ';\n      options.state = WriterState.InsideTag;\n      r += node.value;\n      options.state = WriterState.CloseTag;\n      r += ' -->' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.declaration = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<?xml';\n      options.state = WriterState.InsideTag;\n      r += ' version=\"' + node.version + '\"';\n      if (node.encoding != null) {\n        r += ' encoding=\"' + node.encoding + '\"';\n      }\n      if (node.standalone != null) {\n        r += ' standalone=\"' + node.standalone + '\"';\n      }\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '?>';\n      r += this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.docType = function(node, options, level) {\n      var child, i, len, r, ref;\n      level || (level = 0);\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level);\n      r += '<!DOCTYPE ' + node.root().name;\n      if (node.pubID && node.sysID) {\n        r += ' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"';\n      } else if (node.sysID) {\n        r += ' SYSTEM \"' + node.sysID + '\"';\n      }\n      if (node.children.length > 0) {\n        r += ' [';\n        r += this.endline(node, options, level);\n        options.state = WriterState.InsideTag;\n        ref = node.children;\n        for (i = 0, len = ref.length; i < len; i++) {\n          child = ref[i];\n          r += this.writeChildNode(child, options, level + 1);\n        }\n        options.state = WriterState.CloseTag;\n        r += ']';\n      }\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '>';\n      r += this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.element = function(node, options, level) {\n      var att, child, childNodeCount, firstChildNode, i, j, len, len1, name, prettySuppressed, r, ref, ref1, ref2;\n      level || (level = 0);\n      prettySuppressed = false;\n      r = '';\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r += this.indent(node, options, level) + '<' + node.name;\n      ref = node.attribs;\n      for (name in ref) {\n        if (!hasProp.call(ref, name)) continue;\n        att = ref[name];\n        r += this.attribute(att, options, level);\n      }\n      childNodeCount = node.children.length;\n      firstChildNode = childNodeCount === 0 ? null : node.children[0];\n      if (childNodeCount === 0 || node.children.every(function(e) {\n        return (e.type === NodeType.Text || e.type === NodeType.Raw) && e.value === '';\n      })) {\n        if (options.allowEmpty) {\n          r += '>';\n          options.state = WriterState.CloseTag;\n          r += '</' + node.name + '>' + this.endline(node, options, level);\n        } else {\n          options.state = WriterState.CloseTag;\n          r += options.spaceBeforeSlash + '/>' + this.endline(node, options, level);\n        }\n      } else if (options.pretty && childNodeCount === 1 && (firstChildNode.type === NodeType.Text || firstChildNode.type === NodeType.Raw) && (firstChildNode.value != null)) {\n        r += '>';\n        options.state = WriterState.InsideTag;\n        options.suppressPrettyCount++;\n        prettySuppressed = true;\n        r += this.writeChildNode(firstChildNode, options, level + 1);\n        options.suppressPrettyCount--;\n        prettySuppressed = false;\n        options.state = WriterState.CloseTag;\n        r += '</' + node.name + '>' + this.endline(node, options, level);\n      } else {\n        if (options.dontPrettyTextNodes) {\n          ref1 = node.children;\n          for (i = 0, len = ref1.length; i < len; i++) {\n            child = ref1[i];\n            if ((child.type === NodeType.Text || child.type === NodeType.Raw) && (child.value != null)) {\n              options.suppressPrettyCount++;\n              prettySuppressed = true;\n              break;\n            }\n          }\n        }\n        r += '>' + this.endline(node, options, level);\n        options.state = WriterState.InsideTag;\n        ref2 = node.children;\n        for (j = 0, len1 = ref2.length; j < len1; j++) {\n          child = ref2[j];\n          r += this.writeChildNode(child, options, level + 1);\n        }\n        options.state = WriterState.CloseTag;\n        r += this.indent(node, options, level) + '</' + node.name + '>';\n        if (prettySuppressed) {\n          options.suppressPrettyCount--;\n        }\n        r += this.endline(node, options, level);\n        options.state = WriterState.None;\n      }\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.writeChildNode = function(node, options, level) {\n      switch (node.type) {\n        case NodeType.CData:\n          return this.cdata(node, options, level);\n        case NodeType.Comment:\n          return this.comment(node, options, level);\n        case NodeType.Element:\n          return this.element(node, options, level);\n        case NodeType.Raw:\n          return this.raw(node, options, level);\n        case NodeType.Text:\n          return this.text(node, options, level);\n        case NodeType.ProcessingInstruction:\n          return this.processingInstruction(node, options, level);\n        case NodeType.Dummy:\n          return '';\n        case NodeType.Declaration:\n          return this.declaration(node, options, level);\n        case NodeType.DocType:\n          return this.docType(node, options, level);\n        case NodeType.AttributeDeclaration:\n          return this.dtdAttList(node, options, level);\n        case NodeType.ElementDeclaration:\n          return this.dtdElement(node, options, level);\n        case NodeType.EntityDeclaration:\n          return this.dtdEntity(node, options, level);\n        case NodeType.NotationDeclaration:\n          return this.dtdNotation(node, options, level);\n        default:\n          throw new Error(\"Unknown XML node type: \" + node.constructor.name);\n      }\n    };\n\n    XMLWriterBase.prototype.processingInstruction = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<?';\n      options.state = WriterState.InsideTag;\n      r += node.target;\n      if (node.value) {\n        r += ' ' + node.value;\n      }\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '?>';\n      r += this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.raw = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level);\n      options.state = WriterState.InsideTag;\n      r += node.value;\n      options.state = WriterState.CloseTag;\n      r += this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.text = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level);\n      options.state = WriterState.InsideTag;\n      r += node.value;\n      options.state = WriterState.CloseTag;\n      r += this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.dtdAttList = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<!ATTLIST';\n      options.state = WriterState.InsideTag;\n      r += ' ' + node.elementName + ' ' + node.attributeName + ' ' + node.attributeType;\n      if (node.defaultValueType !== '#DEFAULT') {\n        r += ' ' + node.defaultValueType;\n      }\n      if (node.defaultValue) {\n        r += ' \"' + node.defaultValue + '\"';\n      }\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '>' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.dtdElement = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<!ELEMENT';\n      options.state = WriterState.InsideTag;\n      r += ' ' + node.name + ' ' + node.value;\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '>' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.dtdEntity = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<!ENTITY';\n      options.state = WriterState.InsideTag;\n      if (node.pe) {\n        r += ' %';\n      }\n      r += ' ' + node.name;\n      if (node.value) {\n        r += ' \"' + node.value + '\"';\n      } else {\n        if (node.pubID && node.sysID) {\n          r += ' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"';\n        } else if (node.sysID) {\n          r += ' SYSTEM \"' + node.sysID + '\"';\n        }\n        if (node.nData) {\n          r += ' NDATA ' + node.nData;\n        }\n      }\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '>' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.dtdNotation = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<!NOTATION';\n      options.state = WriterState.InsideTag;\n      r += ' ' + node.name;\n      if (node.pubID && node.sysID) {\n        r += ' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"';\n      } else if (node.pubID) {\n        r += ' PUBLIC \"' + node.pubID + '\"';\n      } else if (node.sysID) {\n        r += ' SYSTEM \"' + node.sysID + '\"';\n      }\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '>' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.openNode = function(node, options, level) {};\n\n    XMLWriterBase.prototype.closeNode = function(node, options, level) {};\n\n    XMLWriterBase.prototype.openAttribute = function(att, options, level) {};\n\n    XMLWriterBase.prototype.closeAttribute = function(att, options, level) {};\n\n    return XMLWriterBase;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, WriterState, XMLDOMImplementation, XMLDocument, XMLDocumentCB, XMLStreamWriter, XMLStringWriter, assign, isFunction, ref;\n\n  ref = require('./Utility'), assign = ref.assign, isFunction = ref.isFunction;\n\n  XMLDOMImplementation = require('./XMLDOMImplementation');\n\n  XMLDocument = require('./XMLDocument');\n\n  XMLDocumentCB = require('./XMLDocumentCB');\n\n  XMLStringWriter = require('./XMLStringWriter');\n\n  XMLStreamWriter = require('./XMLStreamWriter');\n\n  NodeType = require('./NodeType');\n\n  WriterState = require('./WriterState');\n\n  module.exports.create = function(name, xmldec, doctype, options) {\n    var doc, root;\n    if (name == null) {\n      throw new Error(\"Root element needs a name.\");\n    }\n    options = assign({}, xmldec, doctype, options);\n    doc = new XMLDocument(options);\n    root = doc.element(name);\n    if (!options.headless) {\n      doc.declaration(options);\n      if ((options.pubID != null) || (options.sysID != null)) {\n        doc.dtd(options);\n      }\n    }\n    return root;\n  };\n\n  module.exports.begin = function(options, onData, onEnd) {\n    var ref1;\n    if (isFunction(options)) {\n      ref1 = [options, onData], onData = ref1[0], onEnd = ref1[1];\n      options = {};\n    }\n    if (onData) {\n      return new XMLDocumentCB(options, onData, onEnd);\n    } else {\n      return new XMLDocument(options);\n    }\n  };\n\n  module.exports.stringWriter = function(options) {\n    return new XMLStringWriter(options);\n  };\n\n  module.exports.streamWriter = function(stream, options) {\n    return new XMLStreamWriter(stream, options);\n  };\n\n  module.exports.implementation = new XMLDOMImplementation();\n\n  module.exports.nodeType = NodeType;\n\n  module.exports.writerState = WriterState;\n\n}).call(this);\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.slice(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","/**\n * Detect Electron renderer / nwjs process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process === 'undefined' || process.type === 'renderer' || process.browser === true || process.__nwjs) {\n\tmodule.exports = require('./browser.js');\n} else {\n\tmodule.exports = require('./node.js');\n}\n","/**\n * Module dependencies.\n */\n\nconst tty = require('tty');\nconst util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n */\n\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.destroy = util.deprecate(\n\t() => {},\n\t'Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.'\n);\n\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\ntry {\n\t// Optional dependency (as in, doesn't need to be installed, NOT like optionalDependencies in package.json)\n\t// eslint-disable-next-line import/no-extraneous-dependencies\n\tconst supportsColor = require('supports-color');\n\n\tif (supportsColor && (supportsColor.stderr || supportsColor).level >= 2) {\n\t\texports.colors = [\n\t\t\t20,\n\t\t\t21,\n\t\t\t26,\n\t\t\t27,\n\t\t\t32,\n\t\t\t33,\n\t\t\t38,\n\t\t\t39,\n\t\t\t40,\n\t\t\t41,\n\t\t\t42,\n\t\t\t43,\n\t\t\t44,\n\t\t\t45,\n\t\t\t56,\n\t\t\t57,\n\t\t\t62,\n\t\t\t63,\n\t\t\t68,\n\t\t\t69,\n\t\t\t74,\n\t\t\t75,\n\t\t\t76,\n\t\t\t77,\n\t\t\t78,\n\t\t\t79,\n\t\t\t80,\n\t\t\t81,\n\t\t\t92,\n\t\t\t93,\n\t\t\t98,\n\t\t\t99,\n\t\t\t112,\n\t\t\t113,\n\t\t\t128,\n\t\t\t129,\n\t\t\t134,\n\t\t\t135,\n\t\t\t148,\n\t\t\t149,\n\t\t\t160,\n\t\t\t161,\n\t\t\t162,\n\t\t\t163,\n\t\t\t164,\n\t\t\t165,\n\t\t\t166,\n\t\t\t167,\n\t\t\t168,\n\t\t\t169,\n\t\t\t170,\n\t\t\t171,\n\t\t\t172,\n\t\t\t173,\n\t\t\t178,\n\t\t\t179,\n\t\t\t184,\n\t\t\t185,\n\t\t\t196,\n\t\t\t197,\n\t\t\t198,\n\t\t\t199,\n\t\t\t200,\n\t\t\t201,\n\t\t\t202,\n\t\t\t203,\n\t\t\t204,\n\t\t\t205,\n\t\t\t206,\n\t\t\t207,\n\t\t\t208,\n\t\t\t209,\n\t\t\t214,\n\t\t\t215,\n\t\t\t220,\n\t\t\t221\n\t\t];\n\t}\n} catch (error) {\n\t// Swallow - we only care if `supports-color` is available; it doesn't have to be.\n}\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(key => {\n\treturn /^debug_/i.test(key);\n}).reduce((obj, key) => {\n\t// Camel-case\n\tconst prop = key\n\t\t.substring(6)\n\t\t.toLowerCase()\n\t\t.replace(/_([a-z])/g, (_, k) => {\n\t\t\treturn k.toUpperCase();\n\t\t});\n\n\t// Coerce string value into JS value\n\tlet val = process.env[key];\n\tif (/^(yes|on|true|enabled)$/i.test(val)) {\n\t\tval = true;\n\t} else if (/^(no|off|false|disabled)$/i.test(val)) {\n\t\tval = false;\n\t} else if (val === 'null') {\n\t\tval = null;\n\t} else {\n\t\tval = Number(val);\n\t}\n\n\tobj[prop] = val;\n\treturn obj;\n}, {});\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n\treturn 'colors' in exports.inspectOpts ?\n\t\tBoolean(exports.inspectOpts.colors) :\n\t\ttty.isatty(process.stderr.fd);\n}\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\tconst {namespace: name, useColors} = this;\n\n\tif (useColors) {\n\t\tconst c = this.color;\n\t\tconst colorCode = '\\u001B[3' + (c < 8 ? c : '8;5;' + c);\n\t\tconst prefix = `  ${colorCode};1m${name} \\u001B[0m`;\n\n\t\targs[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n\t\targs.push(colorCode + 'm+' + module.exports.humanize(this.diff) + '\\u001B[0m');\n\t} else {\n\t\targs[0] = getDate() + name + ' ' + args[0];\n\t}\n}\n\nfunction getDate() {\n\tif (exports.inspectOpts.hideDate) {\n\t\treturn '';\n\t}\n\treturn new Date().toISOString() + ' ';\n}\n\n/**\n * Invokes `util.format()` with the specified arguments and writes to stderr.\n */\n\nfunction log(...args) {\n\treturn process.stderr.write(util.format(...args) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\tif (namespaces) {\n\t\tprocess.env.DEBUG = namespaces;\n\t} else {\n\t\t// If you set a process.env field to null or undefined, it gets cast to the\n\t\t// string 'null' or 'undefined'. Just delete instead.\n\t\tdelete process.env.DEBUG;\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n\treturn process.env.DEBUG;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init(debug) {\n\tdebug.inspectOpts = {};\n\n\tconst keys = Object.keys(exports.inspectOpts);\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tdebug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nformatters.o = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts)\n\t\t.split('\\n')\n\t\t.map(str => str.trim())\n\t\t.join(' ');\n};\n\n/**\n * Map %O to `util.inspect()`, allowing multiple lines if needed.\n */\n\nformatters.O = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts);\n};\n","var debug;\n\nmodule.exports = function () {\n  if (!debug) {\n    try {\n      /* eslint global-require: off */\n      debug = require(\"debug\")(\"follow-redirects\");\n    }\n    catch (error) { /* */ }\n    if (typeof debug !== \"function\") {\n      debug = function () { /* */ };\n    }\n  }\n  debug.apply(null, arguments);\n};\n","var url = require(\"url\");\nvar URL = url.URL;\nvar http = require(\"http\");\nvar https = require(\"https\");\nvar Writable = require(\"stream\").Writable;\nvar assert = require(\"assert\");\nvar debug = require(\"./debug\");\n\n// Preventive platform detection\n// istanbul ignore next\n(function detectUnsupportedEnvironment() {\n  var looksLikeNode = typeof process !== \"undefined\";\n  var looksLikeBrowser = typeof window !== \"undefined\" && typeof document !== \"undefined\";\n  var looksLikeV8 = isFunction(Error.captureStackTrace);\n  if (!looksLikeNode && (looksLikeBrowser || !looksLikeV8)) {\n    console.warn(\"The follow-redirects package should be excluded from browser builds.\");\n  }\n}());\n\n// Whether to use the native URL object or the legacy url module\nvar useNativeURL = false;\ntry {\n  assert(new URL(\"\"));\n}\ncatch (error) {\n  useNativeURL = error.code === \"ERR_INVALID_URL\";\n}\n\n// URL fields to preserve in copy operations\nvar preservedUrlFields = [\n  \"auth\",\n  \"host\",\n  \"hostname\",\n  \"href\",\n  \"path\",\n  \"pathname\",\n  \"port\",\n  \"protocol\",\n  \"query\",\n  \"search\",\n  \"hash\",\n];\n\n// Create handlers that pass events from native requests\nvar events = [\"abort\", \"aborted\", \"connect\", \"error\", \"socket\", \"timeout\"];\nvar eventHandlers = Object.create(null);\nevents.forEach(function (event) {\n  eventHandlers[event] = function (arg1, arg2, arg3) {\n    this._redirectable.emit(event, arg1, arg2, arg3);\n  };\n});\n\n// Error types with codes\nvar InvalidUrlError = createErrorType(\n  \"ERR_INVALID_URL\",\n  \"Invalid URL\",\n  TypeError\n);\nvar RedirectionError = createErrorType(\n  \"ERR_FR_REDIRECTION_FAILURE\",\n  \"Redirected request failed\"\n);\nvar TooManyRedirectsError = createErrorType(\n  \"ERR_FR_TOO_MANY_REDIRECTS\",\n  \"Maximum number of redirects exceeded\",\n  RedirectionError\n);\nvar MaxBodyLengthExceededError = createErrorType(\n  \"ERR_FR_MAX_BODY_LENGTH_EXCEEDED\",\n  \"Request body larger than maxBodyLength limit\"\n);\nvar WriteAfterEndError = createErrorType(\n  \"ERR_STREAM_WRITE_AFTER_END\",\n  \"write after end\"\n);\n\n// istanbul ignore next\nvar destroy = Writable.prototype.destroy || noop;\n\n// An HTTP(S) request that can be redirected\nfunction RedirectableRequest(options, responseCallback) {\n  // Initialize the request\n  Writable.call(this);\n  this._sanitizeOptions(options);\n  this._options = options;\n  this._ended = false;\n  this._ending = false;\n  this._redirectCount = 0;\n  this._redirects = [];\n  this._requestBodyLength = 0;\n  this._requestBodyBuffers = [];\n\n  // Attach a callback if passed\n  if (responseCallback) {\n    this.on(\"response\", responseCallback);\n  }\n\n  // React to responses of native requests\n  var self = this;\n  this._onNativeResponse = function (response) {\n    try {\n      self._processResponse(response);\n    }\n    catch (cause) {\n      self.emit(\"error\", cause instanceof RedirectionError ?\n        cause : new RedirectionError({ cause: cause }));\n    }\n  };\n\n  // Perform the first request\n  this._performRequest();\n}\nRedirectableRequest.prototype = Object.create(Writable.prototype);\n\nRedirectableRequest.prototype.abort = function () {\n  destroyRequest(this._currentRequest);\n  this._currentRequest.abort();\n  this.emit(\"abort\");\n};\n\nRedirectableRequest.prototype.destroy = function (error) {\n  destroyRequest(this._currentRequest, error);\n  destroy.call(this, error);\n  return this;\n};\n\n// Writes buffered data to the current native request\nRedirectableRequest.prototype.write = function (data, encoding, callback) {\n  // Writing is not allowed if end has been called\n  if (this._ending) {\n    throw new WriteAfterEndError();\n  }\n\n  // Validate input and shift parameters if necessary\n  if (!isString(data) && !isBuffer(data)) {\n    throw new TypeError(\"data should be a string, Buffer or Uint8Array\");\n  }\n  if (isFunction(encoding)) {\n    callback = encoding;\n    encoding = null;\n  }\n\n  // Ignore empty buffers, since writing them doesn't invoke the callback\n  // https://github.com/nodejs/node/issues/22066\n  if (data.length === 0) {\n    if (callback) {\n      callback();\n    }\n    return;\n  }\n  // Only write when we don't exceed the maximum body length\n  if (this._requestBodyLength + data.length <= this._options.maxBodyLength) {\n    this._requestBodyLength += data.length;\n    this._requestBodyBuffers.push({ data: data, encoding: encoding });\n    this._currentRequest.write(data, encoding, callback);\n  }\n  // Error when we exceed the maximum body length\n  else {\n    this.emit(\"error\", new MaxBodyLengthExceededError());\n    this.abort();\n  }\n};\n\n// Ends the current native request\nRedirectableRequest.prototype.end = function (data, encoding, callback) {\n  // Shift parameters if necessary\n  if (isFunction(data)) {\n    callback = data;\n    data = encoding = null;\n  }\n  else if (isFunction(encoding)) {\n    callback = encoding;\n    encoding = null;\n  }\n\n  // Write data if needed and end\n  if (!data) {\n    this._ended = this._ending = true;\n    this._currentRequest.end(null, null, callback);\n  }\n  else {\n    var self = this;\n    var currentRequest = this._currentRequest;\n    this.write(data, encoding, function () {\n      self._ended = true;\n      currentRequest.end(null, null, callback);\n    });\n    this._ending = true;\n  }\n};\n\n// Sets a header value on the current native request\nRedirectableRequest.prototype.setHeader = function (name, value) {\n  this._options.headers[name] = value;\n  this._currentRequest.setHeader(name, value);\n};\n\n// Clears a header value on the current native request\nRedirectableRequest.prototype.removeHeader = function (name) {\n  delete this._options.headers[name];\n  this._currentRequest.removeHeader(name);\n};\n\n// Global timeout for all underlying requests\nRedirectableRequest.prototype.setTimeout = function (msecs, callback) {\n  var self = this;\n\n  // Destroys the socket on timeout\n  function destroyOnTimeout(socket) {\n    socket.setTimeout(msecs);\n    socket.removeListener(\"timeout\", socket.destroy);\n    socket.addListener(\"timeout\", socket.destroy);\n  }\n\n  // Sets up a timer to trigger a timeout event\n  function startTimer(socket) {\n    if (self._timeout) {\n      clearTimeout(self._timeout);\n    }\n    self._timeout = setTimeout(function () {\n      self.emit(\"timeout\");\n      clearTimer();\n    }, msecs);\n    destroyOnTimeout(socket);\n  }\n\n  // Stops a timeout from triggering\n  function clearTimer() {\n    // Clear the timeout\n    if (self._timeout) {\n      clearTimeout(self._timeout);\n      self._timeout = null;\n    }\n\n    // Clean up all attached listeners\n    self.removeListener(\"abort\", clearTimer);\n    self.removeListener(\"error\", clearTimer);\n    self.removeListener(\"response\", clearTimer);\n    self.removeListener(\"close\", clearTimer);\n    if (callback) {\n      self.removeListener(\"timeout\", callback);\n    }\n    if (!self.socket) {\n      self._currentRequest.removeListener(\"socket\", startTimer);\n    }\n  }\n\n  // Attach callback if passed\n  if (callback) {\n    this.on(\"timeout\", callback);\n  }\n\n  // Start the timer if or when the socket is opened\n  if (this.socket) {\n    startTimer(this.socket);\n  }\n  else {\n    this._currentRequest.once(\"socket\", startTimer);\n  }\n\n  // Clean up on events\n  this.on(\"socket\", destroyOnTimeout);\n  this.on(\"abort\", clearTimer);\n  this.on(\"error\", clearTimer);\n  this.on(\"response\", clearTimer);\n  this.on(\"close\", clearTimer);\n\n  return this;\n};\n\n// Proxy all other public ClientRequest methods\n[\n  \"flushHeaders\", \"getHeader\",\n  \"setNoDelay\", \"setSocketKeepAlive\",\n].forEach(function (method) {\n  RedirectableRequest.prototype[method] = function (a, b) {\n    return this._currentRequest[method](a, b);\n  };\n});\n\n// Proxy all public ClientRequest properties\n[\"aborted\", \"connection\", \"socket\"].forEach(function (property) {\n  Object.defineProperty(RedirectableRequest.prototype, property, {\n    get: function () { return this._currentRequest[property]; },\n  });\n});\n\nRedirectableRequest.prototype._sanitizeOptions = function (options) {\n  // Ensure headers are always present\n  if (!options.headers) {\n    options.headers = {};\n  }\n\n  // Since http.request treats host as an alias of hostname,\n  // but the url module interprets host as hostname plus port,\n  // eliminate the host property to avoid confusion.\n  if (options.host) {\n    // Use hostname if set, because it has precedence\n    if (!options.hostname) {\n      options.hostname = options.host;\n    }\n    delete options.host;\n  }\n\n  // Complete the URL object when necessary\n  if (!options.pathname && options.path) {\n    var searchPos = options.path.indexOf(\"?\");\n    if (searchPos < 0) {\n      options.pathname = options.path;\n    }\n    else {\n      options.pathname = options.path.substring(0, searchPos);\n      options.search = options.path.substring(searchPos);\n    }\n  }\n};\n\n\n// Executes the next native request (initial or redirect)\nRedirectableRequest.prototype._performRequest = function () {\n  // Load the native protocol\n  var protocol = this._options.protocol;\n  var nativeProtocol = this._options.nativeProtocols[protocol];\n  if (!nativeProtocol) {\n    throw new TypeError(\"Unsupported protocol \" + protocol);\n  }\n\n  // If specified, use the agent corresponding to the protocol\n  // (HTTP and HTTPS use different types of agents)\n  if (this._options.agents) {\n    var scheme = protocol.slice(0, -1);\n    this._options.agent = this._options.agents[scheme];\n  }\n\n  // Create the native request and set up its event handlers\n  var request = this._currentRequest =\n        nativeProtocol.request(this._options, this._onNativeResponse);\n  request._redirectable = this;\n  for (var event of events) {\n    request.on(event, eventHandlers[event]);\n  }\n\n  // RFC72305.3.1: When making a request directly to an origin server, []\n  // a client MUST send only the absolute path [] as the request-target.\n  this._currentUrl = /^\\//.test(this._options.path) ?\n    url.format(this._options) :\n    // When making a request to a proxy, []\n    // a client MUST send the target URI in absolute-form [].\n    this._options.path;\n\n  // End a redirected request\n  // (The first request must be ended explicitly with RedirectableRequest#end)\n  if (this._isRedirect) {\n    // Write the request entity and end\n    var i = 0;\n    var self = this;\n    var buffers = this._requestBodyBuffers;\n    (function writeNext(error) {\n      // Only write if this request has not been redirected yet\n      // istanbul ignore else\n      if (request === self._currentRequest) {\n        // Report any write errors\n        // istanbul ignore if\n        if (error) {\n          self.emit(\"error\", error);\n        }\n        // Write the next buffer if there are still left\n        else if (i < buffers.length) {\n          var buffer = buffers[i++];\n          // istanbul ignore else\n          if (!request.finished) {\n            request.write(buffer.data, buffer.encoding, writeNext);\n          }\n        }\n        // End the request if `end` has been called on us\n        else if (self._ended) {\n          request.end();\n        }\n      }\n    }());\n  }\n};\n\n// Processes a response from the current native request\nRedirectableRequest.prototype._processResponse = function (response) {\n  // Store the redirected response\n  var statusCode = response.statusCode;\n  if (this._options.trackRedirects) {\n    this._redirects.push({\n      url: this._currentUrl,\n      headers: response.headers,\n      statusCode: statusCode,\n    });\n  }\n\n  // RFC72316.4: The 3xx (Redirection) class of status code indicates\n  // that further action needs to be taken by the user agent in order to\n  // fulfill the request. If a Location header field is provided,\n  // the user agent MAY automatically redirect its request to the URI\n  // referenced by the Location field value,\n  // even if the specific status code is not understood.\n\n  // If the response is not a redirect; return it as-is\n  var location = response.headers.location;\n  if (!location || this._options.followRedirects === false ||\n      statusCode < 300 || statusCode >= 400) {\n    response.responseUrl = this._currentUrl;\n    response.redirects = this._redirects;\n    this.emit(\"response\", response);\n\n    // Clean up\n    this._requestBodyBuffers = [];\n    return;\n  }\n\n  // The response is a redirect, so abort the current request\n  destroyRequest(this._currentRequest);\n  // Discard the remainder of the response to avoid waiting for data\n  response.destroy();\n\n  // RFC72316.4: A client SHOULD detect and intervene\n  // in cyclical redirections (i.e., \"infinite\" redirection loops).\n  if (++this._redirectCount > this._options.maxRedirects) {\n    throw new TooManyRedirectsError();\n  }\n\n  // Store the request headers if applicable\n  var requestHeaders;\n  var beforeRedirect = this._options.beforeRedirect;\n  if (beforeRedirect) {\n    requestHeaders = Object.assign({\n      // The Host header was set by nativeProtocol.request\n      Host: response.req.getHeader(\"host\"),\n    }, this._options.headers);\n  }\n\n  // RFC72316.4: Automatic redirection needs to done with\n  // care for methods not known to be safe, []\n  // RFC72316.4.23: For historical reasons, a user agent MAY change\n  // the request method from POST to GET for the subsequent request.\n  var method = this._options.method;\n  if ((statusCode === 301 || statusCode === 302) && this._options.method === \"POST\" ||\n      // RFC72316.4.4: The 303 (See Other) status code indicates that\n      // the server is redirecting the user agent to a different resource []\n      // A user agent can perform a retrieval request targeting that URI\n      // (a GET or HEAD request if using HTTP) []\n      (statusCode === 303) && !/^(?:GET|HEAD)$/.test(this._options.method)) {\n    this._options.method = \"GET\";\n    // Drop a possible entity and headers related to it\n    this._requestBodyBuffers = [];\n    removeMatchingHeaders(/^content-/i, this._options.headers);\n  }\n\n  // Drop the Host header, as the redirect might lead to a different host\n  var currentHostHeader = removeMatchingHeaders(/^host$/i, this._options.headers);\n\n  // If the redirect is relative, carry over the host of the last request\n  var currentUrlParts = parseUrl(this._currentUrl);\n  var currentHost = currentHostHeader || currentUrlParts.host;\n  var currentUrl = /^\\w+:/.test(location) ? this._currentUrl :\n    url.format(Object.assign(currentUrlParts, { host: currentHost }));\n\n  // Create the redirected request\n  var redirectUrl = resolveUrl(location, currentUrl);\n  debug(\"redirecting to\", redirectUrl.href);\n  this._isRedirect = true;\n  spreadUrlObject(redirectUrl, this._options);\n\n  // Drop confidential headers when redirecting to a less secure protocol\n  // or to a different domain that is not a superdomain\n  if (redirectUrl.protocol !== currentUrlParts.protocol &&\n     redirectUrl.protocol !== \"https:\" ||\n     redirectUrl.host !== currentHost &&\n     !isSubdomain(redirectUrl.host, currentHost)) {\n    removeMatchingHeaders(/^(?:(?:proxy-)?authorization|cookie)$/i, this._options.headers);\n  }\n\n  // Evaluate the beforeRedirect callback\n  if (isFunction(beforeRedirect)) {\n    var responseDetails = {\n      headers: response.headers,\n      statusCode: statusCode,\n    };\n    var requestDetails = {\n      url: currentUrl,\n      method: method,\n      headers: requestHeaders,\n    };\n    beforeRedirect(this._options, responseDetails, requestDetails);\n    this._sanitizeOptions(this._options);\n  }\n\n  // Perform the redirected request\n  this._performRequest();\n};\n\n// Wraps the key/value object of protocols with redirect functionality\nfunction wrap(protocols) {\n  // Default settings\n  var exports = {\n    maxRedirects: 21,\n    maxBodyLength: 10 * 1024 * 1024,\n  };\n\n  // Wrap each protocol\n  var nativeProtocols = {};\n  Object.keys(protocols).forEach(function (scheme) {\n    var protocol = scheme + \":\";\n    var nativeProtocol = nativeProtocols[protocol] = protocols[scheme];\n    var wrappedProtocol = exports[scheme] = Object.create(nativeProtocol);\n\n    // Executes a request, following redirects\n    function request(input, options, callback) {\n      // Parse parameters, ensuring that input is an object\n      if (isURL(input)) {\n        input = spreadUrlObject(input);\n      }\n      else if (isString(input)) {\n        input = spreadUrlObject(parseUrl(input));\n      }\n      else {\n        callback = options;\n        options = validateUrl(input);\n        input = { protocol: protocol };\n      }\n      if (isFunction(options)) {\n        callback = options;\n        options = null;\n      }\n\n      // Set defaults\n      options = Object.assign({\n        maxRedirects: exports.maxRedirects,\n        maxBodyLength: exports.maxBodyLength,\n      }, input, options);\n      options.nativeProtocols = nativeProtocols;\n      if (!isString(options.host) && !isString(options.hostname)) {\n        options.hostname = \"::1\";\n      }\n\n      assert.equal(options.protocol, protocol, \"protocol mismatch\");\n      debug(\"options\", options);\n      return new RedirectableRequest(options, callback);\n    }\n\n    // Executes a GET request, following redirects\n    function get(input, options, callback) {\n      var wrappedRequest = wrappedProtocol.request(input, options, callback);\n      wrappedRequest.end();\n      return wrappedRequest;\n    }\n\n    // Expose the properties on the wrapped protocol\n    Object.defineProperties(wrappedProtocol, {\n      request: { value: request, configurable: true, enumerable: true, writable: true },\n      get: { value: get, configurable: true, enumerable: true, writable: true },\n    });\n  });\n  return exports;\n}\n\nfunction noop() { /* empty */ }\n\nfunction parseUrl(input) {\n  var parsed;\n  // istanbul ignore else\n  if (useNativeURL) {\n    parsed = new URL(input);\n  }\n  else {\n    // Ensure the URL is valid and absolute\n    parsed = validateUrl(url.parse(input));\n    if (!isString(parsed.protocol)) {\n      throw new InvalidUrlError({ input });\n    }\n  }\n  return parsed;\n}\n\nfunction resolveUrl(relative, base) {\n  // istanbul ignore next\n  return useNativeURL ? new URL(relative, base) : parseUrl(url.resolve(base, relative));\n}\n\nfunction validateUrl(input) {\n  if (/^\\[/.test(input.hostname) && !/^\\[[:0-9a-f]+\\]$/i.test(input.hostname)) {\n    throw new InvalidUrlError({ input: input.href || input });\n  }\n  if (/^\\[/.test(input.host) && !/^\\[[:0-9a-f]+\\](:\\d+)?$/i.test(input.host)) {\n    throw new InvalidUrlError({ input: input.href || input });\n  }\n  return input;\n}\n\nfunction spreadUrlObject(urlObject, target) {\n  var spread = target || {};\n  for (var key of preservedUrlFields) {\n    spread[key] = urlObject[key];\n  }\n\n  // Fix IPv6 hostname\n  if (spread.hostname.startsWith(\"[\")) {\n    spread.hostname = spread.hostname.slice(1, -1);\n  }\n  // Ensure port is a number\n  if (spread.port !== \"\") {\n    spread.port = Number(spread.port);\n  }\n  // Concatenate path\n  spread.path = spread.search ? spread.pathname + spread.search : spread.pathname;\n\n  return spread;\n}\n\nfunction removeMatchingHeaders(regex, headers) {\n  var lastValue;\n  for (var header in headers) {\n    if (regex.test(header)) {\n      lastValue = headers[header];\n      delete headers[header];\n    }\n  }\n  return (lastValue === null || typeof lastValue === \"undefined\") ?\n    undefined : String(lastValue).trim();\n}\n\nfunction createErrorType(code, message, baseClass) {\n  // Create constructor\n  function CustomError(properties) {\n    // istanbul ignore else\n    if (isFunction(Error.captureStackTrace)) {\n      Error.captureStackTrace(this, this.constructor);\n    }\n    Object.assign(this, properties || {});\n    this.code = code;\n    this.message = this.cause ? message + \": \" + this.cause.message : message;\n  }\n\n  // Attach constructor and set default properties\n  CustomError.prototype = new (baseClass || Error)();\n  Object.defineProperties(CustomError.prototype, {\n    constructor: {\n      value: CustomError,\n      enumerable: false,\n    },\n    name: {\n      value: \"Error [\" + code + \"]\",\n      enumerable: false,\n    },\n  });\n  return CustomError;\n}\n\nfunction destroyRequest(request, error) {\n  for (var event of events) {\n    request.removeListener(event, eventHandlers[event]);\n  }\n  request.on(\"error\", noop);\n  request.destroy(error);\n}\n\nfunction isSubdomain(subdomain, domain) {\n  assert(isString(subdomain) && isString(domain));\n  var dot = subdomain.length - domain.length - 1;\n  return dot > 0 && subdomain[dot] === \".\" && subdomain.endsWith(domain);\n}\n\nfunction isString(value) {\n  return typeof value === \"string\" || value instanceof String;\n}\n\nfunction isFunction(value) {\n  return typeof value === \"function\";\n}\n\nfunction isBuffer(value) {\n  return typeof value === \"object\" && (\"length\" in value);\n}\n\nfunction isURL(value) {\n  return URL && value instanceof URL;\n}\n\n// Exports\nmodule.exports = wrap({ http: http, https: https });\nmodule.exports.wrap = wrap;\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","module.exports = require(\"assert\");","module.exports = require(\"events\");","module.exports = require(\"http\");","module.exports = require(\"https\");","module.exports = require(\"module\");","module.exports = require(\"stream\");","module.exports = require(\"string_decoder\");","module.exports = require(\"timers\");","module.exports = require(\"tty\");","module.exports = require(\"url\");","module.exports = require(\"util\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"os\");","import os from 'os';\n/**\n * A YError class able to contain some params and\n *  print better stack traces\n * @extends Error\n */\nclass YError extends Error {\n    code;\n    params;\n    wrappedErrors;\n    constructor(wrappedErrors, errorCode, ...params) {\n        // Detecting if wrappedErrors are passed\n        if (!(wrappedErrors instanceof Array)) {\n            params = ('undefined' === typeof errorCode ? [] : [errorCode]).concat(params);\n            errorCode = wrappedErrors;\n            wrappedErrors = [];\n        }\n        // Call the parent constructor\n        super(errorCode);\n        // Filling error\n        this.code = errorCode || 'E_UNEXPECTED';\n        this.params = params;\n        this.wrappedErrors = wrappedErrors;\n        this.name = this.toString();\n        if (Error.captureStackTrace) {\n            Error.captureStackTrace(this, this.constructor);\n        }\n    }\n    /**\n     * Wraps any error and output a YError with an error\n     *  code and some params as debug values.\n     * @param {Error} err\n     * The error to wrap\n     * @param {string} [errorCode = 'E_UNEXPECTED']\n     * The error code corresponding to the actual error\n     * @param {...YErrorParams} [params]\n     * Some additional debugging values\n     * @return {YError}\n     * The wrapped error\n     */\n    static wrap(err, errorCode, ...params) {\n        const wrappedErrorIsACode = _looksLikeAYErrorCode(err.message);\n        const wrappedErrors = ('wrappedErrors' in err ? err.wrappedErrors : []).concat(err);\n        if (!errorCode) {\n            if (wrappedErrorIsACode) {\n                errorCode = err.message;\n            }\n            else {\n                errorCode = 'E_UNEXPECTED';\n            }\n        }\n        if (err.message && !wrappedErrorIsACode) {\n            params.push(err.message);\n        }\n        return new YError(wrappedErrors, errorCode, ...params);\n    }\n    /**\n     * Return a YError as is or wraps any other error and output\n     *  a YError with a code and some params as debug values.\n     * @param {Error} err\n     * The error to cast\n     * @param {string} [errorCode = 'E_UNEXPECTED']\n     * The error code corresponding to the actual error\n     * @param {...YErrorParams} [params]\n     * Some additional debugging values\n     * @return {YError}\n     * The wrapped error\n     */\n    static cast(err, errorCode, ...params) {\n        if (_looksLikeAYError(err)) {\n            return err;\n        }\n        return YError.wrap(err, errorCode, ...params);\n    }\n    /**\n     * Same than `YError.wrap()` but preserves the code\n     *  and the debug values of the error if it is\n     *  already an instance of the YError constructor.\n     * @param {Error} err\n     * The error to bump\n     * @param {string} [errorCode = 'E_UNEXPECTED']\n     * The error code corresponding to the actual error\n     * @param {...YErrorParams} [params]\n     * Some additional debugging values\n     * @return {YError}\n     * The wrapped error\n     */\n    static bump(err, errorCode, ...params) {\n        if (_looksLikeAYError(err)) {\n            return YError.wrap(err, err.code, ...err.params);\n        }\n        return YError.wrap(err, errorCode, ...params);\n    }\n    toString() {\n        return ((this.wrappedErrors.length\n            ? // eslint-disable-next-line\n                this.wrappedErrors[this.wrappedErrors.length - 1].stack + os.EOL\n            : '') +\n            this.constructor.name +\n            ': ' +\n            this.code +\n            ' (' +\n            this.params.join(', ') +\n            ')');\n    }\n}\n/**\n * Allow to print a stack from anything (especially catched\n *  errors that may or may not contain errors ).\n * @param {Error} err\n * The error to print\n * @return {string}\n * The stack trace if any\n */\nexport function printStackTrace(err) {\n    return typeof err === 'object' && typeof err.stack === 'string'\n        ? err.stack\n        : `[no_stack_trace]: error is ${err != null && typeof err.toString === 'function'\n            ? err.toString()\n            : typeof err}`;\n}\n// In order to keep compatibility through major versions\n// we have to make kind of an cross major version instanceof\nfunction _looksLikeAYError(err) {\n    return (!!(err instanceof YError) ||\n        !!(err.constructor &&\n            err.constructor.name &&\n            err.constructor.name.endsWith('Error') &&\n            'code' in err &&\n            'string' === typeof err.code &&\n            _looksLikeAYErrorCode(err.code) &&\n            'params' in err &&\n            err.params &&\n            err.params instanceof Array));\n}\nfunction _looksLikeAYErrorCode(str) {\n    return /^([A-Z0-9_]+)$/.test(str);\n}\nexport { YError };\n//# sourceMappingURL=index.js.map","import { YError } from 'yerror';\nconst QUOTE = '\"';\nconst EQUAL = '=';\nconst SEPARATOR = ', ';\n/*\n * Regular expression for matching the key-value pairs\n * \\w+     = The key\n * =       = The equal sign\n * \".*?\"   = Value option 1: A double-quoted value (using the non-greedy *? to stop at the first doublequote)\n * [^\",]+  = Value option 2: A string without commas or double-quotes\n * (?=,|$) = Zero-width (as in not captured) positive lookahead assertion.\n *           The previous match will only be valid if it's followed by a \" literal\n *           or the end of the string\n */\nconst KEYVALUE_REGEXP = /\\w+=(\".*?\"|[^\",]+)(?=,|$)/g;\n// FIXME: Create a real parser\nexport function parseHTTPHeadersQuotedKeyValueSet(contents, authorizedKeys, requiredKeys = [], valuesToNormalize = []) {\n    const matches = contents.trim().match(KEYVALUE_REGEXP);\n    if (!matches)\n        throw new YError('E_MALFORMED_QUOTEDKEYVALUE', contents);\n    const data = matches\n        .map((part, partPosition) => {\n        const [key, ...rest] = part.split(EQUAL);\n        const value = rest.join(EQUAL);\n        if (0 === rest.length) {\n            throw new YError('E_MALFORMED_QUOTEDKEYVALUE', partPosition, part);\n        }\n        return [key, value];\n    })\n        .reduce(function (parsedValues, [name, value], valuePosition) {\n        const normalizedName = name.toLowerCase();\n        if (-1 === authorizedKeys.indexOf(normalizedName)) {\n            throw new YError('E_UNAUTHORIZED_KEY', valuePosition, normalizedName);\n        }\n        /*\n         * Regular expression for stripping paired starting and ending double quotes off the value:\n         * ^      = The beginning of the string\n         * \"      = The first double quote\n         * .+     = One or more characters of any kind\n         * (?=\"$) = Zero-width (as in not captured) positive lookahead assertion.\n         *          The previous match will only be valid if it's followed by a \" literal\n         *          or the end of the string\n         * \"      = The ending double quote\n         * $      = The end of the string\n         */\n        const strippedValue = value.replace(/^\"(.+(?=\"$))\"$/, '$1');\n        parsedValues[normalizedName] = valuesToNormalize.includes(normalizedName)\n            ? strippedValue.toLowerCase()\n            : strippedValue;\n        return parsedValues;\n    }, {});\n    _checkRequiredKeys(requiredKeys, data);\n    return data;\n}\nexport function buildHTTPHeadersQuotedKeyValueSet(data, authorizedKeys, requiredKeys = []) {\n    _checkRequiredKeys(requiredKeys, data);\n    return authorizedKeys.reduce(function (contents, key) {\n        if (data[key]) {\n            return (contents +\n                (contents ? SEPARATOR : '') +\n                key +\n                EQUAL +\n                QUOTE +\n                data[key] +\n                QUOTE);\n        }\n        return contents;\n    }, '');\n}\nfunction _checkRequiredKeys(requiredKeys, data) {\n    requiredKeys.forEach((name) => {\n        if ('undefined' === typeof data[name]) {\n            throw new YError('E_REQUIRED_KEY', name);\n        }\n    });\n}\n//# sourceMappingURL=utils.js.map","/**\n * @module http-auth-utils/mechanisms/basic\n */\nimport { YError } from 'yerror';\nimport { parseHTTPHeadersQuotedKeyValueSet, buildHTTPHeadersQuotedKeyValueSet, } from '../utils.js';\nconst REQUIRED_WWW_AUTHENTICATE_KEYS = ['realm'];\nconst AUTHORIZED_WWW_AUTHENTICATE_KEYS = REQUIRED_WWW_AUTHENTICATE_KEYS;\n/* Architecture Note #1.2: Basic mechanism\n\nSee the following [RFC](https://tools.ietf.org/html/rfc7617).\n\n*/\n/**\n * Basic authentication mechanism.\n * @type {Object}\n * @see http://tools.ietf.org/html/rfc2617#section-2\n */\nconst BASIC = {\n    /**\n     * The Basic auth mechanism prefix.\n     * @type {String}\n     */\n    type: 'Basic',\n    /**\n     * Parse the WWW Authenticate header rest.\n     * @param  {String} rest The header rest (string after the authentication mechanism prefix).\n     * @return {Object}      Object representing the result of the parse operation.\n     * @example\n     * assert.deepEqual(\n     *   BASIC.parseWWWAuthenticateRest('realm=\"perlinpinpin\"'), {\n     *     realm: 'perlinpinpin'\n     *   }\n     * );\n     * @api public\n     */\n    parseWWWAuthenticateRest: function parseWWWAuthenticateRest(rest) {\n        return parseHTTPHeadersQuotedKeyValueSet(rest, AUTHORIZED_WWW_AUTHENTICATE_KEYS, REQUIRED_WWW_AUTHENTICATE_KEYS);\n    },\n    /**\n     * Build the WWW Authenticate header rest.\n     * @param  {Object} data The content from wich to build the rest.\n     * @return {String}         The built rest.\n     * @example\n     * assert.equal(\n     *   BASIC.buildWWWAuthenticateRest({\n     *     realm: 'perlinpinpin'\n     *   }),\n     *   'realm=\"perlinpinpin\"'\n     * );\n     * @api public\n     */\n    buildWWWAuthenticateRest: function buildWWWAuthenticateRest(data) {\n        return buildHTTPHeadersQuotedKeyValueSet(data, AUTHORIZED_WWW_AUTHENTICATE_KEYS, REQUIRED_WWW_AUTHENTICATE_KEYS);\n    },\n    /**\n     * Parse the Authorization header rest.\n     * @param  {String} rest The header rest (string after the authentication mechanism prefix).)\n     * @return {Object}      Object representing the result of the parse operation {hash}.\n     * @example\n     * assert.deepEqual(\n     *   BASIC.parseAuthorizationRest('QWxpIEJhYmE6b3BlbiBzZXNhbWU='), {\n     *     hash: 'QWxpIEJhYmE6b3BlbiBzZXNhbWU=',\n     *     username: 'Ali Baba',\n     *     password: 'open sesame'\n     *   }\n     * );\n     * @api public\n     */\n    parseAuthorizationRest: function parseAuthorizationRest(rest) {\n        if (!rest) {\n            throw new YError('E_EMPTY_AUTH');\n        }\n        const { username, password } = BASIC.decodeHash(rest);\n        return {\n            hash: rest,\n            username,\n            password,\n        };\n    },\n    /**\n     * Build the Authorization header rest.\n     * @param  {Object} content The content from wich to build the rest.\n     * @return {String}         The rest built.\n     * @example\n     * assert.equal(\n     *   BASIC.buildAuthorizationRest({\n     *     hash: 'QWxpIEJhYmE6b3BlbiBzZXNhbWU='\n     *   }),\n     *   'QWxpIEJhYmE6b3BlbiBzZXNhbWU='\n     * );\n     * @api public\n     */\n    buildAuthorizationRest: function buildAuthorizationRest({ hash, username, password, }) {\n        if (username && password) {\n            return BASIC.computeHash({\n                username,\n                password,\n            });\n        }\n        if (!hash) {\n            throw new YError('E_NO_HASH');\n        }\n        return hash;\n    },\n    /**\n     * Compute the Basic authentication hash from the given credentials.\n     * @param  {Object} credentials The credentials to encode {username, password}.\n     * @return {String}             The hash representing the credentials.\n     * @example\n     * assert.equal(\n     *   BASIC.computeHash({\n     *     username: 'Ali Baba',\n     *     password: 'open sesame'\n     *   }),\n     *   'QWxpIEJhYmE6b3BlbiBzZXNhbWU='\n     * );\n     * @api public\n     */\n    computeHash: function computeHash({ username, password, }) {\n        return Buffer.from(username + ':' + password).toString('base64');\n    },\n    /**\n     * Decode the Basic hash and return the corresponding credentials.\n     * @param  {String} hash The hash.\n     * @return {Object}      Object representing the credentials {username, password}.\n     * @example\n     * assert.deepEqual(\n     *   BASIC.decodeHash('QWxpIEJhYmE6b3BlbiBzZXNhbWU='), {\n     *     username: 'Ali Baba',\n     *     password: 'open sesame'\n     *   }\n     * );\n     * @api public\n     */\n    decodeHash: function decodeHash(hash) {\n        const [username, ...passwordParts] = Buffer.from(hash, 'base64')\n            .toString()\n            .split(':');\n        return {\n            username,\n            password: passwordParts.join(':'),\n        };\n    },\n};\nexport default BASIC;\n//# sourceMappingURL=basic.js.map","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"crypto\");","/**\n * @module http-auth-utils/mechanisms/digest\n */\nimport { parseHTTPHeadersQuotedKeyValueSet, buildHTTPHeadersQuotedKeyValueSet, } from '../utils.js';\nimport crypto from 'crypto';\nconst REQUIRED_WWW_AUTHENTICATE_KEYS = ['realm', 'nonce'];\nconst AUTHORIZED_WWW_AUTHENTICATE_KEYS = [\n    ...REQUIRED_WWW_AUTHENTICATE_KEYS,\n    'domain',\n    'opaque',\n    'stale',\n    'algorithm',\n    'qop',\n];\nconst CASE_INSENSITIVE_WWW_AUTHENTICATE_VALUES = ['stale'];\nconst REQUIRED_AUTHORIZATION_KEYS = [\n    'username',\n    'realm',\n    'nonce',\n    'uri',\n    'response',\n];\nconst AUTHORIZED_AUTHORIZATION_KEYS = [\n    ...REQUIRED_AUTHORIZATION_KEYS,\n    'algorithm',\n    'cnonce',\n    'opaque',\n    'qop',\n    'nc',\n];\n/* Architecture Note #1.3: Digest mechanism\n\nSee the following [RFC](https://tools.ietf.org/html/rfc2617).\n\n*/\n/**\n * Digest authentication mechanism.\n * @type {Object}\n * @see http://tools.ietf.org/html/rfc2617#section-3\n * @see http://tools.ietf.org/html/rfc2069#section-2\n */\nconst DIGEST = {\n    /**\n     * The Digest auth mechanism prefix.\n     * @type {String}\n     */\n    type: 'Digest',\n    /**\n     * Parse the WWW Authenticate header rest.\n     * @param  {String} rest The header rest (string after the authentication mechanism prefix).\n     * @return {Object}      Object representing the result of the parse operation.\n     * @example\n     * assert.deepEqual(\n     *   DIGEST.parseWWWAuthenticateRest(\n     *     'realm=\"testrealm@host.com\", ' +\n     *     'qop=\"auth, auth-int\", ' +\n     *     'nonce=\"dcd98b7102dd2f0e8b11d0f600bfb0c093\", ' +\n     *     'opaque=\"5ccc069c403ebaf9f0171e9517f40e41\"'\n     *   ), {\n     *     realm: 'testrealm@host.com',\n     *     qop: 'auth, auth-int',\n     *     nonce: 'dcd98b7102dd2f0e8b11d0f600bfb0c093',\n     *     opaque: '5ccc069c403ebaf9f0171e9517f40e41'\n     *   }\n     * );\n     * @api public\n     */\n    parseWWWAuthenticateRest: function parseWWWAuthenticateRest(rest) {\n        return parseHTTPHeadersQuotedKeyValueSet(rest, AUTHORIZED_WWW_AUTHENTICATE_KEYS, REQUIRED_WWW_AUTHENTICATE_KEYS, CASE_INSENSITIVE_WWW_AUTHENTICATE_VALUES);\n    },\n    /**\n     * Build the WWW Authenticate header rest.\n     * @param  {Object} data The content from which to build the rest.\n     * @return {String}         The built rest.\n     * @example\n     * assert.equal(\n     *   DIGEST.buildWWWAuthenticateRest({\n     *     realm: 'testrealm@host.com',\n     *     qop: 'auth, auth-int',\n     *     nonce: 'dcd98b7102dd2f0e8b11d0f600bfb0c093',\n     *     opaque: '5ccc069c403ebaf9f0171e9517f40e41'\n     *   }),\n     *   'realm=\"testrealm@host.com\", ' +\n     *   'qop=\"auth, auth-int\", ' +\n     *   'nonce=\"dcd98b7102dd2f0e8b11d0f600bfb0c093\", ' +\n     *   'opaque=\"5ccc069c403ebaf9f0171e9517f40e41\"'\n     * );\n     * @api public\n     */\n    buildWWWAuthenticateRest: function buildWWWAuthenticateRest(data) {\n        return buildHTTPHeadersQuotedKeyValueSet(data, AUTHORIZED_WWW_AUTHENTICATE_KEYS, REQUIRED_WWW_AUTHENTICATE_KEYS);\n    },\n    /**\n     * Parse the Authorization header rest.\n     * @param  {String} rest The header rest (string after the authentication mechanism prefix).)\n     * @return {Object}      Object representing the result of the parse operation {hash}.\n     * @example\n     * assert.deepEqual(\n     *   DIGEST.parseAuthorizationRest(\n     *     'username=\"Mufasa\",' +\n     *     'realm=\"testrealm@host.com\",' +\n     *     'nonce=\"dcd98b7102dd2f0e8b11d0f600bfb0c093\",' +\n     *     'uri=\"/dir/index.html\",' +\n     *     'qop=\"auth\",' +\n     *     'nc=\"00000001\",' +\n     *     'cnonce=\"0a4f113b\",' +\n     *     'response=\"6629fae49393a05397450978507c4ef1\",' +\n     *     'opaque=\"5ccc069c403ebaf9f0171e9517f40e41\"'\n     *   ), {\n     *     username: \"Mufasa\",\n     *     realm: 'testrealm@host.com',\n     *     nonce: \"dcd98b7102dd2f0e8b11d0f600bfb0c093\",\n     *     uri: \"/dir/index.html\",\n     *     qop: 'auth',\n     *     nc: '00000001',\n     *     cnonce: \"0a4f113b\",\n     *     response: \"6629fae49393a05397450978507c4ef1\",\n     *     opaque: \"5ccc069c403ebaf9f0171e9517f40e41\"\n     *   }\n     * );\n     * @api public\n     */\n    parseAuthorizationRest: function parseAuthorizationRest(rest) {\n        return parseHTTPHeadersQuotedKeyValueSet(rest, AUTHORIZED_AUTHORIZATION_KEYS, REQUIRED_AUTHORIZATION_KEYS);\n    },\n    /**\n     * Build the Authorization header rest.\n     * @param  {Object} data The content from which to build the rest.\n     * @return {String}         The rest built.\n     * @example\n     * assert.equal(\n     *   DIGEST.buildAuthorizationRest({\n     *     username: \"Mufasa\",\n     *     realm: 'testrealm@host.com',\n     *     nonce: \"dcd98b7102dd2f0e8b11d0f600bfb0c093\",\n     *     uri: \"/dir/index.html\",\n     *     qop: 'auth',\n     *     nc: '00000001',\n     *     cnonce: \"0a4f113b\",\n     *     response: \"6629fae49393a05397450978507c4ef1\",\n     *     opaque: \"5ccc069c403ebaf9f0171e9517f40e41\"\n     *   }),\n     *   'username=\"Mufasa\", ' +\n     *   'realm=\"testrealm@host.com\", ' +\n     *   'nonce=\"dcd98b7102dd2f0e8b11d0f600bfb0c093\", ' +\n     *   'uri=\"/dir/index.html\", ' +\n     *   'response=\"6629fae49393a05397450978507c4ef1\", ' +\n     *   'cnonce=\"0a4f113b\", ' +\n     *   'opaque=\"5ccc069c403ebaf9f0171e9517f40e41\", ' +\n     *   'qop=\"auth\", ' +\n     *   'nc=\"00000001\"'\n     * );\n     * @api public\n     */\n    buildAuthorizationRest: function buildAuthorizationRest(data) {\n        return buildHTTPHeadersQuotedKeyValueSet(data, AUTHORIZED_AUTHORIZATION_KEYS, REQUIRED_AUTHORIZATION_KEYS);\n    },\n    /**\n     * Compute the Digest authentication hash from the given credentials.\n     * @param  {Object} data The credentials to encode and other encoding details.\n     * @return {String}             The hash representing the credentials.\n     * @example\n     * assert.equal(\n     *   DIGEST.computeHash({\n     *     username: 'Mufasa',\n     *     realm: 'testrealm@host.com',\n     *     password: 'Circle Of Life',\n     *     method: 'GET',\n     *     uri: '/dir/index.html',\n     *     nonce: 'dcd98b7102dd2f0e8b11d0f600bfb0c093',\n     *     nc: '00000001',\n     *     cnonce: '0a4f113b',\n     *     qop: 'auth',\n     *     algorithm: 'md5'\n     *   }),\n     *   '6629fae49393a05397450978507c4ef1'\n     * );\n     * @api public\n     */\n    computeHash: function computeHash(data) {\n        const ha1 = data.ha1 ||\n            _computeHash(data.algorithm, [data.username, data.realm, data.password].join(':'));\n        const ha2 = _computeHash(data.algorithm, [data.method, data.uri].join(':'));\n        return _computeHash(data.algorithm, [ha1, data.nonce, data.nc, data.cnonce, data.qop, ha2].join(':'));\n    },\n};\nfunction _computeHash(algorithm, str) {\n    const hashsum = crypto.createHash(algorithm);\n    hashsum.update(str);\n    return hashsum.digest('hex');\n}\nexport default DIGEST;\n//# sourceMappingURL=digest.js.map","/**\n * @module http-auth-utils/mechanisms/bearer\n */\nimport { YError } from 'yerror';\nimport { parseHTTPHeadersQuotedKeyValueSet, buildHTTPHeadersQuotedKeyValueSet, } from '../utils.js';\nconst AUTHORIZED_ERROR_CODES = [\n    'invalid_request',\n    'invalid_token',\n    'insufficient_scope',\n];\nconst REQUIRED_WWW_AUTHENTICATE_KEYS = ['realm'];\nconst AUTHORIZED_WWW_AUTHENTICATE_KEYS = [\n    ...REQUIRED_WWW_AUTHENTICATE_KEYS,\n    'scope',\n    'error',\n    'error_description',\n];\n/* Architecture Note #1.1: Bearer mechanism\n\nSee the following [RFC](https://tools.ietf.org/html/rfc6750).\n\n*/\n/**\n * Bearer authentication mechanism.\n * @type {Object}\n * @see https://tools.ietf.org/html/rfc6750#section-3\n */\nconst BEARER = {\n    /**\n     * The Bearer auth mechanism prefix.\n     * @type {String}\n     */\n    type: 'Bearer',\n    /**\n     * Parse the WWW Authenticate header rest.\n     * @param  {String} rest The header rest (string after the authentication mechanism prefix).\n     * @return {Object}      Object representing the result of the parse operation.\n     * @example\n     * assert.deepEqual(\n     *   BEARER.parseWWWAuthenticateRest(\n     *     'realm=\"testrealm@host.com\", ' +\n     *     'scope=\"openid profile email\"'\n     *   ), {\n     *     realm: 'testrealm@host.com',\n     *     scope: 'openid profile email',\n     *   }\n     * );\n     * @api public\n     */\n    parseWWWAuthenticateRest: function parseWWWAuthenticateRest(rest) {\n        return parseHTTPHeadersQuotedKeyValueSet(rest, AUTHORIZED_WWW_AUTHENTICATE_KEYS, []);\n    },\n    /**\n     * Build the WWW Authenticate header rest.\n     * @param  {Object} data The content from wich to build the rest.\n     * @return {String}         The built rest.\n     * @example\n     * assert.equal(\n     *   BEARER.buildWWWAuthenticateRest({\n     *     realm: 'testrealm@host.com',\n     *     error: 'invalid_request',\n     *     error_description: 'The access token expired',\n     *   }),\n     *   'realm=\"testrealm@host.com\", ' +\n     *   'error=\"invalid_request\", ' +\n     *   'error_description=\"The access token expired\"'\n     * );\n     * @api public\n     */\n    buildWWWAuthenticateRest: function buildWWWAuthenticateRest(data) {\n        if (data.error &&\n            -1 ===\n                AUTHORIZED_ERROR_CODES.indexOf(data.error)) {\n            throw new YError('E_INVALID_ERROR', data.error, AUTHORIZED_ERROR_CODES);\n        }\n        return buildHTTPHeadersQuotedKeyValueSet(data, AUTHORIZED_WWW_AUTHENTICATE_KEYS, []);\n    },\n    /**\n     * Parse the Authorization header rest.\n     * @param  {String} rest The header rest (string after the authentication mechanism prefix).)\n     * @return {Object}      Object representing the result of the parse operation {hash}.\n     * @example\n     * assert.deepEqual(\n     *   BEARER.parseAuthorizationRest('mF_9.B5f-4.1JqM'), {\n     *     hash: 'mF_9.B5f-4.1JqM',\n     *   }\n     * );\n     * @api public\n     */\n    parseAuthorizationRest: function parseAuthorizationRest(rest) {\n        if (!rest) {\n            throw new YError('E_EMPTY_AUTH');\n        }\n        return {\n            hash: rest,\n        };\n    },\n    /**\n     * Build the Authorization header rest.\n     * @param  {Object} content The content from wich to build the rest.\n     * @return {String}         The rest built.\n     * @example\n     * assert.equal(\n     *   BEARER.buildAuthorizationRest({\n     *     hash: 'mF_9.B5f-4.1JqM'\n     *   }),\n     *   'mF_9.B5f-4.1JqM=='\n     * );\n     * @api public\n     */\n    buildAuthorizationRest: function buildAuthorizationRest({ hash, }) {\n        if (!hash) {\n            throw new YError('E_NO_HASH');\n        }\n        return hash;\n    },\n};\nexport default BEARER;\n//# sourceMappingURL=bearer.js.map","import { YError } from 'yerror';\nimport BASIC from './mechanisms/basic.js';\nimport DIGEST from './mechanisms/digest.js';\nimport BEARER from './mechanisms/bearer.js';\n/**\n * @module http-auth-utils\n */\n/**\n * Natively supported authentication mechanisms.\n * @type {Array}\n */\nconst mechanisms = [BASIC, DIGEST, BEARER];\n/**\n * Basic authentication mechanism.\n * @type {Object}\n * @see  {@link module:http-auth-utils/mechanisms/basic}\n */\nBASIC;\n/**\n * Digest authentication mechanism.\n * @type {Object}\n * @see  {@link module:http-auth-utils/mechanisms/digest}\n */\nDIGEST;\n/**\n * Bearer authentication mechanism.\n * @type {Object}\n * @see  {@link module:http-auth-utils/mechanisms/digest}\n */\nBEARER;\nexport { BASIC, DIGEST, BEARER, mechanisms };\n/**\n * Parse HTTP WWW-Authenticate header contents.\n * @type {Function}\n * @param {string} header\n * The WWW-Authenticate header contents\n * @param {Array} [authMechanisms=[BASIC, DIGEST, BEARER]]\n * Allow providing custom authentication mechanisms.\n * @param {Object} [options]\n * Parsing options\n * @param {boolean} [options.strict=true]\n * Strictly detect the mechanism type (case sensitive)\n * @return {Object} Result of the contents parse.\n * @api public\n * @example\n * assert.deepEqual(\n *   parseWWWAuthenticateHeader('Basic realm=\"test\"'), {\n *     type: 'Basic',\n *     data: {\n *       realm: 'test'\n *     }\n *   }\n * );\n */\nexport function parseWWWAuthenticateHeader(header, authMechanisms = mechanisms, { strict = true } = { strict: true }) {\n    let result = null;\n    authMechanisms.some((authMechanism) => {\n        if (0 === header.indexOf(authMechanism.type + ' ') ||\n            (!strict && 0 === header.indexOf(authMechanism.type.toLowerCase() + ' '))) {\n            result = {\n                type: authMechanism.type,\n                data: authMechanism.parseWWWAuthenticateRest(header.substr(authMechanism.type.length + 1)),\n            };\n            return true;\n        }\n        return false;\n    });\n    if (!result) {\n        throw new YError('E_UNKNOWN_AUTH_MECHANISM', header);\n    }\n    return result;\n}\n/**\n * Parse HTTP Authorization header contents.\n * @type {Function}\n * @param {string} header The Authorization header contents\n * @param {Array} [authMechanisms=[BASIC, DIGEST, BEARER]]\n * Allow custom authentication mechanisms.\n * @param {Object} [options]\n * Parsing options\n * @param {boolean} [options.strict=true]\n * Strictly detect the mechanism type (case sensitive)\n * @return {Object} Result of the contents parse.\n * @api public\n * @example\n * assert.deepEqual(\n *   parseAuthorizationHeader('Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=='), {\n *     type: 'Basic',\n *     data: {\n *       hash: 'QWxhZGRpbjpvcGVuIHNlc2FtZQ=='\n *     }\n *   }\n * );\n */\nexport function parseAuthorizationHeader(header, authMechanisms = mechanisms, { strict = true } = { strict: true }) {\n    let result = null;\n    authMechanisms.some(function (authMechanism) {\n        if (0 === header.indexOf(authMechanism.type + ' ') ||\n            (!strict && 0 === header.indexOf(authMechanism.type.toLowerCase() + ' '))) {\n            result = {\n                type: authMechanism.type,\n                data: authMechanism.parseAuthorizationRest(header.substr(authMechanism.type.length + 1)),\n            };\n            return true;\n        }\n        return false;\n    });\n    if (result) {\n        return result;\n    }\n    throw new YError('E_UNKNOWN_AUTH_MECHANISM', header);\n}\n/**\n * Build HTTP WWW-Authenticate header value.\n * @type {Function}\n * @param {Object} authMechanism The mechanism to use\n * @param {Object}\n * The WWW-Authenticate header contents to base the value on.\n * @return {string} The header value.\n * @api public\n * @example\n * assert.deepEqual(\n *   buildWWWAuthenticateHeader(BASIC, {\n *     realm: 'test'\n *   }),\n *   'Basic realm=\"test\"'\n * );\n */\nexport function buildWWWAuthenticateHeader(authMechanism, data) {\n    return `${authMechanism.type} ${authMechanism.buildWWWAuthenticateRest(data)}`;\n}\n/**\n * Build HTTP Authorization header value.\n * @type {Function}\n * @param {Object} authMechanism The mechanism to use\n * @param {Object}\n * The Authorization header contents to base the value on.\n * @return {string} The header value.\n * @api public\n * @example\n * assert.deepEqual(\n *   buildAuthorizationHeader(BASIC, {\n *     realm: 'test'\n *   }),\n *   'Basic realm=\"test\"'\n * );\n */\nexport function buildAuthorizationHeader(authMechanism, data) {\n    return `${authMechanism.type} ${authMechanism.buildAuthorizationRest(data)}`;\n}\n//# sourceMappingURL=index.js.map","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(7927);\n"],"names":["__createBinding","this","Object","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__exportStar","exports","p","prototype","hasOwnProperty","call","value","sdk","MixinDeviceBase","ScryptedDeviceBase","index_1","module_1","DeviceBase","constructor","nativeId","super","storage","_storage","deviceManager","getDeviceStorage","log","_log","getDeviceLogger","console","_console","getDeviceConsole","createMediaObject","data","mimeType","mediaManager","sourceId","id","getMediaObjectConsole","mediaObject","getMixinConsole","_lazyLoadDeviceState","_deviceState","getDeviceState","onDeviceEvent","eventInterface","eventData","options","_listeners","Set","mixinDevice","mixinDeviceInterfaces","mixinStorageSuffix","mixinDeviceState","systemManager","getDeviceById","mixinProviderNativeId","__rpcproxy_traps_all_properties","createDeviceState","setState","mixinStorageKey","getMixinStorage","onMixinEvent","manageListener","listener","add","release","l","removeListener","_createGetState","state","_createSetState","warn","field","values","ScryptedInterfaceProperty","set","loaded","process","env","SCRYPTED_SDK_MODULE","sdkModule","createRequire","require","assign","getScryptedStatic","e","runtimeAPI","pluginRuntimeAPI","endpointManager","pluginHostAPI","setScryptedInterfaceDescriptors","TYPES_VERSION","ScryptedInterfaceDescriptors","catch","error","__setModuleDefault","v","__importStar","mod","result","SettingsMixinDeviceBase","_1","default","settingsGroup","group","settingsGroupKey","groupKey","nextTick","ScryptedInterface","Settings","getSettings","settingsPromise","includes","mixinSettingsPromise","getMixinSettings","allSettings","settings","push","name","description","key","Math","random","toString","title","readonly","mixinSettings","setting","putSetting","prefix","startsWith","putMixinSetting","substring","length","StorageSettings","device","hasValue","keys","rawGet","getItem","type","JSON","parse","ret","onGet","entries","s","hide","getItemInternal","onPut","mapPut","mapGet","oldValue","putSettingInternal","noStore","removeItem","setItem","stringify","rawDevice","readDefaultValue","multiple","n","parseFloat","isNaN","parseInt","json","parseValue","persistedDefaultValue","defaultValue","ScryptedMimeTypes","MediaPlayerState","SecuritySystemObstruction","SecuritySystemMode","AirQuality","AirPurifierMode","AirPurifierStatus","ChargeState","LockState","PanTiltZoomMovement","ThermostatMode","TemperatureUnit","FanMode","HumidityMode","ScryptedDeviceType","ScryptedInterfaceMethod","DataView","getNative","module","hashClear","hashDelete","hashGet","hashHas","hashSet","Hash","index","clear","entry","has","listCacheClear","listCacheDelete","listCacheGet","listCacheHas","listCacheSet","ListCache","Map","mapCacheClear","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","MapCache","Promise","setCacheAdd","setCacheHas","SetCache","__data__","stackClear","stackDelete","stackGet","stackHas","stackSet","Stack","size","Symbol","Uint8Array","WeakMap","array","setter","iteratee","accumulator","predicate","resIndex","baseTimes","isArguments","isArray","isBuffer","isIndex","isTypedArray","inherited","isArr","isArg","isBuff","isType","skipIndexes","String","Array","offset","eq","baseEach","collection","object","baseForOwn","createBaseEach","baseFor","createBaseFor","castPath","toKey","path","arrayPush","keysFunc","symbolsFunc","getRawTag","objectToString","symToStringTag","toStringTag","baseGetTag","isObjectLike","baseIsEqualDeep","baseIsEqual","other","bitmask","customizer","stack","equalArrays","equalByTag","equalObjects","getTag","argsTag","arrayTag","objectTag","equalFunc","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","source","matchData","noCustomizer","objValue","srcValue","COMPARE_PARTIAL_FLAG","isFunction","isMasked","isObject","toSource","reIsHostCtor","funcProto","Function","objectProto","funcToString","reIsNative","RegExp","replace","test","isLength","typedArrayTags","baseMatches","baseMatchesProperty","identity","property","isPrototype","nativeKeys","baseIsMatch","getMatchData","matchesStrictComparable","hasIn","isKey","isStrictComparable","baseGet","arrayMap","isSymbol","symbolProto","symbolToString","baseToString","func","cache","stringToPath","coreJsData","arrayAggregator","baseAggregator","baseIteratee","initializer","isArrayLike","eachFunc","fromRight","iterable","props","arraySome","cacheHas","isPartial","arrLength","othLength","arrStacked","othStacked","seen","arrValue","othValue","compared","othIndex","mapToArray","setToArray","symbolValueOf","valueOf","tag","byteLength","byteOffset","buffer","message","convert","stacked","getAllKeys","objProps","objLength","objStacked","skipCtor","objCtor","othCtor","freeGlobal","global","baseGetAllKeys","getSymbols","isKeyable","map","baseIsNative","getValue","nativeObjectToString","isOwn","unmasked","arrayFilter","stubArray","propertyIsEnumerable","nativeGetSymbols","getOwnPropertySymbols","symbol","mapTag","promiseTag","setTag","weakMapTag","dataViewTag","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","ArrayBuffer","resolve","Ctor","ctorString","hasFunc","nativeCreate","reIsUint","reIsDeepProp","reIsPlainProp","uid","maskSrcKey","exec","IE_PROTO","assocIndexOf","splice","pop","getMapData","forEach","memoize","overArg","freeExports","nodeType","freeModule","freeProcess","nodeUtil","types","binding","transform","arg","freeSelf","self","root","pairs","LARGE_ARRAY_SIZE","memoizeCapped","rePropName","reEscapeChar","string","charCodeAt","match","number","quote","subString","baseHasIn","hasPath","baseIsArguments","arguments","stubFalse","Buffer","baseIsTypedArray","baseUnary","nodeIsTypedArray","baseAssignValue","keyBy","createAggregator","arrayLikeKeys","baseKeys","resolver","TypeError","memoized","args","apply","Cache","baseProperty","basePropertyDeep","sax","parser","strict","opt","SAXParser","SAXStream","createStream","MAX_BUFFER_LENGTH","Stream","buffers","i","clearBuffers","q","c","bufferCheckPosition","lowercase","lowercasetags","looseCase","tags","closed","closedRoot","sawRoot","noscript","S","BEGIN","strictEntities","ENTITIES","XML_ENTITIES","attribList","xmlns","ns","rootNS","unquotedAttributeValues","trackPosition","position","line","column","emit","EVENTS","F","a","end","write","chunk","charAt","BEGIN_WHITESPACE","beginWhiteSpace","TEXT","starti","textNode","isWhitespace","strictFail","TEXT_ENTITY","OPEN_WAKA","startTagPosition","SCRIPT","SCRIPT_ENDING","script","CLOSE_TAG","SGML_DECL","sgmlDecl","isMatch","nameStart","OPEN_TAG","tagName","PROC_INST","procInstName","procInstBody","pad","join","COMMENT","comment","doctype","DOCTYPE_DTD","toUpperCase","CDATA","emitNode","cdata","DOCTYPE","isQuote","SGML_DECL_QUOTED","DOCTYPE_QUOTED","DOCTYPE_DTD_QUOTED","COMMENT_ENDING","COMMENT_ENDED","textopts","CDATA_ENDING","CDATA_ENDING_2","PROC_INST_ENDING","PROC_INST_BODY","body","nameBody","newTag","openTag","OPEN_TAG_SLASH","ATTRIB","closeTag","attribName","attribValue","ATTRIB_NAME","ATTRIB_VALUE","attrib","ATTRIB_NAME_SAW_WHITE","attributes","ATTRIB_VALUE_QUOTED","ATTRIB_VALUE_UNQUOTED","ATTRIB_VALUE_ENTITY_Q","ATTRIB_VALUE_CLOSED","isAttribEnd","ATTRIB_VALUE_ENTITY_U","CLOSE_TAG_SAW_WHITE","notMatch","returnState","parsedEntity","parseEntity","unparsedEntities","entity","entityBody","entityStart","Error","maxAllowed","max","maxActual","len","closeText","checkBufferLength","resume","close","flush","ex","streamWraps","filter","ev","_parser","readable","me","onend","onerror","er","_decoder","h","removeAllListeners","on","SD","handler","indexOf","XML_NAMESPACE","XMLNS_NAMESPACE","xml","regex","stringFromCharCode","floor","fromCodePoint","STATE","COMMENT_STARTING","fromCharCode","event","text","trim","normalize","parent","qname","attribute","qualName","split","local","qn","selfClosing","uri","nv","isSelfClosing","toLowerCase","t","closeTo","x","num","entityLC","numStr","slice","highSurrogate","lowSurrogate","codeUnits","codePoint","Number","isFinite","RangeError","HikvisionUtilitiesMixin","plugin","streamCaps","motionCaps","audioCaps","timeCaps","osdCaps","ptzCaps","ptzPresets","deviceInfo","suppressOnPut","initStorage","storageSettings","mixinsMap","setTimeout","async","killed","init","fetchMotionCapabilities","fetchStreamCapabilities","fetchAudioCapabilities","fetchTimeCapabilities","fetchOSDCapabilities","fetchPTZCapabilities","fetchDeviceInfo","refreshSettings","updateMotionCapabilities","setMotionSettingsValues","updateStreamCapabilities","setStreamSettingsValues","updateAudioCapabilities","setAudioSettingsValues","updateTimeCapabilities","setTimeSettingsValues","updateOSDCapabilities","setOSDSettingsValues","updatePTZCapabilities","setPTZSettingsValues","client","getClient","getMotionCapabilities","eventTrigger","getMotionEventTrigger","centerNotificationEnabled","getTwoWayAudioCapabilities","getTimeCapabilities","caps","getOSDCapabilities","current","getOSD","videoInput","getVideoInputChannel","videoInputName","getDeviceInfo","getPTZCapabilities","getPTZPresets","generateMotionSettings","motionSettings","subgroup","immediate","old","updateMotionDetection","enabled","choices","sensitivityOptions","motionSensitivity","updateMotionEventTrigger","generateStreamSettings","streamSettings","channel","streamId","capabilities","resolutionChoices","resolutions","res","width","height","updateStreamingChannel","videoResolutionWidth","videoResolutionHeight","fpsChoices","allFrameRates","fr","label","frameRateValue","find","maxFrameRate","qualityControlTypes","codecChoices","videoCodecs","codec","video","fps","audio","govLengthMinSec","ceil","govLengthMin","govLengthMaxSec","govLengthMax","govLengthChoices","govLengthInFrames","round","govLength","fixedQualityChoices","numericValue","fixedQuality","audioEnabled","videoCodecType","smartCodecEnabled","generateAudioSettings","audioSettings","audioCodecs","updateAudio","audioCompressionType","volumeChoices","speakerVolumeMin","speakerVolumeMax","speakerVolume","supportsNoiseReduction","noiseReduction","audioInputTypes","audioInputType","generateTimeSettings","timeSettings","currentTimeMode","timeModes","localTime","Date","toISOString","updateTime","timeMode","updateNTPServer","ipAddress","portNo","syncIntervalChoices","minutes","synchronizeInterval","baseTimezone","dstSuffix","newTZ","timeZone","baseTZ","getOSDPositionPresets","lineHeight","textWidth","y","padding","generateOSDSettings","osdSettings","normalizedScreenWidth","normalizedScreenHeight","presets","presetChoices","updateOSD","dateTimeOverlay","dateStyle","timeStyle","displayWeek","pos","positionX","positionY","channelNameOverlay","updateVideoInputChannel","maxTextOverlays","textOverlayListSize","textOverlays","displayText","textOverlayList","overlay","generatePTZSettings","ptzSettings","specialNos","maxPresets","min","maxPresetNum","updatePTZPreset","deletePTZPreset","gotoPTZPreset","generateInfoSettings","infoSettings","infoFields","newValue","updateDeviceInfo","deviceName","sensitivityLevel","maxFrameRateUI","videoQualityControlType","currentBitrate","vbrUpperCap","constantBitRate","bitrateMin","vbrUpperCapMin","constantBitRateMin","bitrateMax","vbrUpperCapMax","constantBitRateMax","bitrateChoices","generateBitrateChoices","govLengthUI","fixedQualityLabel","getStreamingCapabilities","audioConfig","getTwoWayAudio","timeConfig","getTime","ntpConfig","getNTPServer","hours","sign","hasDST","preset","presetName","setInfoSettingsValues","params","channelId","updateTwoWayAudio","getDeviceProperties","deviceSettings","deviceSettingsMap","username","password","host","httpAddress","HikvisionCameraAPI","dynamicSettings","convertSettingsToStorageSettings","rest","ip","credential","request","urlOrOptions","authHttpFetch","URL","url","rejectUnauthorized","response","method","responseType","headers","parseStringPromise","MotionDetection","_","sensitivtyData","MotionDetectionLayout","$","step","getStreamingChannels","explicitArray","mergeAttrs","attrkey","charkey","channels","StreamingChannelList","StreamingChannel","Video","getBitrateValue","constantBitRateData","vbrUpperCapData","GovLength","govLengthData","Audio","channelName","audioInputChannelID","formatFrameRate","formatKeyFrameInterval","smoothing","H264Profile","H265Profile","SmartCodec","targetChannel","channelRegex","updatedChannel","fullMatch","before","after","getStreamingChannelCapabilities","DynamicCap","ResolutionAvailableDscriptorList","ResolutionAvailableDscriptor","frameRates","supportedFrameRate","CodecParamDscriptorList","CodecParamDscriptor","supportProfile","isSupportProfile","supportSVC","isSupportSVC","cbrSupported","CBRCap","isSupportSmooth","vbrSupported","VBRCap","smartCodecCap","SmartCodecCap","readOnlyParams","constantBitrateSupport","BitrateType","Constant","support","variableBitrateSupport","Variable","flatMap","r","sort","b","all","TwoWayAudioChannel","noisereduce","Time","NTPServer","EventTrigger","hasCenterNotification","EventTriggerNotificationList","EventTriggerNotification","some","notification","notificationMethod","filteredList","version","eventDescription","dynVideoInputChannelID","notificationRecurrence","Builder","headless","renderOpts","pretty","buildObject","VideoOverlay","TextOverlayList","DateTimeOverlay","normalizedScreenSize","TextOverlay","videoOverlay","dto","cno","textList","update","isPersistentText","newXml","PTZChanelCap","PresetNameCap","specialNo","PTZPresetList","PTZPreset","info","DeviceInfo","model","serialNumber","macAddress","firmwareVersion","firmwareReleasedDate","deviceType","VideoInputChannel","videoFormat","HikvisionUtilitiesProvider","canMixin","interfaces","Camera","VideoCamera","int","HIKVISION_UTILITIES_INTERFACE","getMixin","releaseMixin","frameRate","formattedFps","numerator","denominator","uiValue","standardValues","unshift","onPutToRestore","bind","updateStorageSettings","createAuthFetch","httpFetch","httpFetchParseIncomingMessage","getFetchMethod","createHeadersArray","setDefaultHttpFetchAccept","initialHeader","getAuth","hasHeader","setHeader","controller","AbortController","signal","addEventListener","abort","reason","initialResponse","checkStatusCode","statusCode","checkStatus","authenticateHeaders","BASIC","DIGEST","parseWWWAuthenticateHeader","parsedHeaders","digest","basic","header","count","nc","cnonce","parsedURL","pathname","search","buildAuthorizationHeader","computeHash","algorithm","qop","once","PassThrough","Readable","http","https","proto","timeout","newBody","from","createStringOrBufferBody","destroy","nodeHeaders","family","pipe","checker","readMessageBuffer","incomingHeaders","Headers","vv","append","clearTimeout","concat","TextParser","JSONParser","BufferParser","StreamParser","getHttpFetchParser","fetchStatusCodeOk","getHttpFetchAccept","removeHeader","filteredHeaders","headerKey","accept","headersArray","contentType","domFetchParseIncomingMessage","arrayBuffer","ReadableStream","fetch","credentials","withCredentials","status","stripBOM","str","builder","defaults","escapeCDATA","requiresCDATA","wrapCDATA","hasProp","opts","ref","rootObj","render","rootElement","rootName","_this","element","obj","attr","child","raw","txt","ele","up","att","xmldec","allowSurrogateChars","explicitCharkey","normalizeTags","ignoreAttrs","explicitRoot","validator","explicitChildren","childkey","charsAsChildren","includeWhiteChars","attrNameProcessors","attrValueProcessors","tagNameProcessors","valueProcessors","emptyTag","preserveChildrenOrder","chunkSize","bom","events","isEmpty","processItem","processors","setImmediate","fn","thing","item","descriptor","Parser","superClass","parseString","reset","assignOrPush","processAsync","xmlnskey","ctor","__super__","extend","err","remaining","saxParser","substr","error1","errThrown","ontext","ended","resultObject","EXPLICIT_CHARKEY","onopentag","node","processedKey","onclosetag","emptyStr","nodeName","objClone","xpath","results","getOwnPropertyNames","charChild","oncdata","cb","reject","prefixMatch","firstCharLowerCase","stripPrefix","parseNumbers","parseBooleans","ValidationError","Disconnected","Preceding","Following","Contains","ContainedBy","ImplementationSpecific","Element","Attribute","Text","CData","EntityReference","EntityDeclaration","ProcessingInstruction","Comment","Document","DocType","DocumentFragment","NotationDeclaration","Declaration","Raw","AttributeDeclaration","ElementDeclaration","Dummy","isPlainObject","sources","target","val","getPrototypeOf","None","OpenTag","InsideTag","CloseTag","NodeType","XMLAttribute","debugInfo","attValue","isId","schemaTypeInfo","clone","writer","filterOptions","isEqualNode","namespaceURI","localName","XMLCharacterData","XMLCData","XMLNode","substringData","appendData","insertData","deleteData","replaceData","XMLComment","XMLDOMErrorHandler","XMLDOMStringList","XMLDOMConfiguration","defaultParams","getParameter","canSetParameter","setParameter","handleError","XMLDOMImplementation","hasFeature","feature","createDocumentType","qualifiedName","publicId","systemId","createDocument","createHTMLDocument","getFeature","arr","contains","XMLDTDAttList","elementName","attributeName","attributeType","defaultValueType","dtdAttType","dtdAttDefault","dtdAttList","XMLDTDElement","dtdElementValue","dtdElement","XMLDTDEntity","pe","pubID","sysID","internal","dtdPubID","dtdSysID","nData","dtdNData","dtdEntityValue","dtdEntity","XMLDTDNotation","dtdNotation","XMLDeclaration","encoding","standalone","xmlVersion","xmlEncoding","xmlStandalone","declaration","XMLNamedNodeMap","XMLDocType","ref1","ref2","children","documentObject","nodes","attList","pEntity","notation","docType","ent","pent","not","XMLStringWriter","XMLStringifier","XMLDocument","documentURI","domConfig","rootObject","writerOptions","document","createElement","createDocumentFragment","createTextNode","createComment","createCDATASection","createProcessingInstruction","createAttribute","createEntityReference","getElementsByTagName","tagname","importNode","importedNode","deep","createElementNS","createAttributeNS","getElementsByTagNameNS","getElementById","elementId","adoptNode","normalizeDocument","renameNode","getElementsByClassName","classNames","createEvent","createRange","createNodeIterator","whatToShow","createTreeWalker","WriterState","XMLElement","XMLProcessingInstruction","XMLRaw","XMLText","XMLDocumentCB","onData","onEnd","onDataCallback","onEndCallback","currentNode","currentLevel","openTags","documentStarted","documentCompleted","createChildNode","attName","attribs","dummy","instruction","openCurrent","oldValidationFlag","noValidation","keepNullAttributes","insTarget","insValue","processingInstruction","rootNodeName","closeNode","openNode","isOpen","indent","endline","isClosed","level","nod","dat","com","ins","dec","dtd","d","XMLDummy","j","isRoot","attributeMap","clonedSelf","clonedChild","removeAttribute","getAttribute","setAttribute","getAttributeNode","setAttributeNode","newAttr","removeAttributeNode","oldAttr","getAttributeNS","setAttributeNS","removeAttributeNS","getAttributeNodeNS","setAttributeNodeNS","hasAttribute","hasAttributeNS","setIdAttribute","setIdAttributeNS","setIdAttributeNode","idAttr","getNamedItem","setNamedItem","oldNode","removeNamedItem","getNamedItemNS","setNamedItemNS","removeNamedItemNS","DocumentPosition","XMLNodeList","parent1","baseURI","childNodeList","textContent","setParent","childNode","lastChild","len1","ref3","ignoreDecorators","convertAttKey","separateArrayItems","keepNullNodes","convertTextKey","convertCDataKey","convertCommentKey","convertRawKey","convertPIKey","insertBefore","newChild","refChild","removed","insertAfter","remove","commentBefore","commentAfter","instructionBefore","instructionAfter","doc","prev","next","importDocument","clonedRoot","u","importXMLBuilder","replaceChild","oldChild","removeChild","appendChild","hasChildNodes","cloneNode","isSupported","hasAttributes","compareDocumentPosition","isAncestor","isDescendant","isPreceding","isSameNode","lookupPrefix","isDefaultNamespace","lookupNamespaceURI","setUserData","getUserData","nodePos","thisPos","treePosition","isFollowing","found","foreachTreeNode","XMLWriterBase","XMLStreamWriter","stream","isLastRootNode","writeChildNode","spaceBeforeSlash","childNodeCount","firstChildNode","every","allowEmpty","suppressPrettyCount","newline","assertLegalName","assertLegalChar","textEscape","attEscape","ampregex","noDoubleEncoding","previousSibling","nextSibling","splitText","replaceWholeText","content","filteredOptions","ref4","ref5","ref6","dontPrettyTextNodes","dontprettytextnodes","spacebeforeslash","user","indentLevel","openAttribute","closeAttribute","prettySuppressed","begin","stringWriter","streamWriter","implementation","writerState","formatArgs","useColors","namespace","humanize","diff","color","lastC","save","namespaces","load","DEBUG","window","__nwjs","navigator","userAgent","documentElement","style","WebkitAppearance","firebug","exception","table","$1","localStorage","localstorage","warned","colors","debug","formatters","createDebug","prevTime","namespacesCache","enabledCache","enableOverride","curr","ms","coerce","format","formatter","selectColor","delimiter","newDebug","toNamespace","regexp","disable","names","skips","enable","hash","abs","browser","tty","util","inspectOpts","stderr","colorCode","hideDate","getDate","Boolean","isatty","fd","deprecate","supportsColor","reduce","prop","inspect","O","looksLikeNode","looksLikeBrowser","looksLikeV8","Writable","assert","captureStackTrace","useNativeURL","code","preservedUrlFields","eventHandlers","arg1","arg2","arg3","_redirectable","InvalidUrlError","createErrorType","RedirectionError","TooManyRedirectsError","MaxBodyLengthExceededError","WriteAfterEndError","noop","RedirectableRequest","responseCallback","_sanitizeOptions","_options","_ended","_ending","_redirectCount","_redirects","_requestBodyLength","_requestBodyBuffers","_onNativeResponse","_processResponse","cause","_performRequest","wrap","protocols","maxRedirects","maxBodyLength","nativeProtocols","scheme","protocol","nativeProtocol","wrappedProtocol","defineProperties","input","callback","spreadUrlObject","isString","parseUrl","validateUrl","hostname","equal","wrappedRequest","parsed","href","urlObject","spread","port","removeMatchingHeaders","lastValue","baseClass","CustomError","properties","destroyRequest","_currentRequest","currentRequest","msecs","destroyOnTimeout","socket","addListener","startTimer","_timeout","clearTimer","searchPos","agents","agent","_currentUrl","_isRedirect","writeNext","finished","trackRedirects","requestHeaders","location","followRedirects","responseUrl","redirects","beforeRedirect","Host","req","getHeader","relative","base","currentHostHeader","currentUrlParts","currentHost","currentUrl","redirectUrl","subdomain","domain","dot","endsWith","isSubdomain","responseDetails","requestDetails","w","plural","msAbs","isPlural","long","fmtLong","fmtShort","wrappedErrors","errorCode","wrappedErrorIsACode","_looksLikeAYErrorCode","cast","_looksLikeAYError","bump","KEYVALUE_REGEXP","parseHTTPHeadersQuotedKeyValueSet","contents","authorizedKeys","requiredKeys","valuesToNormalize","matches","part","partPosition","parsedValues","valuePosition","normalizedName","strippedValue","_checkRequiredKeys","buildHTTPHeadersQuotedKeyValueSet","REQUIRED_WWW_AUTHENTICATE_KEYS","AUTHORIZED_WWW_AUTHENTICATE_KEYS","parseWWWAuthenticateRest","buildWWWAuthenticateRest","parseAuthorizationRest","decodeHash","buildAuthorizationRest","passwordParts","CASE_INSENSITIVE_WWW_AUTHENTICATE_VALUES","REQUIRED_AUTHORIZATION_KEYS","AUTHORIZED_AUTHORIZATION_KEYS","ha1","_computeHash","realm","ha2","nonce","hashsum","AUTHORIZED_ERROR_CODES","BEARER","mechanisms","authMechanisms","authMechanism","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","definition","nmd","paths","__webpack_exports__"],"sourceRoot":""}